(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20682,e=>{"use strict";var a=e.i(71645);let t=0,s=new Map,r=e=>{if(s.has(e))return;let a=setTimeout(()=>{s.delete(e),n({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,a)},l=[],i={toasts:[]};function n(e){i=((e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?r(t):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}})(i,e),l.forEach(e=>{e(i)})}function o({...e}){let a=(t=(t+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>n({type:"DISMISS_TOAST",toastId:a});return n({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>n({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function c(){let[e,t]=a.useState(i);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>n({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>c])},3116,e=>{"use strict";let a=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>a],3116)},43531,e=>{"use strict";var a=e.i(78745);e.s(["Check",()=>a.default])},43432,e=>{"use strict";let a=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>a],43432)},64030,e=>{"use strict";let a=(0,e.i(75254).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);e.s(["Trophy",()=>a],64030)},63270,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(30030),r=e.i(30207),l=e.i(34620),i=e.i(48425),n="Avatar",[o,c]=(0,s.createContextScope)(n),[d,m]=o(n),h=t.forwardRef((e,s)=>{let{__scopeAvatar:r,...l}=e,[n,o]=t.useState("idle");return(0,a.jsx)(d,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:(0,a.jsx)(i.Primitive.span,{...l,ref:s})})});h.displayName=n;var x="AvatarImage",u=t.forwardRef((e,s)=>{let{__scopeAvatar:n,src:o,onLoadingStatusChange:c=()=>{},...d}=e,h=m(x,n),u=function(e,a){let[s,r]=t.useState("idle");return(0,l.useLayoutEffect)(()=>{if(!e)return void r("error");let t=!0,s=new window.Image,l=e=>()=>{t&&r(e)};return r("loading"),s.onload=l("loaded"),s.onerror=l("error"),s.src=e,a&&(s.referrerPolicy=a),()=>{t=!1}},[e,a]),s}(o,d.referrerPolicy),p=(0,r.useCallbackRef)(e=>{c(e),h.onImageLoadingStatusChange(e)});return(0,l.useLayoutEffect)(()=>{"idle"!==u&&p(u)},[u,p]),"loaded"===u?(0,a.jsx)(i.Primitive.img,{...d,ref:s,src:o}):null});u.displayName=x;var p="AvatarFallback",g=t.forwardRef((e,s)=>{let{__scopeAvatar:r,delayMs:l,...n}=e,o=m(p,r),[c,d]=t.useState(void 0===l);return t.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>d(!0),l);return()=>window.clearTimeout(e)}},[l]),c&&"loaded"!==o.imageLoadingStatus?(0,a.jsx)(i.Primitive.span,{...n,ref:s}):null});g.displayName=p;var f=e.i(47163);function y({className:e,...t}){return(0,a.jsx)(h,{"data-slot":"avatar",className:(0,f.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function v({className:e,...t}){return(0,a.jsx)(u,{"data-slot":"avatar-image",className:(0,f.cn)("aspect-square size-full",e),...t})}function b({className:e,...t}){return(0,a.jsx)(g,{"data-slot":"avatar-fallback",className:(0,f.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}e.s(["Avatar",()=>y,"AvatarFallback",()=>b,"AvatarImage",()=>v],63270)},71428,69638,31319,30896,e=>{"use strict";var a=e.i(43476),t=e.i(47163);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"skeleton",className:(0,t.cn)("bg-accent animate-pulse rounded-md",e),...s})}e.s(["Skeleton",()=>s],71428);let r=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>r],69638);var l=e.i(71645),i=e.i(18566),n=e.i(30374),o=e.i(67881),c=e.i(23750),d=e.i(94179),m=e.i(20682),h=e.i(55436),x=e.i(43531),u=e.i(43432),p=e.i(3116),g=e.i(72520),f=e.i(63270),y=e.i(63488),v=e.i(46897),b=e.i(64030);function j({open:e,onOpenChange:t,player:s,onCreateDeal:r}){return s?(0,a.jsx)(n.Dialog,{open:e,onOpenChange:e=>t(e),children:(0,a.jsxs)(n.DialogContent,{className:"sm:max-w-[600px] p-0 gap-0 overflow-hidden bg-white",children:[(0,a.jsxs)(n.DialogHeader,{className:"p-6 pb-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)(n.DialogTitle,{className:"text-xl font-semibold text-gray-900",children:"Matched Player Profile"})}),(0,a.jsx)(n.DialogDescription,{className:"text-gray-500 mt-1",children:"Review player details and take action"})]}),(0,a.jsxs)("div",{className:"p-6 pt-4 space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-start gap-5",children:[(0,a.jsxs)(f.Avatar,{className:"h-20 w-20 border-2 border-white shadow-sm",children:[(0,a.jsx)(f.AvatarImage,{src:s.avatar}),(0,a.jsx)(f.AvatarFallback,{className:"text-2xl font-medium bg-blue-50 text-blue-600",children:s.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 pt-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 truncate",children:s.name}),(0,a.jsx)(d.Badge,{variant:"secondary",className:"bg-green-50 text-green-700 hover:bg-green-50 border-green-100 px-3 py-1 text-xs font-medium rounded-full",children:"Matched"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5 text-sm text-gray-500",children:[(0,a.jsx)(y.Mail,{className:"h-4 w-4 text-gray-400"}),s.email]}),s.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-2.5 text-sm text-gray-500",children:[(0,a.jsx)(u.Phone,{className:"h-4 w-4 text-gray-400"}),s.phone]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-5 rounded-2xl bg-gray-50/50 border border-gray-100 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-900",children:[(0,a.jsx)(b.Trophy,{className:"h-4 w-4 text-blue-600"}),"Program Interest"]}),(0,a.jsx)("p",{className:"text-base text-gray-700 font-medium pl-6",children:s.programme||"General Inquiry"})]}),(0,a.jsxs)("div",{className:"p-5 rounded-2xl bg-gray-50/50 border border-gray-100 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-900",children:[(0,a.jsx)(v.MapPin,{className:"h-4 w-4 text-blue-600"}),"Location"]}),(0,a.jsx)("p",{className:"text-base text-gray-700 font-medium pl-6",children:s.location||"London, UK"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Recent Activity"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 leading-relaxed border border-gray-100 rounded-xl p-4 bg-white shadow-sm",children:["Matched via reply analysis. High intent detected for ",s.programme||"program","."]})]})]}),(0,a.jsxs)(n.DialogFooter,{className:"p-6 pt-2 border-t bg-gray-50/50 flex items-center justify-end gap-3",children:[(0,a.jsx)(o.Button,{variant:"outline",onClick:()=>t(!1),className:"bg-white hover:bg-gray-50 text-gray-700 border-gray-200 px-6",children:"Close"}),(0,a.jsxs)(o.Button,{onClick:r,className:"gap-2 bg-blue-600 text-white hover:bg-blue-700 shadow-sm px-6",children:["Create Deal",(0,a.jsx)(g.ArrowRight,{className:"h-4 w-4"})]})]})]})}):null}e.s(["MatchedPlayerDialog",()=>j],31319);let N=[{id:"1",fromName:null,fromNumber:"+44 7700 900123",message:"Hi, I'm interested in the US College pathway. What are the next steps?",receivedAt:"2h ago",timestamp:new Date(Date.now()-72e5).toISOString(),status:"unmatched"},{id:"2",fromName:"Sarah Mensah",fromNumber:"+233 24 555 0198",message:"Thanks for the info! When does the next recruitment camp start?",receivedAt:"5h ago",timestamp:new Date(Date.now()-18e6).toISOString(),status:"unmatched"},{id:"3",fromName:null,fromNumber:"+44 7700 900456",message:"I've submitted my application. Can someone confirm it was received?",receivedAt:"1d ago",timestamp:new Date(Date.now()-864e5).toISOString(),status:"unmatched"}],w=[{id:"101",name:"Sarah Mensah",email:"sarah.m@example.com",phone:"+233 24 555 0198",programme:"US College 2026",status:"In pipeline"},{id:"102",name:"David Osei",email:"david.o@example.com",phone:"+233 20 123 4567",programme:"US College 2026",status:"Contacted"},{id:"103",name:"Grace Owusu",email:"grace.o@example.com",phone:"+233 27 555 0167",programme:"European Academy",status:"Interview"},{id:"104",name:"Kwame Asante",email:"kwame.a@example.com",phone:"+44 7700 900123",programme:"US College 2027",status:"Contacted"},{id:"105",name:"Akua Boateng",email:"akua.b@example.com",phone:"+233 50 789 0123",programme:"US College 2026",status:"In pipeline"},{id:"106",name:"Kofi Adjei",email:"kofi.a@example.com",phone:"+44 7700 900456",programme:"UK Programme",status:"Signed"}];function S({replyId:e,open:t,onClose:r,onSuccess:f}){let y=(0,i.useRouter)(),[v,b]=(0,l.useState)(null),[S,C]=(0,l.useState)([]),[k,A]=(0,l.useState)(""),[T,D]=(0,l.useState)(null),[M,I]=(0,l.useState)(!1),[P,E]=(0,l.useState)(!1),[O,R]=(0,l.useState)(null),[U,L]=(0,l.useState)(!1),{toast:B}=(0,m.useToast)();(0,l.useEffect)(()=>{e&&t?_():(b(null),C([]),A(""),D(null))},[e,t]);let _=async()=>{if(e){I(!0);try{let a=N.find(a=>a.id===e);a&&b(a)}catch(e){console.error("[v0] Error fetching reply details:",e)}finally{I(!1)}}},F=async()=>{if(e&&T){E(!0);try{await new Promise(e=>setTimeout(e,500)),B({title:"Reply matched",description:"SMS reply has been linked to the player."}),f(),r()}catch(e){B({title:"Error",description:"Failed to match reply. Please try again.",variant:"destructive"})}finally{E(!1)}}},H=async()=>{if(e){E(!0);try{await new Promise(e=>setTimeout(e,300)),B({title:"Marked as spam",description:"SMS reply has been marked as spam."}),f(),r()}catch(e){B({title:"Error",description:"Failed to mark as spam. Please try again.",variant:"destructive"})}finally{E(!1)}}};return S.find(e=>e.id===T),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Dialog,{open:t,onOpenChange:r,children:(0,a.jsxs)(n.DialogContent,{className:"sm:max-w-[600px] p-0 gap-0 overflow-hidden bg-white",children:[(0,a.jsxs)(n.DialogHeader,{className:"p-6 pb-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)(n.DialogTitle,{className:"text-xl font-semibold text-gray-900",children:"Match SMS Reply"})}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Link this message to an existing player profile"})]}),M?(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)(s,{className:"h-32 w-full bg-gray-100 rounded-xl"}),(0,a.jsx)(s,{className:"h-64 w-full bg-gray-100 rounded-xl"})]}):v?(0,a.jsx)("div",{className:"flex-1 overflow-y-auto max-h-[60vh]",children:(0,a.jsxs)("div",{className:"p-6 pt-4 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-md bg-blue-50 text-blue-700 border border-blue-100",children:[(0,a.jsx)(u.Phone,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:v.fromNumber})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[(0,a.jsx)(p.Clock,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{children:v.receivedAt})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100 relative",children:[(0,a.jsx)("div",{className:"absolute -left-1.5 top-4 w-3 h-3 bg-gray-50 border-l border-t border-gray-100 transform -rotate-45"}),(0,a.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:v.message})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.Search,{className:"absolute left-3 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-gray-400"}),(0,a.jsx)(c.Input,{placeholder:"Search for a player to link...",value:k,onChange:e=>(e=>{if(A(e),!e.trim())return void C([]);let a=e.toLowerCase();C(w.filter(t=>t.name.toLowerCase().includes(a)||t.email.toLowerCase().includes(a)||t.phone.includes(e)||t.id.includes(e)))})(e.target.value),className:"pl-9 h-9 text-sm bg-white",autoFocus:!0})]}),S.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,a.jsx)("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Search Results"}),(0,a.jsxs)("span",{className:"bg-gray-100 text-gray-600 text-[10px] px-1.5 py-0.5 rounded-full font-medium",children:[S.length," found"]})]}),S.map(e=>(0,a.jsxs)("div",{onClick:()=>D(e.id),className:`group relative flex items-center justify-between p-3 rounded-lg border transition-all cursor-pointer ${T===e.id?"bg-blue-50 border-blue-200 shadow-sm":"bg-white border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,a.jsx)(d.Badge,{variant:"secondary",className:"text-[10px] px-1.5 py-0 h-5",children:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,a.jsx)(u.Phone,{className:"h-3 w-3 text-gray-400"}),(0,a.jsx)("span",{children:e.phone}),(0,a.jsx)("span",{className:"w-0.5 h-0.5 rounded-full bg-gray-300"}),(0,a.jsx)("span",{children:e.programme})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Button,{variant:"ghost",size:"sm",className:"h-8 px-3 text-xs font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:a=>{a.stopPropagation(),R(e),L(!0)},children:"View"}),(0,a.jsx)("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center transition-all ${T===e.id?"border-blue-500 bg-blue-500":"border-gray-300 group-hover:border-blue-400"}`,children:T===e.id&&(0,a.jsx)(x.Check,{className:"h-3 w-3 text-white"})})]})]},e.id))]}),k&&0===S.length&&(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500 text-sm",children:['No players found matching "',k,'"']})]})]})}):null,(0,a.jsxs)("div",{className:"p-6 pt-4 border-t bg-gray-50/50 flex items-center justify-between gap-3",children:[(0,a.jsx)("button",{onClick:H,disabled:P,className:"text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors px-2",children:"Mark as spam"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(o.Button,{variant:"outline",onClick:r,className:"bg-white hover:bg-gray-50 text-gray-700 border-gray-200",children:"Cancel"}),T?(0,a.jsxs)(o.Button,{onClick:()=>{if(!T)return;let e=w.find(e=>e.id===T);if(e){let a=new URLSearchParams({action:"create_deal",playerId:e.id,playerName:e.name,playerEmail:e.email,playerPhone:e.phone});y.push(`/pipelines?${a.toString()}`),r()}},className:"gap-2 bg-blue-600 hover:bg-blue-700 text-white shadow-sm",children:["Create Deal",(0,a.jsx)(g.ArrowRight,{className:"h-4 w-4"})]}):(0,a.jsx)(o.Button,{onClick:F,disabled:!T||P,className:"bg-blue-600 hover:bg-blue-700 text-white shadow-sm",children:P?"Linking...":"Link to Player"})]})]})]})}),(0,a.jsx)(j,{open:U,onOpenChange:L,player:O,onCreateDeal:()=>{if(O){let e=new URLSearchParams({action:"create_deal",playerId:O.id,playerName:O.name,playerEmail:O.email,playerPhone:O.phone});y.push(`/pipelines?${e.toString()}`),L(!1),r()}}})]})}e.s(["MatchReplyDrawer",()=>S],30896)},25936,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(70065),r=e.i(67881),l=e.i(94179),i=e.i(71428),n=e.i(72520),o=e.i(69638),c=e.i(22016),d=e.i(18566),m=e.i(30896);let h=[{id:"1",phoneNumber:"+44 7700 900123",messageText:"Hi, I'm interested in the US College pathway. What are the next steps?",receivedAt:new Date(Date.now()-72e5).toISOString(),status:"unmatched",player:null},{id:"2",phoneNumber:"+233 24 555 0198",messageText:"Thanks for the info! When does the next recruitment camp start?",receivedAt:new Date(Date.now()-18e6).toISOString(),status:"unmatched",player:{id:"sarah-123",name:"Sarah Mensah",programmeName:"US College Soccer"}},{id:"3",phoneNumber:"+44 7700 900456",messageText:"I've submitted my application. Can someone confirm it was received?",receivedAt:new Date(Date.now()-864e5).toISOString(),status:"unmatched",player:null}];function x(){let e=(0,d.useRouter)(),[x,u]=(0,t.useState)([]),[p,g]=(0,t.useState)(0),[f,y]=(0,t.useState)(!0),[v,b]=(0,t.useState)(null);(0,t.useEffect)(()=>{j()},[]);let j=async()=>{y(!0);try{let e=await fetch("/api/sms-replies?status=unmatched&limit=4"),a=await fetch("/api/sms-replies?status=unmatched&countOnly=true");if(e.ok&&a.ok){let t=await e.json(),s=await a.json();t&&t.length>0?(u(t),g(s.count||t.length)):(u(h),g(h.length))}else u(h),g(h.length)}catch(e){console.error("[v0] Error fetching SMS replies:",e),u(h),g(h.length)}finally{y(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.Card,{className:"overflow-hidden rounded-[14px] border border-[#E1E5EF] shadow-sm transition-all duration-200 hover:shadow-[0_2px_8px_rgba(10,71,177,0.1)]",children:[(0,a.jsx)("div",{className:"h-3 bg-gradient-to-b from-[#EAF1FD] to-white"}),(0,a.jsx)(s.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s.CardTitle,{className:"text-sm uppercase tracking-wide py-0.5",style:{fontFamily:"'Oswald', sans-serif",fontWeight:500,letterSpacing:"0.7px",color:"#0A47B1"},children:"Unmatched SMS Replies"}),p>0&&(0,a.jsxs)(l.Badge,{variant:"secondary",className:"bg-orange-100 text-orange-700 hover:bg-orange-100 font-medium",children:[p," to review"]})]}),(0,a.jsx)(s.CardDescription,{className:"mt-1 text-sm text-gray-600",children:"Recent messages awaiting response."})]}),(0,a.jsx)(c.default,{href:"/sms-replies?status=unmatched",children:(0,a.jsxs)(r.Button,{size:"sm",className:"gap-2",children:["Review Replies",(0,a.jsx)(n.ArrowRight,{className:"h-3 w-3"})]})})]})}),(0,a.jsx)(s.CardContent,{children:f?(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)(i.Skeleton,{className:"h-16 w-full bg-gray-200"})},e))}):x.length>0?(0,a.jsx)("div",{className:"space-y-2",children:x.map(t=>(0,a.jsxs)("div",{className:"flex items-start gap-3 rounded-lg border border-gray-200 bg-white p-3 transition-colors hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:t.player?.name||"Unknown number"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"•"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:t.phoneNumber})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 truncate",children:((e,a=80)=>e.length<=a?e:e.substring(0,a)+"...")(t.messageText)}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(e=>{let a=new Date,t=new Date(e),s=Math.floor((a.getTime()-t.getTime())/6e4);if(s<60)return`${s}m ago`;let r=Math.floor(s/60);if(r<24)return`${r}h ago`;let l=Math.floor(r/24);return`${l}d ago`})(t.receivedAt)})]}),(0,a.jsx)(r.Button,{size:"sm",variant:"outline",className:"shrink-0",onClick:()=>{var a;return a=t.id,void e.push(`/sms-replies?replyId=${a}`)},children:"Match"})]},t.id))}):(0,a.jsxs)("div",{className:"py-12 text-center",children:[(0,a.jsx)("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-50",children:(0,a.jsx)(o.CheckCircle,{className:"h-8 w-8 text-green-500"})}),(0,a.jsx)("p",{className:"mt-4 text-sm font-medium text-gray-900",children:"No unmatched replies — you're all caught up."})]})})]}),(0,a.jsx)(m.MatchReplyDrawer,{replyId:v,open:!!v,onClose:()=>b(null),onSuccess:()=>{b(null),j()}})]})}e.s(["UnmatchedReplies",()=>x])}]);