(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60434,e=>{"use strict";let t=(0,e.i(75254).default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["default",()=>t])},70065,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>n,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>l])},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},66142,e=>{"use strict";var t=e.i(43476),s=e.i(20755),a=e.i(67881),r=e.i(18566);function l({user:e}){let l=(0,r.useRouter)(),i=(0,s.createClient)(),n=async()=>{await i.auth.signOut(),l.push("/auth/login")},c=e.email?.split("@")[0].split(".").map(e=>e[0]).join("").toUpperCase().slice(0,2)||"U";return(0,t.jsx)("header",{className:"border-b border-gray-200 bg-white",children:(0,t.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-600",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),(0,t.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"IFG Player Portal"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"hidden flex-col items-end sm:flex",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.email?.split("@")[0]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Player"})]}),(0,t.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-blue-100 text-sm font-semibold text-blue-600",children:c}),(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",onClick:n,className:"hidden sm:inline-flex",children:"Sign out"})]})]})})})}e.s(["PortalHeader",()=>l])},73754,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(70065),r=e.i(31278);function l(){let[e,l]=(0,s.useState)(null),[i,n]=(0,s.useState)(!0);if((0,s.useEffect)(()=>{fetch("/api/me").then(e=>e.json()).then(e=>{l(e),n(!1)}).catch(()=>n(!1))},[]),i)return(0,t.jsx)(a.Card,{className:"p-6",children:(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(r.Loader2,{className:"h-6 w-6 animate-spin text-gray-400"})})});if(!e)return null;let c="Active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800";return(0,t.jsxs)(a.Card,{className:"p-6",children:[(0,t.jsx)("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Player summary"}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Name"}),(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Programme"}),(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.programme})]}),e.recruiter_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Recruiter"}),(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.recruiter_name}),e.recruiter_email&&(0,t.jsx)("a",{href:`mailto:${e.recruiter_email}`,className:"text-sm text-blue-600 hover:underline",children:e.recruiter_email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,t.jsx)("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${c}`,children:e.status})]})]})]})}e.s(["PlayerSummary",()=>l])},22625,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(70065),r=e.i(67881),l=e.i(31278);function i(){let[e,i]=(0,s.useState)(null),[n,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(!0);if((0,s.useEffect)(()=>{Promise.all([fetch("/api/me/balance"),fetch("/api/me/invoices")]).then(([e,t])=>Promise.all([e.json(),t.json()])).then(([e,t])=>{i(e);let s=t.find(e=>"unpaid"===e.status||"overdue"===e.status);s&&c(s.payment_url),m(!1)}).catch(()=>m(!1))},[]),d)return(0,t.jsx)(a.Card,{className:"p-6",children:(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(l.Loader2,{className:"h-6 w-6 animate-spin text-gray-400"})})});if(!e)return null;let x=t=>new Intl.NumberFormat("en-GB",{style:"currency",currency:e.currency}).format(t);return(0,t.jsxs)(a.Card,{className:"p-6",children:[(0,t.jsx)("h2",{className:"mb-6 text-lg font-semibold text-gray-900",children:"Your balance"}),(0,t.jsxs)("div",{className:"grid gap-6 sm:grid-cols-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Total programme cost"}),(0,t.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:x(e.total_programme_cost)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Paid so far"}),(0,t.jsx)("p",{className:"mt-1 text-2xl font-semibold text-green-600",children:x(e.paid_so_far)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Amount due"}),(0,t.jsx)("p",{className:"mt-1 text-2xl font-semibold text-orange-600",children:x(e.amount_due)})]})]}),e.amount_due>0&&n&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(r.Button,{asChild:!0,className:"w-full sm:w-auto",children:(0,t.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:"Pay now"})})})]})}e.s(["BalanceCard",()=>i])},92676,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(70065),r=e.i(67881),l=e.i(31278);function i(){let[e,i]=(0,s.useState)([]),[n,c]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{fetch("/api/me/invoices").then(e=>e.json()).then(e=>{i(e),c(!1)}).catch(()=>c(!1))},[]),n)?(0,t.jsx)(a.Card,{className:"p-6",children:(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(l.Loader2,{className:"h-6 w-6 animate-spin text-gray-400"})})}):(0,t.jsxs)(a.Card,{className:"p-6",children:[(0,t.jsx)("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Your invoices"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-gray-500",children:"Invoice #"}),(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-gray-500",children:"Description"}),(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-gray-500",children:"Amount"}),(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-gray-500",children:"Status"}),(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-gray-500",children:"Due date"}),(0,t.jsx)("th",{className:"pb-3 text-right text-sm font-medium text-gray-500",children:"Action"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>{var s;let a,l;return(0,t.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,t.jsx)("td",{className:"py-4 text-sm font-medium text-gray-900",children:e.invoice_number}),(0,t.jsx)("td",{className:"py-4 text-sm text-gray-600",children:e.description}),(0,t.jsx)("td",{className:"py-4 text-sm font-medium text-gray-900",children:(a=e.amount,l=e.currency,new Intl.NumberFormat("en-GB",{style:"currency",currency:l}).format(a))}),(0,t.jsx)("td",{className:"py-4",children:(s=e.status,(0,t.jsx)("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${{paid:"bg-green-100 text-green-800",unpaid:"bg-blue-100 text-blue-800",overdue:"bg-red-100 text-red-800"}[s]}`,children:s.charAt(0).toUpperCase()+s.slice(1)}))}),(0,t.jsx)("td",{className:"py-4 text-sm text-gray-600",children:new Date(e.due_date).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})}),(0,t.jsx)("td",{className:"py-4 text-right",children:"paid"===e.status?(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Paid"}):(0,t.jsx)(r.Button,{size:"sm",asChild:!0,children:(0,t.jsx)("a",{href:e.payment_url,target:"_blank",rel:"noopener noreferrer",children:"Pay"})})})]},e.id)})})]})})]})}e.s(["InvoicesTable",()=>i])},96229,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(70065),r=e.i(67881),l=e.i(31278),i=e.i(95468),n=e.i(60434),n=n;function c(){let[e,c]=(0,s.useState)([]),[d,m]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{fetch("/api/me/checklist").then(e=>e.json()).then(e=>{c(e),m(!1)}).catch(()=>m(!1))},[]),d)?(0,t.jsx)(a.Card,{className:"p-6",children:(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(l.Loader2,{className:"h-6 w-6 animate-spin text-gray-400"})})}):0===e.length?null:(0,t.jsxs)(a.Card,{className:"p-6",children:[(0,t.jsx)("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Required documents"}),(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:["completed"===e.status?(0,t.jsx)(i.CheckCircle2,{className:"h-5 w-5 text-green-600"}):(0,t.jsx)(n.default,{className:"h-5 w-5 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"completed"===e.status?"Completed":"Missing"})]})]}),e.upload_enabled&&"completed"!==e.status&&(0,t.jsx)(r.Button,{size:"sm",variant:"outline",children:"Upload"})]},e.id))})]})}e.s(["ChecklistSection",()=>c],96229)}]);