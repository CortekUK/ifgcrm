(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75567,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566),i=e.i(67881),r=e.i(30374),l=e.i(23750),n=e.i(10708),d=e.i(62870),c=e.i(19036),o=e.i(7233),m=e.i(75254);let x=(0,m.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var h=e.i(32095),u=e.i(20682);function p(){let[e,a]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,j]=(0,t.useState)(!1),[v,f]=(0,t.useState)(null),[b,N]=(0,t.useState)(null),[y,w]=(0,t.useState)({name:"",pipelineId:"none",active:!0}),{toast:S}=(0,u.useToast)();(0,t.useEffect)(()=>{C(),A()},[]);let C=async()=>{let e=await fetch("/api/settings/programmes");a(await e.json())},A=async()=>{let e=await fetch("/api/pipelines");p(await e.json())},k=()=>{f(null),w({name:"",pipelineId:"none",active:!0}),j(!0)},D=async e=>{(await fetch(`/api/settings/programmes/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!e.active})})).ok&&(S({title:`Programme ${!e.active?"activated":"deactivated"}`}),C())},I=async e=>{e.preventDefault();let s=v?`/api/settings/programmes/${v.id}`:"/api/settings/programmes",t=v?"PATCH":"POST";(await fetch(s,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify({name:y.name,pipelineId:"none"===y.pipelineId?null:Number.parseInt(y.pipelineId),active:y.active})})).ok&&(S({title:v?"Programme updated":"Programme created"}),j(!1),w({name:"",pipelineId:"none",active:!0}),f(null),C())};return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Programmes"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Manage active recruitment programmes and link them to pipelines"})]}),(0,s.jsxs)(i.Button,{onClick:k,size:"sm",className:"gradient-primary",children:[(0,s.jsx)(o.Plus,{className:"mr-2 h-4 w-4"}),"Add programme"]})]})}),0===e.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted py-12",children:[(0,s.jsx)("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:(0,s.jsx)(h.GraduationCap,{className:"h-8 w-8 text-muted-foreground"})}),(0,s.jsx)("h3",{className:"mb-2 text-sm font-medium text-foreground",children:"No programmes yet"}),(0,s.jsx)("p",{className:"mb-4 text-sm text-muted-foreground",children:"Create your first one to start assigning players."}),(0,s.jsxs)(i.Button,{onClick:k,size:"sm",className:"gradient-primary",children:[(0,s.jsx)(o.Plus,{className:"mr-2 h-4 w-4"}),"Add programme"]})]}):(0,s.jsx)("div",{className:"overflow-hidden rounded-lg border border-border shadow-sm",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-border",children:[(0,s.jsx)("thead",{className:"bg-muted",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Programme name"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Linked pipeline"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Active"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-border bg-card",children:e.map((e,t)=>(0,s.jsxs)("tr",{onMouseEnter:()=>N(e.id),onMouseLeave:()=>N(null),className:`transition-all duration-200 ${t%2==0?"bg-card":"bg-muted/30"} hover:bg-muted`,children:[(0,s.jsx)("td",{className:"whitespace-nowrap px-4 py-3 text-sm font-medium text-foreground",children:e.name}),(0,s.jsx)("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-muted-foreground",children:e.pipelineName||"—"}),(0,s.jsx)("td",{className:"whitespace-nowrap px-4 py-3 text-sm",children:(0,s.jsx)(c.Switch,{checked:e.active,onCheckedChange:()=>D(e),className:"transition-all duration-200"})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-4 py-3 text-right text-sm",children:(0,s.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{f(e),w({name:e.name,pipelineId:e.pipelineId?e.pipelineId.toString():"none",active:e.active}),j(!0)},className:`transition-opacity duration-200 ${b===e.id?"opacity-100":"opacity-0"}`,children:(0,s.jsx)(x,{className:"h-4 w-4"})})})]},e.id))})]})}),(0,s.jsx)(r.Dialog,{open:g,onOpenChange:j,children:(0,s.jsxs)(r.DialogContent,{className:"max-w-2xl max-h-[90vh] my-4 flex flex-col overflow-hidden p-0",children:[(0,s.jsx)("div",{className:"px-6 pt-6 pb-4 border-b",children:(0,s.jsxs)(r.DialogHeader,{children:[(0,s.jsx)(r.DialogTitle,{children:v?"Edit programme":"Add programme"}),(0,s.jsx)(r.DialogDescription,{children:v?"Update the programme details below":"Create a new programme for managing player recruitment"})]})}),(0,s.jsx)("form",{id:"programme-form",onSubmit:I,className:"overflow-y-auto px-6 py-4 flex-1",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"name",children:"Programme name *"}),(0,s.jsx)(l.Input,{id:"name",value:y.name,onChange:e=>w({...y,name:e.target.value}),placeholder:"e.g. US College 2026",required:!0,className:"bg-background"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"pipeline",children:"Linked pipeline"}),(0,s.jsxs)(d.Select,{value:y.pipelineId,onValueChange:e=>w({...y,pipelineId:e}),children:[(0,s.jsx)(d.SelectTrigger,{id:"pipeline",className:"bg-background",children:(0,s.jsx)(d.SelectValue,{placeholder:"Select a pipeline"})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"none",children:"None"}),m.map(e=>(0,s.jsx)(d.SelectItem,{value:e.id.toString(),children:e.name},e.id))]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border bg-card p-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"active",className:"font-medium",children:"Active"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Make this programme available for assignment"})]}),(0,s.jsx)(c.Switch,{id:"active",checked:y.active,onCheckedChange:e=>w({...y,active:e}),className:"transition-all duration-150"})]})]})}),(0,s.jsx)("div",{className:"px-6 py-4 border-t",children:(0,s.jsxs)(r.DialogFooter,{children:[(0,s.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>j(!1),children:"Cancel"}),(0,s.jsx)(i.Button,{type:"submit",form:"programme-form",className:"gradient-primary",children:v?"Save changes":"Save programme"})]})})]})})]})}var g=e.i(94179),j=e.i(81947),v=e.i(63209),f=e.i(63488);function b(){let[e,a]=(0,t.useState)([]),[d,m]=(0,t.useState)(!1),[x,h]=(0,t.useState)({displayName:"",fromEmail:"",verified:!1,isDefault:!1}),{toast:p}=(0,u.useToast)();(0,t.useEffect)(()=>{b()},[]);let b=async()=>{let e=await fetch("/api/settings/senders");a(await e.json())},N=async e=>{e.preventDefault(),(await fetch("/api/settings/senders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).ok&&(p({title:"Sender identity created successfully"}),m(!1),h({displayName:"",fromEmail:"",verified:!1,isDefault:!1}),b())};return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Email senders"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage sender identities for outbound campaigns"})]}),(0,s.jsxs)(i.Button,{onClick:()=>m(!0),size:"sm",className:"gradient-primary",children:[(0,s.jsx)(o.Plus,{className:"mr-2 h-4 w-4"}),"Add sender"]})]})}),(0,s.jsxs)(j.Alert,{className:"mb-6 border-blue-200 bg-blue-50",children:[(0,s.jsx)(v.AlertCircle,{className:"h-4 w-4 text-blue-600"}),(0,s.jsx)(j.AlertDescription,{className:"text-blue-900",children:"Verification required before sending emails. Check your DNS settings."})]}),0===e.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 py-12",children:[(0,s.jsx)("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:(0,s.jsx)(f.Mail,{className:"h-8 w-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"mb-2 text-sm font-medium text-gray-900",children:"No sender identities yet"}),(0,s.jsx)("p",{className:"mb-4 text-sm text-gray-500",children:"Add your first sender to start sending campaigns."}),(0,s.jsxs)(i.Button,{onClick:()=>m(!0),size:"sm",className:"gradient-primary",children:[(0,s.jsx)(o.Plus,{className:"mr-2 h-4 w-4"}),"Add sender"]})]}):(0,s.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Display name"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"From email"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Verified"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.map((e,t)=>(0,s.jsxs)("tr",{className:`transition-colors duration-200 ${t%2==0?"bg-white":"bg-gray-50"} hover:bg-gray-100`,children:[(0,s.jsx)("td",{className:"whitespace-nowrap px-4 py-3 text-sm font-medium text-gray-900",children:e.displayName}),(0,s.jsx)("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-gray-500",children:e.fromEmail}),(0,s.jsx)("td",{className:"whitespace-nowrap px-4 py-3 text-sm",children:(0,s.jsx)(g.Badge,{variant:e.verified?"default":"secondary",className:"bg-green-100 text-green-800",children:e.verified?"Yes":"No"})}),(0,s.jsx)("td",{className:"whitespace-nowrap px-4 py-3 text-sm",children:e.isDefault&&(0,s.jsx)(g.Badge,{variant:"outline",className:"border-blue-200 bg-blue-50 text-blue-700",children:"Default"})})]},e.id))})]})}),(0,s.jsx)(r.Dialog,{open:d,onOpenChange:m,children:(0,s.jsxs)(r.DialogContent,{className:"max-w-xl max-h-[90vh] my-4 overflow-hidden p-0 flex flex-col",children:[(0,s.jsxs)(r.DialogHeader,{children:[(0,s.jsx)(r.DialogTitle,{children:"Add sender"}),(0,s.jsx)(r.DialogDescription,{children:"Add a new email identity for outbound campaigns"})]}),(0,s.jsxs)("form",{onSubmit:N,className:"mt-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"displayName",children:"Display name *"}),(0,s.jsx)(l.Input,{id:"displayName",value:x.displayName,onChange:e=>h({...x,displayName:e.target.value}),placeholder:"e.g. Nathan Bibby",required:!0,className:"bg-white"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"fromEmail",children:"From email *"}),(0,s.jsx)(l.Input,{id:"fromEmail",type:"email",value:x.fromEmail,onChange:e=>h({...x,fromEmail:e.target.value}),placeholder:"e.g. nathan@macclesfieldfc.com",required:!0,className:"bg-white"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-white p-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"verified",className:"font-medium",children:"Verified"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"DNS verification complete"})]}),(0,s.jsx)(c.Switch,{id:"verified",checked:x.verified,onCheckedChange:e=>h({...x,verified:e}),className:"transition-all duration-150"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-white p-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"isDefault",className:"font-medium",children:"Default for notifications"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Use this sender by default"})]}),(0,s.jsx)(c.Switch,{id:"isDefault",checked:x.isDefault,onCheckedChange:e=>h({...x,isDefault:e}),className:"transition-all duration-150"})]}),(0,s.jsxs)(j.Alert,{className:"border-blue-200 bg-blue-50",children:[(0,s.jsx)(v.AlertCircle,{className:"h-4 w-4 text-blue-600"}),(0,s.jsx)(j.AlertDescription,{className:"text-xs text-blue-900",children:"Verification required before sending emails"})]})]}),(0,s.jsxs)(r.DialogFooter,{className:"mt-6",children:[(0,s.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,s.jsx)(i.Button,{type:"submit",className:"gradient-primary",children:"Add sender"})]})]})]})})]})}var N=e.i(63270),y=e.i(63415),w=e.i(61911),S=e.i(55436),C=e.i(23585),A=e.i(86536),k=e.i(32811);let D=(0,m.default)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var I=e.i(27612),B=e.i(82293),T=e.i(98919);let F=(0,m.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var M=e.i(12426);let P=(0,m.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),L=[{id:1,name:"Neema Ghanbarinia",email:"neemaghanbarinia@gmail.com",role:"admin",status:"active",lastActive:"2 hours ago",createdAt:"2025-01-15",teams:["European Scouts","Premier League"],recentActivity:[{action:"Updated player profile: John Smith",timestamp:"2 hours ago"},{action:"Sent campaign: Summer Recruitment",timestamp:"5 hours ago"}]},{id:2,name:"Sarah Johnson",email:"sarah.j@ifg.com",role:"manager",status:"active",lastActive:"1 day ago",createdAt:"2025-02-10",teams:["Championship Scouts"],recentActivity:[{action:"Approved invoice #INV-2034",timestamp:"1 day ago"},{action:"Created new pipeline stage",timestamp:"2 days ago"}]},{id:3,name:"Michael Chen",email:"m.chen@ifg.com",role:"recruiter",status:"active",lastActive:"3 hours ago",createdAt:"2025-03-05",teams:["Asian Scouts"],recentActivity:[{action:"Added 5 new players",timestamp:"3 hours ago"}]},{id:4,name:"Emma Williams",email:"emma.w@ifg.com",role:"finance",status:"active",lastActive:"5 hours ago",createdAt:"2025-02-20",teams:["Finance Team"],recentActivity:[{action:"Processed payment #PAY-5032",timestamp:"5 hours ago"}]},{id:5,name:"James Brown",email:"james.b@ifg.com",role:"viewer",status:"invited",lastActive:"Never",createdAt:"2025-11-08",teams:[],recentActivity:[]},{id:6,name:"Lisa Anderson",email:"lisa.a@ifg.com",role:"recruiter",status:"suspended",lastActive:"2 weeks ago",createdAt:"2024-12-01",teams:["South American Scouts"],recentActivity:[]}];function V(){let[e,a]=(0,t.useState)(L),[c,m]=(0,t.useState)(""),[x,h]=(0,t.useState)("all"),[p,j]=(0,t.useState)("all"),[v,b]=(0,t.useState)(!1),[V,$]=(0,t.useState)(!1),[E,R]=(0,t.useState)(!1),[U,z]=(0,t.useState)(!1),[O,H]=(0,t.useState)(null),[q,J]=(0,t.useState)(null),[G,K]=(0,t.useState)({name:"",email:"",role:"recruiter"}),{toast:Y}=(0,u.useToast)(),W=e.filter(e=>{let s=e.name.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase()),t="all"===x||e.role===x,a="all"===p||e.status===p;return s&&t&&a}),_=e=>({admin:{className:"bg-destructive/10 text-destructive border-destructive/20",icon:T.Shield},manager:{className:"bg-purple-100 text-purple-700 border-purple-200",icon:k.UserCog},recruiter:{className:"bg-primary/10 text-primary border-primary/20",icon:F},finance:{className:"bg-success/10 text-success border-success/20",icon:M.DollarSign},viewer:{className:"bg-muted text-muted-foreground border-border",icon:P}})[e],Q=e=>({active:"bg-success/10 text-success border-success/20",invited:"bg-primary/10 text-primary border-primary/20",suspended:"bg-destructive/10 text-destructive border-destructive/20"})[e],X=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),Z=e=>{H(e),$(!0)},ee=e=>{let s="suspended"===e.status;H(e),J({type:s?"restore":"suspend",title:s?"Restore user access?":"Suspend user access?",description:s?`${e.name} will be able to log in and access the system again.`:`${e.name} will be unable to log in or access the system.`}),R(!0)};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Users & roles"})}),(0,s.jsxs)(i.Button,{onClick:()=>b(!0),size:"sm",className:"gradient-primary gap-2",children:[(0,s.jsx)(o.Plus,{className:"h-4 w-4"}),"Invite user"]})]}),(0,s.jsxs)("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(S.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(l.Input,{placeholder:"Search name or email…",value:c,onChange:e=>m(e.target.value),className:"pl-9"})]}),(0,s.jsxs)(d.Select,{value:x,onValueChange:h,children:[(0,s.jsx)(d.SelectTrigger,{className:"w-full sm:w-40",children:(0,s.jsx)(d.SelectValue,{placeholder:"All roles"})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"all",children:"All roles"}),(0,s.jsx)(d.SelectItem,{value:"admin",children:"Admin"}),(0,s.jsx)(d.SelectItem,{value:"manager",children:"Manager"}),(0,s.jsx)(d.SelectItem,{value:"recruiter",children:"Recruiter"}),(0,s.jsx)(d.SelectItem,{value:"finance",children:"Finance"}),(0,s.jsx)(d.SelectItem,{value:"viewer",children:"Viewer"})]})]}),(0,s.jsxs)(d.Select,{value:p,onValueChange:j,children:[(0,s.jsx)(d.SelectTrigger,{className:"w-full sm:w-40",children:(0,s.jsx)(d.SelectValue,{placeholder:"All statuses"})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"all",children:"All statuses"}),(0,s.jsx)(d.SelectItem,{value:"active",children:"Active"}),(0,s.jsx)(d.SelectItem,{value:"invited",children:"Invited"}),(0,s.jsx)(d.SelectItem,{value:"suspended",children:"Suspended"})]})]})]}),0===W.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted py-12",children:[(0,s.jsx)("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:(0,s.jsx)(w.Users,{className:"h-8 w-8 text-muted-foreground"})}),(0,s.jsx)("h3",{className:"mb-2 text-sm font-medium text-foreground",children:0===e.length?"No team members yet":"No users found"}),(0,s.jsx)("p",{className:"mb-4 text-sm text-muted-foreground",children:0===e.length?"Invite your first team member to collaborate.":"Try adjusting your search or filters."}),0===e.length&&(0,s.jsxs)(i.Button,{onClick:()=>b(!0),size:"sm",className:"gradient-primary gap-2",children:[(0,s.jsx)(o.Plus,{className:"h-4 w-4"}),"Invite user"]})]}):(0,s.jsx)("div",{className:"overflow-x-auto rounded-lg border border-border bg-card shadow-sm",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"border-b border-border",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"pb-3 pl-4 pt-3 text-left text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Name"}),(0,s.jsx)("th",{className:"pb-3 pt-3 text-left text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Email"}),(0,s.jsx)("th",{className:"pb-3 pt-3 text-left text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Role"}),(0,s.jsx)("th",{className:"pb-3 pt-3 text-left text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Status"}),(0,s.jsx)("th",{className:"pb-3 pt-3 text-left text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Last Active"}),(0,s.jsx)("th",{className:"pb-3 pr-4 pt-3 text-right text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:W.map((e,t)=>{let a=_(e.role),r=a.icon;return(0,s.jsxs)("tr",{className:`border-b border-border/60 transition-colors hover:bg-primary/5 ${t%2==0?"bg-card":"bg-muted/30"}`,style:{height:"58px"},children:[(0,s.jsx)("td",{className:"py-3 pl-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(N.Avatar,{className:"h-8 w-8",children:(0,s.jsx)(N.AvatarFallback,{className:"bg-primary text-xs font-medium text-primary-foreground",children:X(e.name)})}),(0,s.jsx)("span",{className:"text-sm font-medium text-foreground",children:e.name})]})}),(0,s.jsx)("td",{className:"py-3 text-sm text-muted-foreground",children:e.email}),(0,s.jsx)("td",{className:"py-3",children:(0,s.jsxs)(g.Badge,{variant:"outline",className:`gap-1 capitalize ${a.className}`,children:[(0,s.jsx)(r,{className:"h-3 w-3"}),e.role]})}),(0,s.jsx)("td",{className:"py-3",children:(0,s.jsx)(g.Badge,{variant:"outline",className:`capitalize ${Q(e.status)}`,children:e.status})}),(0,s.jsx)("td",{className:"py-3 text-sm text-muted-foreground",children:e.lastActive}),(0,s.jsx)("td",{className:"py-3 pr-4 text-right",children:(0,s.jsxs)(y.DropdownMenu,{children:[(0,s.jsx)(y.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(i.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,s.jsx)(C.MoreVertical,{className:"h-4 w-4"})})}),(0,s.jsxs)(y.DropdownMenuContent,{align:"end",children:[(0,s.jsxs)(y.DropdownMenuItem,{onClick:()=>{H(e),z(!0)},children:[(0,s.jsx)(A.Eye,{className:"mr-2 h-4 w-4"}),"View details"]}),(0,s.jsxs)(y.DropdownMenuItem,{onClick:()=>Z(e),children:[(0,s.jsx)(k.UserCog,{className:"mr-2 h-4 w-4"}),"Change role"]}),"invited"===e.status&&(0,s.jsxs)(y.DropdownMenuItem,{onClick:()=>{Y({title:"Invitation resent",description:`Invitation email sent to ${e.email}`})},children:[(0,s.jsx)(f.Mail,{className:"mr-2 h-4 w-4"}),"Resend invite"]}),(0,s.jsx)(y.DropdownMenuSeparator,{}),(0,s.jsx)(y.DropdownMenuItem,{onClick:()=>ee(e),children:"suspended"===e.status?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.UserCheck,{className:"mr-2 h-4 w-4"}),"Restore"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D,{className:"mr-2 h-4 w-4"}),"Suspend"]})}),(0,s.jsxs)(y.DropdownMenuItem,{onClick:()=>{H(e),J({type:"remove",title:"Remove user permanently?",description:`${e.name} will be permanently removed from your team. This action cannot be undone.`}),R(!0)},className:"text-destructive",children:[(0,s.jsx)(I.Trash2,{className:"mr-2 h-4 w-4"}),"Remove user"]})]})]})})]},e.id)})})]})}),(0,s.jsx)(r.Dialog,{open:v,onOpenChange:b,children:(0,s.jsxs)(r.DialogContent,{children:[(0,s.jsxs)(r.DialogHeader,{children:[(0,s.jsx)(r.DialogTitle,{children:"Invite user"}),(0,s.jsx)(r.DialogDescription,{children:"Send an invitation to join your team"})]}),(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault();let t={id:Math.max(...e.map(e=>e.id))+1,name:G.name,email:G.email,role:G.role,status:"invited",lastActive:"Never",createdAt:new Date().toISOString().split("T")[0],teams:[],recentActivity:[]};a([...e,t]),Y({title:"Invitation sent",description:`Invitation email sent to ${G.email}`}),b(!1),K({name:"",email:"",role:"recruiter"})},children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"invite-name",children:"Full name *"}),(0,s.jsx)(l.Input,{id:"invite-name",value:G.name,onChange:e=>K({...G,name:e.target.value}),placeholder:"e.g. John Smith",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"invite-email",children:"Email *"}),(0,s.jsx)(l.Input,{id:"invite-email",type:"email",value:G.email,onChange:e=>K({...G,email:e.target.value}),placeholder:"e.g. john@example.com",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"invite-role",children:"Role *"}),(0,s.jsxs)(d.Select,{value:G.role,onValueChange:e=>K({...G,role:e}),children:[(0,s.jsx)(d.SelectTrigger,{id:"invite-role",children:(0,s.jsx)(d.SelectValue,{})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"admin",children:"Admin"}),(0,s.jsx)(d.SelectItem,{value:"manager",children:"Manager"}),(0,s.jsx)(d.SelectItem,{value:"recruiter",children:"Recruiter"}),(0,s.jsx)(d.SelectItem,{value:"finance",children:"Finance"}),(0,s.jsx)(d.SelectItem,{value:"viewer",children:"Viewer"})]})]})]})]}),(0,s.jsxs)(r.DialogFooter,{className:"mt-6",children:[(0,s.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),(0,s.jsx)(i.Button,{type:"submit",className:"gradient-primary",children:"Send invite"})]})]})]})}),(0,s.jsx)(r.Dialog,{open:V,onOpenChange:$,children:(0,s.jsxs)(r.DialogContent,{children:[(0,s.jsxs)(r.DialogHeader,{children:[(0,s.jsx)(r.DialogTitle,{children:"Change role"}),(0,s.jsxs)(r.DialogDescription,{children:["Update ",O?.name,"'s role and permissions"]})]}),(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"change-role",children:"Role"}),(0,s.jsxs)(d.Select,{defaultValue:O?.role,children:[(0,s.jsx)(d.SelectTrigger,{id:"change-role",children:(0,s.jsx)(d.SelectValue,{})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"admin",children:"Admin"}),(0,s.jsx)(d.SelectItem,{value:"manager",children:"Manager"}),(0,s.jsx)(d.SelectItem,{value:"recruiter",children:"Recruiter"}),(0,s.jsx)(d.SelectItem,{value:"finance",children:"Finance"}),(0,s.jsx)(d.SelectItem,{value:"viewer",children:"Viewer"})]})]})]})}),(0,s.jsxs)(r.DialogFooter,{children:[(0,s.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>$(!1),children:"Cancel"}),(0,s.jsx)(i.Button,{type:"button",className:"gradient-primary",onClick:()=>{O&&(Y({title:"Role updated",description:`${O.name}'s role has been updated.`}),$(!1),H(null))},children:"Save changes"})]})]})}),(0,s.jsx)(r.Dialog,{open:E,onOpenChange:R,children:(0,s.jsxs)(r.DialogContent,{children:[(0,s.jsxs)(r.DialogHeader,{children:[(0,s.jsx)(r.DialogTitle,{children:q?.title}),(0,s.jsx)(r.DialogDescription,{children:q?.description})]}),(0,s.jsxs)(r.DialogFooter,{children:[(0,s.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>R(!1),children:"Cancel"}),(0,s.jsx)(i.Button,{type:"button",className:q?.type==="remove"?"bg-destructive hover:bg-destructive/90 text-destructive-foreground":"gradient-primary",onClick:()=>{O&&q&&("remove"===q.type?(a(e.filter(e=>e.id!==O.id)),Y({title:"User removed",description:`${O.name} has been removed from your team.`})):"suspend"===q.type?(a(e.map(e=>e.id===O.id?{...e,status:"suspended"}:e)),Y({title:"User suspended",description:`${O.name} has been suspended.`})):"restore"===q.type&&(a(e.map(e=>e.id===O.id?{...e,status:"active"}:e)),Y({title:"User restored",description:`${O.name} has been restored.`})),R(!1),H(null),J(null))},children:q?.type==="remove"?"Remove":q?.type==="suspend"?"Suspend":"Restore"})]})]})}),(0,s.jsx)(r.Dialog,{open:U,onOpenChange:z,children:(0,s.jsxs)(r.DialogContent,{className:"max-w-2xl max-h-[90vh] my-4 overflow-hidden p-0 flex flex-col",children:[(0,s.jsx)(r.DialogHeader,{className:"mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(N.Avatar,{className:"h-12 w-12",children:(0,s.jsx)(N.AvatarFallback,{className:"bg-primary text-sm font-medium text-primary-foreground",children:O&&X(O.name)})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(r.DialogTitle,{children:O?.name}),O&&(0,s.jsx)(g.Badge,{variant:"outline",className:`mt-1 gap-1 capitalize ${_(O.role).className}`,children:O.role})]})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"rounded-lg bg-card p-4 shadow-sm",children:[(0,s.jsx)("h3",{className:"mb-3 text-sm font-semibold text-foreground",children:"Account Information"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email"}),(0,s.jsx)("p",{className:"text-sm text-foreground",children:O?.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Status"}),O&&(0,s.jsx)(g.Badge,{variant:"outline",className:`mt-1 capitalize ${Q(O.status)}`,children:O.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last Active"}),(0,s.jsx)("p",{className:"text-sm text-foreground",children:O?.lastActive})]})]})]}),(0,s.jsxs)("div",{className:"rounded-lg bg-card p-4 shadow-sm",children:[(0,s.jsx)("h3",{className:"mb-3 text-sm font-semibold text-foreground",children:"Teams & Permissions"}),O?.teams&&O.teams.length>0?(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:O.teams.map(e=>(0,s.jsx)(g.Badge,{variant:"secondary",className:"bg-primary/10 text-primary",children:e},e))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No teams assigned"})]}),(0,s.jsxs)("div",{className:"rounded-lg bg-card p-4 shadow-sm",children:[(0,s.jsx)("h3",{className:"mb-3 text-sm font-semibold text-foreground",children:"Recent Activity"}),O?.recentActivity&&O.recentActivity.length>0?(0,s.jsx)("div",{className:"space-y-3",children:O.recentActivity.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"mt-1 h-2 w-2 rounded-full bg-primary"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm text-foreground",children:e.action}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.timestamp})]})]},t))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No recent activity"})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex gap-2 border-t border-border pt-4",children:[(0,s.jsx)(i.Button,{variant:"outline",className:"flex-1 bg-transparent",onClick:()=>{z(!1),O&&Z(O)},children:"Change role"}),(0,s.jsx)(i.Button,{variant:"outline",className:O?.status==="suspended"?"":"border-destructive/20 text-destructive hover:bg-destructive/10",onClick:()=>{z(!1),O&&ee(O)},children:O?.status==="suspended"?"Restore":"Suspend"})]})]})})]})}function $(){let e=(0,a.useSearchParams)(),i=e.get("tab")||"programmes",[r,l]=(0,t.useState)(i);(0,t.useEffect)(()=>{let s=e.get("tab");s&&["programmes","senders","users"].includes(s)&&l(s)},[e]);let n=[{id:"programmes",label:"Programmes",icon:h.GraduationCap},{id:"senders",label:"Email senders",icon:f.Mail},{id:"users",label:"Users & roles",icon:w.Users}];return(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[260px_1fr]",children:[(0,s.jsx)("nav",{className:"flex flex-row gap-2 rounded-lg bg-gray-50 p-2 lg:flex-col",children:n.map(e=>(0,s.jsxs)("button",{onClick:()=>l(e.id),className:`flex items-center gap-3 rounded-lg px-4 py-2.5 text-left text-sm font-medium transition-all duration-200 ${r===e.id?"bg-blue-600 text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-gray-900"}`,children:[(0,s.jsx)(e.icon,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id))}),(0,s.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:["programmes"===r&&(0,s.jsx)(p,{}),"senders"===r&&(0,s.jsx)(b,{}),"users"===r&&(0,s.jsx)(V,{})]})]})}e.s(["SettingsContent",()=>$],75567)}]);