module.exports=[40779,a=>{"use strict";var b=a.i(87924),c=a.i(6331),d=a.i(40695),e=a.i(15618),f=a.i(73320),g=a.i(72131),h=a.i(50944),i=a.i(3130),j=a.i(5522),k=a.i(87682),l=a.i(54161),m=a.i(76504),n=a.i(92258),o=a.i(63588),p=a.i(15115),q=a.i(24569),r=a.i(5151),s=a.i(81560),t=a.i(77156),u=a.i(87532),v=a.i(70106);let w=(0,v.default)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);var x=a.i(77687);function y({onEdit:a,onPreview:c,onUseTemplate:e}){let{toast:f}=(0,x.useToast)(),v=(0,h.useRouter)(),[y,z]=(0,g.useState)([]),[A,B]=(0,g.useState)(!0),[C,D]=(0,g.useState)("all"),[E,F]=(0,g.useState)("all"),[G,H]=(0,g.useState)("updated"),[I,J]=(0,g.useState)("");(0,g.useEffect)(()=>{K()},[]);let K=async()=>{try{let a=await fetch("/api/templates"),b=await a.json();z(b.data||[])}catch(a){console.error("Failed to fetch templates:",a)}finally{B(!1)}},L=async a=>{if(confirm("Are you sure you want to delete this template?"))try{(await fetch(`/api/templates/${a}`,{method:"DELETE"})).ok&&(f({title:"Template deleted",description:"The template has been deleted successfully."}),K())}catch(a){f({title:"Error",description:"Failed to delete template.",variant:"destructive"})}},M=async a=>{try{(await fetch("/api/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,name:`${a.name} (Copy)`,id:void 0})})).ok&&(f({title:"Template duplicated",description:"A copy of the template has been created."}),K())}catch(a){f({title:"Error",description:"Failed to duplicate template.",variant:"destructive"})}},N=y.filter(a=>("all"===C||a.type===C)&&("all"===E||a.category===E)&&(!I||!!a.name.toLowerCase().includes(I.toLowerCase()))).sort((a,b)=>"updated"===G?new Date(b.updated_at).getTime()-new Date(a.updated_at).getTime():"name"===G?a.name.localeCompare(b.name):"usage"===G?b.usage_count-a.usage_count:0);return A?(0,b.jsx)("div",{className:"text-center py-12",children:"Loading templates..."}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(i.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)(k.Select,{value:C,onValueChange:D,children:[(0,b.jsx)(k.SelectTrigger,{className:"w-[140px]",children:(0,b.jsx)(k.SelectValue,{placeholder:"Type"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"all",children:"All Types"}),(0,b.jsx)(k.SelectItem,{value:"email",children:"Email"}),(0,b.jsx)(k.SelectItem,{value:"sms",children:"SMS"})]})]}),(0,b.jsxs)(k.Select,{value:E,onValueChange:F,children:[(0,b.jsx)(k.SelectTrigger,{className:"w-[160px]",children:(0,b.jsx)(k.SelectValue,{placeholder:"Category"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"all",children:"All Categories"}),(0,b.jsx)(k.SelectItem,{value:"newsletter",children:"Newsletter"}),(0,b.jsx)(k.SelectItem,{value:"announcement",children:"Announcement"}),(0,b.jsx)(k.SelectItem,{value:"follow-up",children:"Follow-up"}),(0,b.jsx)(k.SelectItem,{value:"invoice",children:"Invoice"})]})]}),(0,b.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,b.jsx)(u.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),(0,b.jsx)(j.Input,{placeholder:"Search templates...",value:I,onChange:a=>J(a.target.value),className:"pl-9"})]}),(0,b.jsxs)(k.Select,{value:G,onValueChange:H,children:[(0,b.jsx)(k.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(k.SelectValue,{placeholder:"Sort by"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"updated",children:"Recently updated"}),(0,b.jsx)(k.SelectItem,{value:"name",children:"Name A-Z"}),(0,b.jsx)(k.SelectItem,{value:"usage",children:"Most used"})]})]})]})}),0===N.length?(0,b.jsxs)(i.Card,{className:"p-12 text-center",children:[(0,b.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-50",children:(0,b.jsx)(n.Mail,{className:"h-8 w-8 text-blue-500"})}),(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Looks quiet here"}),(0,b.jsx)("p",{className:"mb-4 text-sm text-gray-600",children:"Create your first template to speed up campaigns."}),(0,b.jsx)(d.Button,{className:"gradient-primary text-white",onClick:()=>a(null),children:"Create Template"})]}):(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:N.map((e,g)=>(0,b.jsxs)(i.Card,{className:"group overflow-hidden transition-all hover:shadow-lg animate-in fade-in-0 slide-in-from-bottom-4",style:{animationDelay:`${50*g}ms`},children:[(0,b.jsxs)("div",{className:"relative aspect-video bg-gradient-to-br from-blue-50 to-blue-100",children:["email"===e.type&&e.thumbnail?(0,b.jsx)("img",{src:e.thumbnail||"/placeholder.svg",alt:e.name,className:"h-full w-full object-cover"}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center",children:"email"===e.type?(0,b.jsx)(n.Mail,{className:"h-12 w-12 text-blue-400"}):(0,b.jsx)(o.MessageSquare,{className:"h-12 w-12 text-green-400"})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/0 transition-all group-hover:bg-black/20"})]}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"mb-2 flex items-start justify-between gap-2",children:[(0,b.jsx)("h3",{className:"line-clamp-1 font-semibold text-gray-900",children:e.name}),(0,b.jsxs)(m.DropdownMenu,{children:[(0,b.jsx)(m.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,b.jsx)(p.MoreVertical,{className:"h-4 w-4"})})}),(0,b.jsxs)(m.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(m.DropdownMenuItem,{onClick:()=>a(e),children:[(0,b.jsx)(q.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,b.jsxs)(m.DropdownMenuItem,{onClick:()=>M(e),children:[(0,b.jsx)(r.Copy,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),(0,b.jsxs)(m.DropdownMenuItem,{onClick:()=>L(e.id),className:"text-red-600",children:[(0,b.jsx)(s.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),(0,b.jsx)(l.Badge,{variant:"secondary",className:"email"===e.type?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700",children:"email"===e.type?"Email":"SMS"}),(0,b.jsxs)("div",{className:"mt-3 space-y-1 text-xs text-gray-500",children:[(0,b.jsxs)("div",{children:["Updated ",new Date(e.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),(0,b.jsxs)("div",{children:["Used ",e.usage_count,"x"]})]}),(0,b.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",onClick:()=>c(e),children:[(0,b.jsx)(t.Eye,{className:"mr-1 h-3 w-3"}),"Preview"]}),(0,b.jsxs)(d.Button,{size:"sm",className:"gradient-primary flex-1 text-white",onClick:()=>{sessionStorage.setItem("selectedTemplate",JSON.stringify(e)),v.push("/campaigns"),f({title:"Template selected",description:`Opening campaign creator with "${e.name}" template.`})},children:[(0,b.jsx)(w,{className:"mr-1 h-3 w-3"}),"Use Template"]})]})]})]},e.id))})]})}var z=a.i(65733),A=a.i(52495);function B({template:a,open:c,onClose:e}){let f=(0,h.useRouter)();return a?(0,b.jsx)(z.Dialog,{open:c,onOpenChange:e,children:(0,b.jsxs)(z.DialogContent,{className:"max-w-3xl max-h-[90vh] my-4 overflow-hidden p-0 flex flex-col",children:[(0,b.jsx)("div",{className:"px-6 pt-6 pb-4 border-b",children:(0,b.jsx)(z.DialogHeader,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(z.DialogTitle,{children:a.name}),(0,b.jsx)(l.Badge,{variant:"secondary",className:"email"===a.type?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700",children:"email"===a.type?"Email":"SMS"})]})})}),(0,b.jsxs)("div",{className:"overflow-y-auto px-6 py-4 space-y-4",children:[(0,b.jsx)("div",{className:"rounded-lg border bg-gray-50 p-6",children:"email"===a.type&&a.htmlContent?(0,b.jsx)("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:a.htmlContent}}):(0,b.jsx)("div",{className:"whitespace-pre-wrap text-sm text-gray-700",children:a.content})}),(0,b.jsxs)(d.Button,{className:"gradient-primary w-full text-white",onClick:()=>{f.push(`/campaigns?templateId=${a.id}`),e()},children:[(0,b.jsx)(A.ExternalLink,{className:"mr-2 h-4 w-4"}),"Use in Campaign"]})]})]})}):null}var C=a.i(17171),D=a.i(46893),E=a.i(46143),F=a.i(21958),G=a.i(33508),H=a.i(14548);let I=(0,v.default)("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),J=(0,v.default)("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);var K=a.i(5784),L=a.i(79165);let M=(0,v.default)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),N=(0,v.default)("Mouse",[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]]),O=(0,v.default)("Space",[["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]]),P=(0,v.default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Q=(0,v.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),R=(0,v.default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var S=a.i(54074);let T=(0,v.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var U=a.i(67552),V=a.i(97895);function W({template:a,onClose:c,onSuccess:e}){let{toast:f}=(0,x.useToast)(),i=(0,h.useRouter)(),[l,m]=(0,g.useState)(!1),[n,o]=(0,g.useState)("content"),[p,q]=(0,g.useState)(!1),[r,u]=(0,g.useState)([]),[v,w]=(0,g.useState)(null),[y,z]=(0,g.useState)(null),[A,B]=(0,g.useState)({name:"",subject:"",preheader:"",fromName:"The International Football Group",fromEmail:"info@theinternationalfootballgroup.com",replyTo:!0,recipients:"all",html:"",thumbnail:""});(0,g.useEffect)(()=>{a&&(B({name:a.name||"",subject:a.subject||"",preheader:a.preheader||"",fromName:a.fromName||"The International Football Group",fromEmail:a.fromEmail||"info@theinternationalfootballgroup.com",replyTo:!0,recipients:"all",html:a.htmlContent||a.html||"",thumbnail:a.thumbnail||""}),u(a.blocks||[]))},[a]);let W=async b=>{if(!A.name||!A.subject)return void f({title:"Validation Error",description:"Please fill in the template name and subject line.",variant:"destructive"});m(!0);try{var c;let d,e,g,h=(c={fromName:A.fromName,fromEmail:A.fromEmail},d=c?.fromName||"The International Football Group",e=c?.fromEmail||"info@theinternationalfootballgroup.com",g=r.map(a=>{switch(a.type){case"image":return`<img src="${a.src}" alt="${a.alt}" style="max-width: 100%; height: auto; display: block;" />`;case"text":return`<p style="font-size: 16px; line-height: 1.6; color: #374151; margin: 16px 0;">${a.value}</p>`;case"button":return`<div style="text-align: center; margin: 24px 0;">
            <a href="${a.url}" style="display: inline-block; background: linear-gradient(to right, #2563eb, #1d4ed8); color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px; font-weight: 500;">
              ${a.label}
            </a>
          </div>`;case"spacer":return'<div style="height: 32px;"></div>';case"divider":return'<hr style="border: none; border-top: 1px solid #e5e7eb; margin: 24px 0;" />';case"video":return`<div style="margin: 24px 0;">
            <a href="${a.url}" style="color: #2563eb;">Watch Video</a>
          </div>`;case"social":let b=a.links.map(a=>`<a href="${a.url}" style="margin: 0 8px; color: #2563eb; text-decoration: none;">${a.platform}</a>`).join("");return`<div style="text-align: center; margin: 24px 0;">${b}</div>`;case"html":return a.code;default:return""}}).join("\n"),`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email Template</title>
</head>
<body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f3f4f6;">
  <div style="max-width: 600px; margin: 0 auto; background-color: white; padding: 40px;">
    <!-- Header -->
    <div style="text-align: center; margin-bottom: 32px;">
      <div style="width: 64px; height: 64px; margin: 0 auto 16px; background: linear-gradient(135deg, #2563eb, #1e40af); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
        <svg viewBox="0 0 24 24" style="width: 32px; height: 32px; fill: white;">
          <circle cx="12" cy="12" r="10" />
        </svg>
      </div>
      <h1 style="margin: 0; font-size: 24px; font-weight: bold; color: #111827;">THE INTERNATIONAL</h1>
      <h2 style="margin: 4px 0 0; font-size: 20px; font-weight: 600; color: #111827;">FOOTBALL GROUP</h2>
    </div>

    <!-- Content Blocks -->
    <div>
      ${g}
    </div>

    <!-- Footer -->
    <div style="margin-top: 40px; padding-top: 24px; border-top: 1px solid #e5e7eb; text-align: center; font-size: 12px; color: #6b7280;">
      ${d} | ${e}
    </div>
  </div>
</body>
</html>
  `.trim()),j={name:A.name,subject:A.subject,preheader:A.preheader,fromName:A.fromName,fromEmail:A.fromEmail,recipientPreview:A.recipients,blocks:r,html:h,htmlContent:h,type:"email",category:"newsletter",content:A.subject,thumbnail:A.thumbnail},k=a?.id?`/api/templates/${a.id}`:"/api/templates",l=a?.id?"PUT":"POST";if((await fetch(k,{method:l,headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).ok)"draft"===b?f({title:"Template saved",description:"Your template has been saved successfully."}):(f({title:"Template saved",description:"Your template has been saved and you're being redirected."}),setTimeout(()=>{i.push("/templates")},500));else throw Error("Failed to save")}catch(a){f({title:"Error",description:"Failed to save template. Please try again.",variant:"destructive"})}finally{m(!1)}},X=(a,b)=>{let c=[...r];c[a]=b,u(c)},Y=[{icon:L.ImageIcon,label:"Image"},{icon:M,label:"Text"},{icon:N,label:"Button"},{icon:O,label:"Spacer"},{icon:P,label:"Video"},{icon:Q,label:"Social"},{icon:R,label:"Divider"},{icon:S.Code,label:"HTML"}];return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col bg-gray-50",children:[(0,b.jsxs)("div",{className:"gradient-primary flex items-center justify-between border-b px-6 py-3 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:c,className:"text-white hover:bg-white/10",children:(0,b.jsx)(G.X,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{className:"text-white",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:a?"Edit Template":"New Email Template"}),(0,b.jsx)("div",{className:"text-xs text-blue-100",children:A.name||"Untitled Template"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:(0,b.jsx)(I,{className:"h-4 w-4"})}),(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:(0,b.jsx)(J,{className:"h-4 w-4"})}),(0,b.jsx)("div",{className:"mx-2 h-6 w-px bg-white/30"}),(0,b.jsxs)(d.Button,{variant:"ghost",size:"sm",onClick:()=>W("draft"),className:"text-white hover:bg-white/10",disabled:l,children:[(0,b.jsx)(H.Save,{className:"mr-2 h-4 w-4"}),"Save Draft"]}),(0,b.jsxs)(d.Button,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:[(0,b.jsx)(t.Eye,{className:"mr-2 h-4 w-4"}),"Preview"]}),(0,b.jsx)(d.Button,{size:"sm",className:"bg-white text-blue-600 shadow-md hover:bg-blue-50",onClick:()=>W("exit"),disabled:l,children:l?"Saving...":"Save & Exit"})]})]}),(0,b.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,b.jsx)("div",{className:"w-[420px] overflow-y-auto border-r bg-white p-6",children:(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{htmlFor:"template-name",className:"text-sm font-medium text-gray-700",children:"Template Name *"}),(0,b.jsx)(j.Input,{id:"template-name",value:A.name,onChange:a=>B({...A,name:a.target.value}),placeholder:"e.g., 2025/2026 Newsletter",className:"mt-1.5"})]}),(0,b.jsx)("div",{className:"h-px bg-gray-200"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{htmlFor:"subject",className:"text-sm font-medium text-gray-700",children:"Subject Line *"}),(0,b.jsx)(j.Input,{id:"subject",value:A.subject,onChange:a=>B({...A,subject:a.target.value}),placeholder:"e.g., 2025/2026 Newsletter â€“ IFG Macclesfield FC",className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{htmlFor:"preheader",className:"text-sm font-medium text-gray-700",children:"Preheader"}),(0,b.jsx)(j.Input,{id:"preheader",value:A.preheader,onChange:a=>B({...A,preheader:a.target.value}),placeholder:"Join us for 2026!",className:"mt-1.5"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"If this field is left blank the first line of your email will display."})]}),(0,b.jsx)("div",{className:"h-px bg-gray-200"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{htmlFor:"from-name",className:"text-sm font-medium text-gray-700",children:"From Name *"}),(0,b.jsx)(j.Input,{id:"from-name",value:A.fromName,onChange:a=>B({...A,fromName:a.target.value}),className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{htmlFor:"from-email",className:"text-sm font-medium text-gray-700",children:"From Email *"}),(0,b.jsx)(j.Input,{id:"from-email",type:"email",value:A.fromEmail,onChange:a=>B({...A,fromEmail:a.target.value}),className:"mt-1.5"}),(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,b.jsx)(E.Checkbox,{id:"reply-to",checked:A.replyTo,onCheckedChange:a=>B({...A,replyTo:a})}),(0,b.jsx)(C.Label,{htmlFor:"reply-to",className:"cursor-pointer text-sm font-normal text-gray-600",children:"Use this email as my reply-to address"})]})]}),(0,b.jsx)("div",{className:"h-px bg-gray-200"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{className:"text-sm font-medium text-gray-700",children:"Recipient Preview"}),(0,b.jsx)("p",{className:"mb-2 text-xs text-gray-500",children:"Select the recipients you would like to receive this campaign."}),(0,b.jsxs)(k.Select,{value:A.recipients,onValueChange:a=>B({...A,recipients:a}),children:[(0,b.jsx)(k.SelectTrigger,{className:"mt-1.5",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"all",children:"ALL CONTACTS - EVERYONE"}),(0,b.jsx)(k.SelectItem,{value:"programme",children:"By Programme"}),(0,b.jsx)(k.SelectItem,{value:"recruiter",children:"By Recruiter"}),(0,b.jsx)(k.SelectItem,{value:"status",children:"By Status"})]})]})]}),(0,b.jsx)("div",{className:"h-px bg-gray-200"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{className:"text-sm font-medium text-gray-700",children:"Thumbnail Preview"}),(0,b.jsx)("div",{className:"mt-2 aspect-video overflow-hidden rounded-lg border bg-gray-50",children:A.thumbnail?(0,b.jsx)("img",{src:A.thumbnail||"/placeholder.svg",alt:"Preview",className:"h-full w-full object-cover"}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center text-gray-400",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(L.ImageIcon,{className:"mx-auto mb-2 h-12 w-12"}),(0,b.jsx)("p",{className:"text-xs",children:"Add content to see preview"})]})})})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,b.jsx)(d.Button,{variant:"outline",className:"flex-1 bg-transparent",onClick:c,children:"Cancel"}),(0,b.jsx)(d.Button,{className:"gradient-primary flex-1 text-white",onClick:()=>W("exit"),disabled:l,children:l?"Saving...":"Save & Exit"})]})]})}),(0,b.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden bg-gray-100",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b bg-white px-4 py-2",children:[(0,b.jsx)(F.Tabs,{value:n,onValueChange:a=>o(a),className:"w-auto",children:(0,b.jsxs)(F.TabsList,{children:[(0,b.jsx)(F.TabsTrigger,{value:"content",children:"Content"}),(0,b.jsx)(F.TabsTrigger,{value:"settings",children:"Global Settings"})]})}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>q(!p),className:(0,V.cn)("gap-2",p&&"bg-blue-50 text-blue-600"),children:[(0,b.jsx)(S.Code,{className:"h-4 w-4"}),p?"Visual Editor":"HTML"]})]}),(0,b.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:["content"===n&&!p&&(0,b.jsxs)("div",{className:"w-64 overflow-y-auto border-r bg-white p-4",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Blocks"}),(0,b.jsx)(K.ChevronDown,{className:"h-4 w-4 text-gray-400"})]}),(0,b.jsx)("div",{className:"space-y-1",children:Y.map(a=>(0,b.jsxs)("button",{onClick:()=>(a=>{let b;switch(a){case"Image":b={type:"image",src:"/placeholder.svg?height=300&width=600",alt:""};break;case"Text":b={type:"text",value:"Your text here..."};break;case"Button":b={type:"button",label:"Call to action",url:"#"};break;case"Spacer":b={type:"spacer"};break;case"Video":b={type:"video",url:""};break;case"Social":b={type:"social",links:[]};break;case"Divider":b={type:"divider"};break;case"HTML":b={type:"html",code:"<p>Your HTML</p>"};break;default:return}u([...r,b]),f({title:"Block added",description:`${a} block added to canvas`})})(a.label),className:"flex w-full items-center gap-3 rounded-lg border border-transparent px-3 py-2.5 text-left text-sm transition-colors hover:border-blue-200 hover:bg-blue-50",children:[(0,b.jsx)(a.icon,{className:"h-5 w-5 text-gray-600"}),(0,b.jsx)("span",{className:"text-gray-700",children:a.label})]},a.label))}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h3",{className:"mb-3 text-sm font-semibold text-gray-900",children:"Saved Modules"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Save frequently used blocks to reuse later."})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,b.jsxs)("div",{className:"mx-auto max-w-[600px]",children:[!p&&(A.subject||A.preheader)&&(0,b.jsxs)("div",{className:"mb-4 rounded-lg border bg-white p-4 shadow-sm",children:[A.subject&&(0,b.jsxs)("div",{className:"mb-1",children:[(0,b.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Subject: "}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:A.subject})]}),A.preheader&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Preheader: "}),(0,b.jsx)("span",{className:"text-sm text-gray-600",children:A.preheader})]})]}),p?(0,b.jsx)("div",{className:"min-h-[600px] rounded-lg border bg-white p-4",children:(0,b.jsx)(D.Textarea,{value:A.html,onChange:a=>B({...A,html:a.target.value}),placeholder:"<html><body>Enter your HTML template here...</body></html>",className:"min-h-[560px] font-mono text-sm"})}):(0,b.jsx)("div",{className:"min-h-[600px] rounded-lg border bg-white shadow-sm",children:(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"mb-6 text-center",children:[(0,b.jsx)("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-blue-600 to-blue-800",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",className:"h-8 w-8 text-white",fill:"currentColor",children:(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10"})})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"THE INTERNATIONAL"}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"FOOTBALL GROUP"})]}),(0,b.jsx)("div",{className:"space-y-4",children:r.length>0?r.map((a,c)=>{let e,f;return(0,b.jsx)("div",{children:(e=y===c,f=v===c,(0,b.jsxs)("div",{className:"group relative",onMouseEnter:()=>z(c),onMouseLeave:()=>z(null),children:[(0,b.jsxs)("div",{className:(0,V.cn)("relative",f&&"ring-2 ring-blue-500 ring-offset-2"),children:["image"===a.type&&(0,b.jsx)("div",{className:"overflow-hidden rounded-lg",children:(0,b.jsx)("img",{src:a.src||"/placeholder.svg",alt:a.alt,className:"h-auto w-full"})}),"text"===a.type&&(0,b.jsx)("div",{className:"prose max-w-none",children:(0,b.jsx)("p",{className:"text-gray-700",children:a.value})}),"button"===a.type&&(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("a",{href:a.url,className:"inline-block rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-3 text-white transition-all hover:from-blue-700 hover:to-blue-800",children:a.label})}),"spacer"===a.type&&(0,b.jsx)("div",{className:"h-8"}),"divider"===a.type&&(0,b.jsx)("div",{className:"my-6 h-px bg-gray-200"}),"html"===a.type&&(0,b.jsx)("div",{className:"rounded bg-gray-50 p-4",children:(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:a.code}})})]}),e&&!f&&(0,b.jsxs)("div",{className:"absolute right-2 top-2 flex gap-1 rounded-lg bg-white p-1 shadow-lg",children:[(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:()=>w(c),children:(0,b.jsx)(T,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:()=>(a=>{if(0===a)return;let b=[...r];[b[a-1],b[a]]=[b[a],b[a-1]],u(b)})(c),disabled:0===c,children:(0,b.jsx)(U.ChevronUp,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:()=>(a=>{if(a===r.length-1)return;let b=[...r];[b[a],b[a+1]]=[b[a+1],b[a]],u(b)})(c),disabled:c===r.length-1,children:(0,b.jsx)(K.ChevronDown,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>{u(r.filter((a,b)=>b!==c)),w(null)},children:(0,b.jsx)(s.Trash2,{className:"h-3.5 w-3.5"})})]}),f&&(0,b.jsxs)("div",{className:"mt-2 rounded-lg border bg-white p-4 shadow-lg",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold",children:["Edit ",a.type]}),(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:()=>w(null),children:(0,b.jsx)(G.X,{className:"h-4 w-4"})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:["image"===a.type&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{className:"text-xs",children:"Image URL"}),(0,b.jsx)(j.Input,{value:a.src,onChange:b=>X(c,{...a,src:b.target.value}),placeholder:"https://...",className:"mt-1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{className:"text-xs",children:"Alt Text"}),(0,b.jsx)(j.Input,{value:a.alt,onChange:b=>X(c,{...a,alt:b.target.value}),placeholder:"Describe the image",className:"mt-1"})]})]}),"text"===a.type&&(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{className:"text-xs",children:"Content"}),(0,b.jsx)(D.Textarea,{value:a.value,onChange:b=>X(c,{...a,value:b.target.value}),placeholder:"Enter your text...",className:"mt-1",rows:4})]}),"button"===a.type&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{className:"text-xs",children:"Button Label"}),(0,b.jsx)(j.Input,{value:a.label,onChange:b=>X(c,{...a,label:b.target.value}),placeholder:"Click here",className:"mt-1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{className:"text-xs",children:"Link URL"}),(0,b.jsx)(j.Input,{value:a.url,onChange:b=>X(c,{...a,url:b.target.value}),placeholder:"https://...",className:"mt-1"})]})]}),"html"===a.type&&(0,b.jsxs)("div",{children:[(0,b.jsx)(C.Label,{className:"text-xs",children:"HTML Code"}),(0,b.jsx)(D.Textarea,{value:a.code,onChange:b=>X(c,{...a,code:b.target.value}),placeholder:"<p>Your HTML</p>",className:"mt-1 font-mono text-xs",rows:6})]})]}),(0,b.jsx)(d.Button,{size:"sm",className:"mt-3 w-full",onClick:()=>w(null),children:"Done"})]})]},c))},c)}):(0,b.jsxs)("div",{className:"py-12 text-center text-gray-400",children:[(0,b.jsx)(L.ImageIcon,{className:"mx-auto mb-3 h-12 w-12"}),(0,b.jsx)("p",{className:"text-sm",children:"Click blocks on the left to start building your email"})]})}),(0,b.jsxs)("div",{className:"mt-8 border-t pt-6 text-center text-xs text-gray-500",children:[A.fromName||"The International Football Group"," |"," ",A.fromEmail||"info@theinternationalfootballgroup.com"]})]})})]})})]})]})]})]})}var X=a.i(69240);function Y(){let[a,h]=(0,g.useState)(!1),[i,j]=(0,g.useState)(null),[k,l]=(0,g.useState)(!1),[m,n]=(0,g.useState)(null),[o,p]=(0,g.useState)(null);return((0,g.useEffect)(()=>{(0,X.createClient)().auth.getUser().then(({data:{user:a}})=>{p(a)})},[]),a)?(0,b.jsx)(W,{template:i,onClose:()=>{h(!1),j(null)},onSuccess:()=>{h(!1),j(null),window.location.reload()}}):o?(0,b.jsxs)(c.AppLayout,{user:o,title:"Templates",children:[(0,b.jsx)("div",{className:"gradient-primary mb-6 flex h-[72px] items-center rounded-2xl px-6 shadow-[0_2px_6px_rgba(0,0,0,0.06)]",children:(0,b.jsxs)("div",{className:"flex w-full flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[(0,b.jsx)("p",{className:"text-base text-white",style:{fontFamily:"Inter, sans-serif",fontWeight:400},children:"Create, save, and reuse email and SMS templates for campaigns."}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",className:"gap-2 border-white/30 bg-white/10 text-white hover:bg-white/20",children:[(0,b.jsx)(f.Upload,{className:"h-4 w-4"}),"Import HTML"]}),(0,b.jsxs)(d.Button,{className:"gap-2 bg-white text-blue-600 shadow-md hover:bg-blue-50",onClick:()=>{j(null),h(!0)},children:[(0,b.jsx)(e.Plus,{className:"h-4 w-4"}),"New Template"]})]})]})}),(0,b.jsx)(y,{onEdit:a=>{j(a),h(!0)},onPreview:a=>{n(a),l(!0)}}),(0,b.jsx)(B,{template:m,open:k,onClose:()=>{l(!1),n(null)}})]}):null}a.s(["default",()=>Y],40779)}];

//# sourceMappingURL=app_templates_page_tsx_dd682f28._.js.map