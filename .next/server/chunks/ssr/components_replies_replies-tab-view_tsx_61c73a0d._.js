module.exports=[83747,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(21958),e=a.i(50944),f=a.i(3130),g=a.i(40695),h=a.i(54161),i=a.i(50463),j=a.i(5522),k=a.i(87682),l=a.i(63588),m=a.i(92e3),n=a.i(87532),o=a.i(15115),p=a.i(16201),q=a.i(70106);let r=(0,q.default)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),s=(0,q.default)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),t=(0,q.default)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var u=a.i(8406),v=a.i(76504),w=a.i(94760),x=a.i(65733),y=a.i(50104),z=a.i(30553),A="Progress",[B,C]=(0,y.createContextScope)(A),[D,E]=B(A),F=c.forwardRef((a,c)=>{var d,e;let{__scopeProgress:f,value:g=null,max:h,getValueLabel:i=I,...j}=a;(h||0===h)&&!L(h)&&console.error((d=`${h}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let k=L(h)?h:100;null===g||M(g,k)||console.error((e=`${g}`,`Invalid prop \`value\` of value \`${e}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let l=M(g,k)?g:null,m=K(l)?i(l,k):void 0;return(0,b.jsx)(D,{scope:f,value:l,max:k,children:(0,b.jsx)(z.Primitive.div,{"aria-valuemax":k,"aria-valuemin":0,"aria-valuenow":K(l)?l:void 0,"aria-valuetext":m,role:"progressbar","data-state":J(l,k),"data-value":l??void 0,"data-max":k,...j,ref:c})})});F.displayName=A;var G="ProgressIndicator",H=c.forwardRef((a,c)=>{let{__scopeProgress:d,...e}=a,f=E(G,d);return(0,b.jsx)(z.Primitive.div,{"data-state":J(f.value,f.max),"data-value":f.value??void 0,"data-max":f.max,...e,ref:c})});function I(a,b){return`${Math.round(a/b*100)}%`}function J(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function K(a){return"number"==typeof a}function L(a){return K(a)&&!isNaN(a)&&a>0}function M(a,b){return K(a)&&!isNaN(a)&&a<=b&&a>=0}H.displayName=G;var N=a.i(97895);let O=c.forwardRef(({className:a,value:c,...d},e)=>(0,b.jsx)(F,{ref:e,className:(0,N.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...d,children:(0,b.jsx)(H,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})}));O.displayName=F.displayName;var P=a.i(77687);function Q({open:a,onOpenChange:e,messages:i}){let{toast:j}=(0,P.useToast)(),[k,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(0),[p,q]=(0,c.useState)(null),v=async()=>{m(!0),o(0);let a=setInterval(()=>{o(b=>b>=90?(clearInterval(a),90):b+10)},200);await new Promise(a=>setTimeout(a,2500));let b={positive:i.filter(a=>"positive"===a.intent),negative:i.filter(a=>"negative"===a.intent),neutral:i.filter(a=>"neutral"===a.intent||!a.intent)};clearInterval(a),o(100),q(b),m(!1),j({title:"AI Analysis Complete",description:`Analyzed ${i.length} messages and categorized by intent.`})};(0,c.useEffect)(()=>{a&&(q(null),o(0))},[a]);let w=(()=>{if(!p)return{positive:0,negative:0,neutral:0};let a=i.length;return{positive:Math.round(p.positive.length/a*100),negative:Math.round(p.negative.length/a*100),neutral:Math.round(p.neutral.length/a*100)}})();return(0,b.jsx)(x.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(x.DialogContent,{className:"sm:max-w-[700px] max-h-[80vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)(x.DialogHeader,{children:[(0,b.jsxs)(x.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(r,{className:"h-5 w-5 text-purple-600"}),"AI Intent Analysis",(0,b.jsx)(u.Sparkles,{className:"h-4 w-4 text-yellow-500"})]}),(0,b.jsx)(x.DialogDescription,{children:"Use AI to analyze matched messages and categorize them by intent (positive/negative). This helps identify prospects who are interested vs those who want to opt-out."})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto py-4",children:[!p&&!k&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4",children:(0,b.jsx)(r,{className:"h-8 w-8 text-purple-600"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Ready to Analyze"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[i.length," matched messages will be analyzed for intent"]}),(0,b.jsxs)(g.Button,{onClick:v,className:"gap-2",children:[(0,b.jsx)(u.Sparkles,{className:"h-4 w-4"}),"Start AI Analysis"]})]}),k&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4 animate-pulse",children:(0,b.jsx)(r,{className:"h-8 w-8 text-purple-600"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Analyzing Messages..."}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["AI is processing ",i.length," messages"]}),(0,b.jsx)(O,{value:n,className:"w-full max-w-xs mx-auto mb-2"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[n,"% complete"]})]}),p&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[(0,b.jsx)(f.Card,{className:"p-4 bg-green-50 border-green-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-green-900",children:"Positive Intent"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-700",children:p.positive.length}),(0,b.jsxs)("p",{className:"text-xs text-green-600",children:[w.positive,"% of total"]})]}),(0,b.jsx)(s,{className:"h-8 w-8 text-green-600"})]})}),(0,b.jsx)(f.Card,{className:"p-4 bg-red-50 border-red-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-red-900",children:"Negative Intent"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-red-700",children:p.negative.length}),(0,b.jsxs)("p",{className:"text-xs text-red-600",children:[w.negative,"% of total"]})]}),(0,b.jsx)(t,{className:"h-8 w-8 text-red-600"})]})}),(0,b.jsx)(f.Card,{className:"p-4 bg-gray-50 border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Neutral/Unclear"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-700",children:p.neutral.length}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:[w.neutral,"% of total"]})]}),(0,b.jsx)(l.MessageSquare,{className:"h-8 w-8 text-gray-600"})]})})]}),(0,b.jsxs)(d.Tabs,{defaultValue:"positive",className:"w-full",children:[(0,b.jsxs)(d.TabsList,{className:"grid w-full grid-cols-3",children:[(0,b.jsxs)(d.TabsTrigger,{value:"positive",className:"gap-1",children:[(0,b.jsx)(s,{className:"h-3.5 w-3.5"}),"Positive (",p.positive.length,")"]}),(0,b.jsxs)(d.TabsTrigger,{value:"negative",className:"gap-1",children:[(0,b.jsx)(t,{className:"h-3.5 w-3.5"}),"Negative (",p.negative.length,")"]}),(0,b.jsxs)(d.TabsTrigger,{value:"neutral",className:"gap-1",children:[(0,b.jsx)(l.MessageSquare,{className:"h-3.5 w-3.5"}),"Neutral (",p.neutral.length,")"]})]}),(0,b.jsx)(d.TabsContent,{value:"positive",className:"mt-4 space-y-2 max-h-[250px] overflow-y-auto",children:0===p.positive.length?(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No messages with positive intent"}):p.positive.map(a=>(0,b.jsx)(f.Card,{className:"p-3 bg-green-50 border-green-200",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-green-900",children:a.playerName||a.fromNumber}),(0,b.jsx)("p",{className:"text-xs text-green-700 mt-1",children:a.message}),a.programme&&(0,b.jsx)(h.Badge,{className:"mt-1 text-xs",variant:"outline",children:a.programme})]}),(0,b.jsx)(s,{className:"h-4 w-4 text-green-600 ml-2 flex-shrink-0"})]})},a.id))}),(0,b.jsx)(d.TabsContent,{value:"negative",className:"mt-4 space-y-2 max-h-[250px] overflow-y-auto",children:0===p.negative.length?(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No messages with negative intent"}):p.negative.map(a=>(0,b.jsx)(f.Card,{className:"p-3 bg-red-50 border-red-200",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-red-900",children:a.playerName||a.fromNumber}),(0,b.jsx)("p",{className:"text-xs text-red-700 mt-1",children:a.message}),a.programme&&(0,b.jsx)(h.Badge,{className:"mt-1 text-xs",variant:"outline",children:a.programme})]}),(0,b.jsx)(t,{className:"h-4 w-4 text-red-600 ml-2 flex-shrink-0"})]})},a.id))}),(0,b.jsx)(d.TabsContent,{value:"neutral",className:"mt-4 space-y-2 max-h-[250px] overflow-y-auto",children:0===p.neutral.length?(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No messages with neutral intent"}):p.neutral.map(a=>(0,b.jsx)(f.Card,{className:"p-3 bg-gray-50 border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.playerName||a.fromNumber}),(0,b.jsx)("p",{className:"text-xs text-gray-700 mt-1",children:a.message}),a.programme&&(0,b.jsx)(h.Badge,{className:"mt-1 text-xs",variant:"outline",children:a.programme})]}),(0,b.jsx)(l.MessageSquare,{className:"h-4 w-4 text-gray-600 ml-2 flex-shrink-0"})]})},a.id))})]}),(0,b.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-blue-900 font-medium mb-1",children:"Recommended Actions:"}),(0,b.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[(0,b.jsxs)("li",{children:["â€¢ Follow up with ",p.positive.length," positive intent contacts immediately"]}),(0,b.jsxs)("li",{children:["â€¢ Remove ",p.negative.length," negative intent contacts from future campaigns"]}),(0,b.jsxs)("li",{children:["â€¢ Send clarification messages to ",p.neutral.length," neutral contacts"]})]})]})]})]}),p&&(0,b.jsxs)(x.DialogFooter,{children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>e(!1),children:"Close"}),(0,b.jsx)(g.Button,{onClick:()=>{j({title:"Actions Applied",description:"Contact lists have been updated based on AI analysis."}),e(!1)},className:"gap-2",children:"Apply Recommendations"})]})]})})}let R=[{id:"101",name:"John Smith",email:"john.smith@example.com",phone:"+44 7700 900123",programme:"US College 2026"},{id:"102",name:"Sarah Mensah",email:"sarah.m@email.com",phone:"+233 24 555 0198",programme:"US College 2026"},{id:"103",name:"David Boateng",email:"dboateng@outlook.com",phone:"+233 20 555 0223",programme:"European Academy"},{id:"104",name:"Grace Owusu",email:"grace.owusu@gmail.com",phone:"+233 27 555 0167",programme:"UK Programme"},{id:"105",name:"Michael Chen",email:"mchen@outlook.com",phone:"+1 555 234 5678",programme:"UK Programme"},{id:"106",name:"Emma Johnson",email:"emma.j@parent.com",phone:"+44 7700 900789",programme:"European Academy"},{id:"107",name:"Sophie Williams",email:"sophie.w@gmail.com",phone:"+44 7700 900456",programme:"US College 2027"},{id:"108",name:"James Rodriguez",email:"jrodriguez@email.com",phone:"+34 600 123 456",programme:"Barcelona Residency"}];function S(a){let b=a.replace(/\s+/g,"").toLowerCase();return R.find(a=>{let c=a.phone.replace(/\s+/g,"").toLowerCase(),d=a.email.toLowerCase();return c===b||d===b})||null}var T=a.i(16723);let U=[{id:"1",fromNumber:"+44 7700 900123",message:"Yes! I'm definitely interested in the US College pathway. What are the next steps?",receivedAt:"2h ago",intent:"positive"},{id:"2",fromNumber:"+233 24 555 0198",message:"Thanks for the info! When does the next recruitment camp start?",receivedAt:"5h ago",intent:"positive"},{id:"3",fromNumber:"+44 7700 900456",message:"I've submitted my application. Can someone confirm it was received?",receivedAt:"1d ago",intent:"positive"},{id:"4",fromNumber:"+233 20 555 0223",message:"STOP",receivedAt:"1d ago",intent:"negative"},{id:"5",fromNumber:"+233 27 555 0167",message:"Sorry, I'm no longer interested in the programme. Please remove me from your list.",receivedAt:"2d ago",intent:"negative"},{id:"6",fromNumber:"+44 7700 900789",message:"This sounds amazing! Ready to start the enrollment process.",receivedAt:"3d ago",intent:"positive"},{id:"7",fromNumber:"+1 555 999 8888",message:"Hi, saw your ad about football training. Need more info please.",receivedAt:"3d ago",intent:"neutral"},{id:"8",fromNumber:"+44 7700 111222",message:"Can you send me details about the scholarship opportunities?",receivedAt:"4d ago",intent:"positive"}].map(a=>{let b=S(a.fromNumber),c=a.message.toLowerCase().includes("stop")||a.message.toLowerCase().includes("unsubscribe");return{...a,fromName:b?.name||null,status:c?"spam":b?"matched":"unmatched",playerName:b?.name||null,playerId:b?.id||null,programme:b?.programme||null,playerEmail:b?.email||null,playerPhone:b?.phone||null}});function V(){let a=(0,e.useSearchParams)(),d=(0,e.useRouter)(),{toast:q}=(0,P.useToast)(),[x,y]=(0,c.useState)(a.get("status")||"matched"),[z,A]=(0,c.useState)("30days"),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(U),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),[R,S]=(0,c.useState)(null);(0,c.useEffect)(()=>{let b=a.get("status");b&&b!==x&&y(b)},[a]);let V=a=>{y(a)},W=async a=>{try{await new Promise(a=>setTimeout(a,300)),E(b=>b.map(b=>b.id===a?{...b,status:"spam"}:b)),q({title:"Marked as spam",description:"SMS reply has been marked as spam."})}catch(a){q({title:"Error",description:"Failed to mark as spam.",variant:"destructive"})}},X=async a=>{try{await new Promise(a=>setTimeout(a,300)),E(b=>b.map(b=>b.id===a?{...b,status:"unmatched"}:b)),q({title:"Restored",description:"SMS reply has been restored to unmatched."})}catch(a){q({title:"Error",description:"Failed to restore reply.",variant:"destructive"})}},Y=D.filter(a=>{if(a.status!==x)return!1;if(B.trim()){let b=B.toLowerCase(),c=a.fromName?.toLowerCase().includes(b)||a.playerName?.toLowerCase().includes(b),d=a.fromNumber?.toLowerCase().includes(b),e=a.message.toLowerCase().includes(b);return c||d||e}return!0}),Z=a=>{a.playerId&&a.playerName&&(S({id:a.playerId,name:a.playerName,email:a.playerEmail,phone:a.playerPhone,program:a.programme,status:"matched"}),O(!0))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Card,{className:"mb-6 bg-white border border-gray-200 shadow-sm",children:(0,b.jsxs)("div",{className:"flex gap-1 p-2 border-b",children:[(0,b.jsx)("button",{onClick:()=>V("matched"),className:`px-6 py-2.5 rounded-lg text-[15px] font-medium transition-all ${"matched"===x?"bg-[#0A47B1] text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:{fontFamily:"'Oswald', sans-serif",letterSpacing:"0.5px"},children:"Matched"}),(0,b.jsx)("button",{onClick:()=>V("unmatched"),className:`px-6 py-2.5 rounded-lg text-[15px] font-medium transition-all ${"unmatched"===x?"bg-[#0A47B1] text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:{fontFamily:"'Oswald', sans-serif",letterSpacing:"0.5px"},children:"Unmatched"}),(0,b.jsx)("button",{onClick:()=>V("spam"),className:`px-6 py-2.5 rounded-lg text-[15px] font-medium transition-all ${"spam"===x?"bg-[#0A47B1] text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:{fontFamily:"'Oswald', sans-serif",letterSpacing:"0.5px"},children:"Spam"})]})}),(0,b.jsxs)("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[(0,b.jsxs)(k.Select,{value:z,onValueChange:a=>A(a),children:[(0,b.jsx)(k.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"7days",children:"Last 7 days"}),(0,b.jsx)(k.SelectItem,{value:"30days",children:"Last 30 days"}),(0,b.jsx)(k.SelectItem,{value:"all",children:"All time"})]})]}),(0,b.jsxs)("div",{className:"relative flex-1 min-w-[250px]",children:[(0,b.jsx)(n.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),(0,b.jsx)(j.Input,{placeholder:"Search by player name, phone number, or message text...",value:B,onChange:a=>C(a.target.value),className:"pl-10"})]}),"matched"===x&&Y.length>0&&(0,b.jsxs)(g.Button,{onClick:()=>M(!0),className:"gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",children:[(0,b.jsx)(r,{className:"h-4 w-4"}),"AI Intent Analysis",(0,b.jsx)(u.Sparkles,{className:"h-3 w-3"})]})]}),(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-6",children:F?(0,b.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(a=>(0,b.jsx)(i.Skeleton,{className:"h-16 w-full bg-gray-200"},a))}):H?(0,b.jsxs)("div",{className:"py-12 text-center",children:[(0,b.jsx)(m.AlertCircle,{className:"mx-auto h-12 w-12 text-red-500"}),(0,b.jsx)("p",{className:"mt-4 text-sm font-semibold text-gray-900",children:"Couldn't load replies"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Please check your connection and try again."}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>I(!1),children:"Retry"})]}):Y.length>0?(0,b.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Message"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Name"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"From"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Received"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:Y.map(a=>{var c;return(0,b.jsxs)("tr",{onClick:()=>K(a.id),className:"transition-colors hover:bg-gray-50 cursor-pointer",children:[(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"line-clamp-2 text-sm text-gray-700",children:a.message}),"matched"===a.status&&a.intent&&(0,b.jsx)("div",{className:"mt-1",children:"positive"===a.intent?(0,b.jsxs)(h.Badge,{className:"bg-green-50 text-green-700 border-green-200 text-xs",children:[(0,b.jsx)(s,{className:"h-3 w-3 mr-1"}),"Positive Intent"]}):"negative"===a.intent?(0,b.jsxs)(h.Badge,{className:"bg-red-50 text-red-700 border-red-200 text-xs",children:[(0,b.jsx)(t,{className:"h-3 w-3 mr-1"}),"Negative Intent"]}):null})]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:a.playerName?(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-blue-600 hover:underline cursor-pointer",onClick:b=>{b.stopPropagation(),Z(a)},children:a.playerName}),a.programme&&(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:a.programme})]}):(0,b.jsx)("p",{className:"text-sm text-gray-400 italic",children:"Unknown"})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.fromNumber})}),(0,b.jsx)("td",{className:"px-4 py-3",children:"spam"===(c=a.status)?(0,b.jsx)(h.Badge,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:"Spam"}):"matched"===c?(0,b.jsx)(h.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Matched"}):(0,b.jsx)(h.Badge,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:"Unmatched"})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.receivedAt})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["unmatched"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Button,{size:"sm",variant:"outline",onClick:b=>{b.stopPropagation(),K(a.id)},children:"Match"}),(0,b.jsxs)(v.DropdownMenu,{children:[(0,b.jsx)(v.DropdownMenuTrigger,{asChild:!0,onClick:a=>a.stopPropagation(),children:(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:(0,b.jsx)(o.MoreVertical,{className:"h-4 w-4"})})}),(0,b.jsx)(v.DropdownMenuContent,{align:"end",children:(0,b.jsx)(v.DropdownMenuItem,{onClick:()=>W(a.id),children:"Mark as spam"})})]})]}),"matched"===a.status&&(0,b.jsx)(g.Button,{size:"sm",variant:"outline",onClick:b=>{b.stopPropagation(),Z(a)},children:"View player"}),"spam"===a.status&&(0,b.jsx)(g.Button,{size:"sm",variant:"outline",onClick:b=>{b.stopPropagation(),X(a.id)},children:"Restore"})]})})]},a.id)})})]})}):(0,b.jsxs)("div",{className:"py-12 text-center",children:[(0,b.jsx)("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:"unmatched"===x?(0,b.jsx)(p.CheckCircle,{className:"h-8 w-8 text-green-500"}):(0,b.jsx)(l.MessageSquare,{className:"h-8 w-8 text-gray-400"})}),(0,b.jsx)("p",{className:"mt-4 text-sm font-semibold text-gray-900",children:(()=>{if(B.trim())return"No replies match your search.";switch(x){case"unmatched":return"No unmatched replies â€“ you're all caught up.";case"matched":return"No matched replies yet for this period.";case"spam":return"No spam messages.";default:return"No SMS replies found."}})()})]})})}),(0,b.jsx)(w.MatchReplyDrawer,{replyId:J,open:!!J,onClose:()=>K(null),onSuccess:()=>{K(null),E(a=>a.map(a=>a.id===J?{...a,status:"matched"}:a))}}),L&&(0,b.jsx)(Q,{open:L,onOpenChange:M,messages:Y.filter(a=>"matched"===a.status)}),R&&(0,b.jsx)(T.MatchedPlayerDialog,{open:N,onOpenChange:O,player:R,onCreateDeal:()=>{if(R){O(!1);let a=new URLSearchParams({action:"create_deal",playerId:R.id,playerName:R.name,playerEmail:R.email||"",playerPhone:R.phone||""});d.push(`/pipelines?${a.toString()}`)}}})]})}var W=a.i(92258);let X=(0,q.default)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);var Y=a.i(41710),Z=a.i(33350),$=a.i(7706);let _=[{id:"1",fromEmail:"john.smith@example.com",subject:"Re: US College Pathway Information",preview:"Thank you for the detailed information about the US College pathway. I have a few questions about the scholarship opportunities...",message:"Thank you for the detailed information about the US College pathway. I have a few questions about the scholarship opportunities and the application timeline. Could we schedule a call to discuss?",receivedAt:"2h ago",tags:["prospect","high-priority"],hasAttachment:!0,intent:"positive"},{id:"2",fromEmail:"emma.j@parent.com",subject:"Re: Training Schedule Update",preview:"I received the updated training schedule. Just wanted to confirm that Emma will be attending all sessions...",message:"I received the updated training schedule. Just wanted to confirm that Emma will be attending all sessions. We're very excited about the program!",receivedAt:"5h ago",tags:["parent","confirmed"],hasAttachment:!1,intent:"positive"},{id:"3",fromEmail:"mchen@outlook.com",subject:"Re: Document Requirements",preview:"I've attached all the required documents as requested. Please let me know if you need anything else...",message:"I've attached all the required documents as requested. Please let me know if you need anything else for the application process. Looking forward to hearing back from you.",receivedAt:"1d ago",tags:["documents","pending-review"],hasAttachment:!0,intent:"positive"},{id:"4",fromEmail:"sophie.w@gmail.com",subject:"Re: Payment Confirmation",preview:"Payment has been processed successfully. Thank you for the prompt response...",message:"Payment has been processed successfully. Thank you for the prompt response. We're looking forward to starting the program next month.",receivedAt:"2d ago",tags:["payment","confirmed"],hasAttachment:!0,intent:"positive"},{id:"5",fromEmail:"grace.owusu@gmail.com",subject:"Re: Programme Enrollment",preview:"I'm sorry, but I've decided not to continue with the programme...",message:"I'm sorry, but I've decided not to continue with the programme. Please remove me from your mailing list. Thank you for your understanding.",receivedAt:"2d ago",tags:["opt-out"],hasAttachment:!1,intent:"negative"},{id:"6",fromEmail:"unknown.player@email.com",subject:"Question about tryouts",preview:"Hi, I wanted to know more about the upcoming tryouts schedule and requirements...",message:"Hi, I wanted to know more about the upcoming tryouts schedule and requirements. I'm particularly interested in the goalkeeper position. What should I prepare?",receivedAt:"3d ago",tags:["new-inquiry"],hasAttachment:!1,intent:"positive"},{id:"7",fromEmail:"newprospect@gmail.com",subject:"Interested in your program",preview:"I saw your advertisement and would like to learn more about the football academy...",message:"I saw your advertisement and would like to learn more about the football academy programs you offer. Could you send me more details?",receivedAt:"4d ago",tags:["new-inquiry"],hasAttachment:!1,intent:"positive"},{id:"8",fromEmail:"noreply@spam.com",subject:"You've won a prize!",preview:"Congratulations! You've been selected...",message:"Spam message content. UNSUBSCRIBE here.",receivedAt:"1d ago",tags:[],hasAttachment:!1,intent:"neutral"}].map(a=>{let b=S(a.fromEmail),c=a.message.toLowerCase().includes("unsubscribe")||a.message.toLowerCase().includes("spam")||a.subject.toLowerCase().includes("prize");return{...a,fromName:b?.name||null,status:c?"spam":b?"matched":"unmatched",playerName:b?.name||null,playerId:b?.id||null,programme:b?.programme||null}});function aa(){let{toast:a}=(0,P.useToast)(),[d,i]=(0,c.useState)("matched"),[l,p]=(0,c.useState)(!1),[q,w]=(0,c.useState)("30days"),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(_),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),J=(0,e.useRouter)(),K=z.filter(a=>{let b=a.status===d,c=""===x||a.fromName?.toLowerCase().includes(x.toLowerCase())||a.fromEmail.toLowerCase().includes(x.toLowerCase())||a.subject.toLowerCase().includes(x.toLowerCase())||a.preview.toLowerCase().includes(x.toLowerCase());return b&&c}),L=a=>{"matched"===a.status&&(E({id:a.playerId||"1",name:a.playerName||a.fromName,email:a.fromEmail,programme:a.programme,phone:"+44 7700 900000",location:"London, UK",avatar:void 0}),G(!0))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Card,{className:"mb-6 bg-white border border-gray-200 shadow-sm",children:(0,b.jsxs)("div",{className:"flex gap-1 p-2 border-b",children:[(0,b.jsx)("button",{onClick:()=>i("matched"),className:`px-6 py-2.5 rounded-lg text-sm font-medium transition-all ${"matched"===d?"bg-[#0A47B1] text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:"Matched"}),(0,b.jsx)("button",{onClick:()=>i("unmatched"),className:`px-6 py-2.5 rounded-lg text-sm font-medium transition-all ${"unmatched"===d?"bg-[#0A47B1] text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:"Unmatched"}),(0,b.jsx)("button",{onClick:()=>i("spam"),className:`px-6 py-2.5 rounded-lg text-sm font-medium transition-all ${"spam"===d?"bg-[#0A47B1] text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:"Spam"})]})}),(0,b.jsxs)("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[(0,b.jsxs)(k.Select,{value:q,onValueChange:a=>w(a),children:[(0,b.jsx)(k.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"7days",children:"Last 7 days"}),(0,b.jsx)(k.SelectItem,{value:"30days",children:"Last 30 days"}),(0,b.jsx)(k.SelectItem,{value:"all",children:"All time"})]})]}),(0,b.jsxs)("div",{className:"relative flex-1 min-w-[250px]",children:[(0,b.jsx)(n.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),(0,b.jsx)(j.Input,{placeholder:"Search by sender, subject, or content...",value:x,onChange:a=>y(a.target.value),className:"pl-9"})]}),"matched"===d&&K.length>0&&(0,b.jsxs)(g.Button,{onClick:()=>p(!0),className:"gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",children:[(0,b.jsx)(r,{className:"h-4 w-4"}),"AI Intent Analysis",(0,b.jsx)(u.Sparkles,{className:"h-3 w-3"})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:B?(0,b.jsx)(f.Card,{className:"p-8",children:(0,b.jsx)("div",{className:"text-center text-gray-500",children:"Loading email replies..."})}):0===K.length?(0,b.jsx)(f.Card,{className:"p-8",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(W.Mail,{className:"mx-auto h-12 w-12 text-gray-300 mb-3"}),(0,b.jsx)("p",{className:"text-gray-500",children:x.trim()?"No emails match your search.":`No ${d} email replies.`})]})}):K.map(c=>{var d;return(0,b.jsx)(f.Card,{className:"hover:shadow-md transition-shadow",children:(0,b.jsx)(f.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,b.jsx)($.Avatar,{className:"h-10 w-10",children:(0,b.jsx)($.AvatarFallback,{className:"bg-blue-100 text-blue-700",children:c.fromName?c.fromName.split(" ").map(a=>a[0]).join(""):"?"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:`font-medium text-gray-900 ${"matched"===c.status?"cursor-pointer hover:text-blue-600 hover:underline":""}`,onClick:()=>L(c),children:[c.fromName||"Unknown Sender","matched"===c.status&&c.programme&&(0,b.jsxs)("span",{className:"ml-2 text-xs font-normal text-gray-500",children:["â€¢ ",c.programme]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:c.fromEmail})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["matched"===c.status&&(0,b.jsx)(g.Button,{size:"sm",variant:"outline",className:"h-7 text-xs px-2.5 bg-white hover:bg-gray-50 text-gray-700 border-gray-200",onClick:a=>{a.stopPropagation(),L(c)},children:"View Player"}),"spam"===(d=c.status)?(0,b.jsx)(h.Badge,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:"Spam"}):"matched"===d?(0,b.jsx)(h.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Matched"}):(0,b.jsx)(h.Badge,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:"Unmatched"}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:c.receivedAt})]})]}),(0,b.jsx)("h3",{className:"text-sm mb-1 font-medium",children:c.subject}),(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:c.preview}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:["matched"===c.status&&c.intent&&(0,b.jsx)(b.Fragment,{children:"positive"===c.intent?(0,b.jsxs)(h.Badge,{className:"bg-green-50 text-green-700 border-green-200 text-xs",children:[(0,b.jsx)(s,{className:"h-3 w-3 mr-1"}),"Positive Intent"]}):"negative"===c.intent?(0,b.jsxs)(h.Badge,{className:"bg-red-50 text-red-700 border-red-200 text-xs",children:[(0,b.jsx)(t,{className:"h-3 w-3 mr-1"}),"Negative Intent"]}):null}),c.programme&&(0,b.jsx)(h.Badge,{variant:"outline",className:"text-xs",children:c.programme}),c.tags.map(a=>(0,b.jsxs)(h.Badge,{variant:"secondary",className:"text-xs",children:[(0,b.jsx)(Z.Tag,{className:"h-2.5 w-2.5 mr-1"}),a]},a)),c.hasAttachment&&(0,b.jsx)(h.Badge,{variant:"outline",className:"text-xs",children:"ðŸ“Ž Attachment"})]})]})]}),(0,b.jsxs)(v.DropdownMenu,{children:[(0,b.jsx)(v.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:(0,b.jsx)(o.MoreVertical,{className:"h-4 w-4"})})}),(0,b.jsxs)(v.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(v.DropdownMenuItem,{onClick:()=>{a({title:"Reply composer",description:`Opening reply to ${c.fromName}...`})},children:[(0,b.jsx)(X,{className:"mr-2 h-4 w-4"}),"Reply"]}),(0,b.jsxs)(v.DropdownMenuItem,{onClick:()=>{var b;return b=c.id,void(A(a=>a.filter(a=>a.id!==b)),a({title:"Email archived",description:"The email has been archived."}))},children:[(0,b.jsx)(Y.Clock,{className:"mr-2 h-4 w-4"}),"Archive"]}),"spam"!==c.status&&(0,b.jsxs)(v.DropdownMenuItem,{onClick:()=>{var b;return b=c.id,void(A(a=>a.map(a=>a.id===b?{...a,status:"spam"}:a)),a({title:"Marked as spam",description:"The email has been marked as spam."}))},className:"text-red-600",children:[(0,b.jsx)(m.AlertCircle,{className:"mr-2 h-4 w-4"}),"Mark as Spam"]})]})]})]})})},c.id)})}),l&&(0,b.jsx)(Q,{open:l,onOpenChange:p,messages:K.filter(a=>"matched"===a.status).map(a=>({id:a.id,fromNumber:a.fromEmail,message:a.message,playerName:a.playerName,programme:a.programme,intent:a.intent}))}),(0,b.jsx)(T.MatchedPlayerDialog,{open:F,onOpenChange:G,player:D,onCreateDeal:()=>{if(D){G(!1);let a=new URLSearchParams({action:"create_deal",playerId:D.id,playerName:D.name,playerEmail:D.email||"",playerPhone:D.phone||""});J.push(`/pipelines?${a.toString()}`)}}})]})}function ab(){let[a,e]=(0,c.useState)("email-replies");return(0,b.jsxs)(d.Tabs,{value:a,onValueChange:e,className:"space-y-4",children:[(0,b.jsxs)(d.TabsList,{className:"grid w-full max-w-[400px] grid-cols-2",children:[(0,b.jsxs)(d.TabsTrigger,{value:"email-replies",className:"gap-2",children:[(0,b.jsx)(W.Mail,{className:"h-4 w-4"}),"Email Replies"]}),(0,b.jsxs)(d.TabsTrigger,{value:"sms-replies",className:"gap-2",children:[(0,b.jsx)(l.MessageSquare,{className:"h-4 w-4"}),"SMS Replies"]})]}),(0,b.jsx)(d.TabsContent,{value:"email-replies",className:"mt-4",children:(0,b.jsx)(aa,{})}),(0,b.jsx)(d.TabsContent,{value:"sms-replies",className:"mt-4",children:(0,b.jsx)(V,{})})]})}a.s(["RepliesTabView",()=>ab],83747)}];

//# sourceMappingURL=components_replies_replies-tab-view_tsx_61c73a0d._.js.map