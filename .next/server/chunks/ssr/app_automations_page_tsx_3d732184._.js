module.exports=[45815,a=>{"use strict";let b;var c,d=a.i(87924),e=a.i(6331),f=a.i(92258),g=a.i(46864),h=a.i(1199),i=a.i(72131),j=a.i(69240),k=a.i(3130),l=a.i(40695),m=a.i(54161);function n(a,b,{checkForDefaultPrevented:c=!0}={}){return function(d){if(a?.(d),!1===c||!d.defaultPrevented)return b?.(d)}}function o(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function p(...a){return b=>{let c=!1,d=a.map(a=>{let d=o(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():o(a[b],null)}}}}function q(...a){return i.useCallback(p(...a),a)}function r(a,b=[]){let c=[],e=()=>{let b=c.map(a=>i.createContext(a));return function(c){let d=c?.[a]||b;return i.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return e.scopeName=a,[function(b,e){let f=i.createContext(e),g=c.length;c=[...c,e];let h=b=>{let{scope:c,children:e,...h}=b,j=c?.[a]?.[g]||f,k=i.useMemo(()=>h,Object.values(h));return(0,d.jsx)(j.Provider,{value:k,children:e})};return h.displayName=b+"Provider",[h,function(c,d){let h=d?.[a]?.[g]||f,j=i.useContext(h);if(j)return j;if(void 0!==e)return e;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return i.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(e,...b)]}var s=a.i(35112),t=Symbol("radix.slottable");function u(a){return i.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===t}var v=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{var c,e;let f,g,h,j=(e=c=`Primitive.${b}`,(f=i.forwardRef((a,b)=>{let{children:c,...d}=a;if(i.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==i.Fragment&&(h.ref=b?p(b,g):g),i.cloneElement(c,h)}return i.Children.count(c)>1?i.Children.only(null):null})).displayName=`${e}.SlotClone`,g=f,(h=i.forwardRef((a,b)=>{let{children:c,...e}=a,f=i.Children.toArray(c),h=f.find(u);if(h){let a=h.props.children,c=f.map(b=>b!==h?b:i.Children.count(a)>1?i.Children.only(null):i.isValidElement(a)?a.props.children:null);return(0,d.jsx)(g,{...e,ref:b,children:i.isValidElement(a)?i.cloneElement(a,void 0,c):null})}return(0,d.jsx)(g,{...e,ref:b,children:c})})).displayName=`${c}.Slot`,h),k=i.forwardRef((a,c)=>{let{asChild:e,...f}=a;return(0,d.jsx)(e?j:b,{...f,ref:c})});return k.displayName=`Primitive.${b}`,{...a,[b]:k}},{});function w(a){let b=i.useRef(a);return i.useEffect(()=>{b.current=a}),i.useMemo(()=>(...a)=>b.current?.(...a),[])}var x="dismissableLayer.update",y=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),z=i.forwardRef((a,b)=>{let{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:h,onInteractOutside:j,onDismiss:k,...l}=a,m=i.useContext(y),[o,p]=i.useState(null),r=o?.ownerDocument??globalThis?.document,[,s]=i.useState({}),t=q(b,a=>p(a)),u=Array.from(m.layers),[z]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=u.indexOf(z),D=o?u.indexOf(o):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,F=D>=C,G=function(a,b=globalThis?.document){let c=w(a),d=i.useRef(!1),e=i.useRef(()=>{});return i.useEffect(()=>{let a=a=>{if(a.target&&!d.current){let d=function(){B("dismissableLayer.pointerDownOutside",c,f,{discrete:!0})},f={originalEvent:a};"touch"===a.pointerType?(b.removeEventListener("click",e.current),e.current=d,b.addEventListener("click",e.current,{once:!0})):d()}else b.removeEventListener("click",e.current);d.current=!1},f=window.setTimeout(()=>{b.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(f),b.removeEventListener("pointerdown",a),b.removeEventListener("click",e.current)}},[b,c]),{onPointerDownCapture:()=>d.current=!0}}(a=>{let b=a.target,c=[...m.branches].some(a=>a.contains(b));F&&!c&&(g?.(a),j?.(a),a.defaultPrevented||k?.())},r),H=function(a,b=globalThis?.document){let c=w(a),d=i.useRef(!1);return i.useEffect(()=>{let a=a=>{a.target&&!d.current&&B("dismissableLayer.focusOutside",c,{originalEvent:a},{discrete:!1})};return b.addEventListener("focusin",a),()=>b.removeEventListener("focusin",a)},[b,c]),{onFocusCapture:()=>d.current=!0,onBlurCapture:()=>d.current=!1}}(a=>{let b=a.target;![...m.branches].some(a=>a.contains(b))&&(h?.(a),j?.(a),a.defaultPrevented||k?.())},r);return!function(a,b=globalThis?.document){let c=w(a);i.useEffect(()=>{let a=a=>{"Escape"===a.key&&c(a)};return b.addEventListener("keydown",a,{capture:!0}),()=>b.removeEventListener("keydown",a,{capture:!0})},[c,b])}(a=>{D===m.layers.size-1&&(f?.(a),!a.defaultPrevented&&k&&(a.preventDefault(),k()))},r),i.useEffect(()=>{if(o)return e&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(c=r.body.style.pointerEvents,r.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(o)),m.layers.add(o),A(),()=>{e&&1===m.layersWithOutsidePointerEventsDisabled.size&&(r.body.style.pointerEvents=c)}},[o,r,e,m]),i.useEffect(()=>()=>{o&&(m.layers.delete(o),m.layersWithOutsidePointerEventsDisabled.delete(o),A())},[o,m]),i.useEffect(()=>{let a=()=>s({});return document.addEventListener(x,a),()=>document.removeEventListener(x,a)},[]),(0,d.jsx)(v.div,{...l,ref:t,style:{pointerEvents:E?F?"auto":"none":void 0,...a.style},onFocusCapture:n(a.onFocusCapture,H.onFocusCapture),onBlurCapture:n(a.onBlurCapture,H.onBlurCapture),onPointerDownCapture:n(a.onPointerDownCapture,G.onPointerDownCapture)})});function A(){let a=new CustomEvent(x);document.dispatchEvent(a)}function B(a,b,c,{discrete:d}){let e=c.originalEvent.target,f=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:c});if(b&&e.addEventListener(a,b,{once:!0}),d)e&&s.flushSync(()=>e.dispatchEvent(f));else e.dispatchEvent(f)}z.displayName="DismissableLayer",i.forwardRef((a,b)=>{let c=i.useContext(y),e=i.useRef(null),f=q(b,e);return i.useEffect(()=>{let a=e.current;if(a)return c.branches.add(a),()=>{c.branches.delete(a)}},[c.branches]),(0,d.jsx)(v.div,{...a,ref:f})}).displayName="DismissableLayerBranch";var C=globalThis?.document?i.useLayoutEffect:()=>{},D=i[" useId ".trim().toString()]||(()=>void 0),E=0,F=a.i(90442),G=a.i(94417),H=i.forwardRef((a,b)=>{let{children:c,width:e=10,height:f=5,...g}=a;return(0,d.jsx)(v.svg,{...g,ref:b,width:e,height:f,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:a.asChild?c:(0,d.jsx)("polygon",{points:"0,0 30,0 15,10"})})});H.displayName="Arrow";var I="Popper",[J,K]=r(I),[L,M]=J(I),N=a=>{let{__scopePopper:b,children:c}=a,[e,f]=i.useState(null);return(0,d.jsx)(L,{scope:b,anchor:e,onAnchorChange:f,children:c})};N.displayName=I;var O="PopperAnchor",P=i.forwardRef((a,b)=>{let{__scopePopper:c,virtualRef:e,...f}=a,g=M(O,c),h=i.useRef(null),j=q(b,h),k=i.useRef(null);return i.useEffect(()=>{let a=k.current;k.current=e?.current||h.current,a!==k.current&&g.onAnchorChange(k.current)}),e?null:(0,d.jsx)(v.div,{...f,ref:j})});P.displayName=O;var Q="PopperContent",[R,S]=J(Q),T=i.forwardRef((a,b)=>{let{__scopePopper:c,side:e="bottom",sideOffset:f=0,align:g="center",alignOffset:h=0,arrowPadding:j=0,avoidCollisions:k=!0,collisionBoundary:l=[],collisionPadding:m=0,sticky:n="partial",hideWhenDetached:o=!1,updatePositionStrategy:p="optimized",onPlaced:r,...s}=a,t=M(Q,c),[u,x]=i.useState(null),y=q(b,a=>x(a)),[z,A]=i.useState(null),B=function(a){let[b,c]=i.useState(void 0);return C(()=>{if(a){c({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let d,e;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;d=b.inlineSize,e=b.blockSize}else d=a.offsetWidth,e=a.offsetHeight;c({width:d,height:e})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}c(void 0)},[a]),b}(z),D=B?.width??0,E=B?.height??0,H="number"==typeof m?m:{top:0,right:0,bottom:0,left:0,...m},I=Array.isArray(l)?l:[l],J=I.length>0,K={padding:H,boundary:I.filter(X),altBoundary:J},{refs:L,floatingStyles:N,placement:O,isPositioned:P,middlewareData:S}=(0,F.useFloating)({strategy:"fixed",placement:e+("center"!==g?"-"+g:""),whileElementsMounted:(...a)=>(0,G.autoUpdate)(...a,{animationFrame:"always"===p}),elements:{reference:t.anchor},middleware:[(0,F.offset)({mainAxis:f+E,alignmentAxis:h}),k&&(0,F.shift)({mainAxis:!0,crossAxis:!1,limiter:"partial"===n?(0,F.limitShift)():void 0,...K}),k&&(0,F.flip)({...K}),(0,F.size)({...K,apply:({elements:a,rects:b,availableWidth:c,availableHeight:d})=>{let{width:e,height:f}=b.reference,g=a.floating.style;g.setProperty("--radix-popper-available-width",`${c}px`),g.setProperty("--radix-popper-available-height",`${d}px`),g.setProperty("--radix-popper-anchor-width",`${e}px`),g.setProperty("--radix-popper-anchor-height",`${f}px`)}}),z&&(0,F.arrow)({element:z,padding:j}),Y({arrowWidth:D,arrowHeight:E}),o&&(0,F.hide)({strategy:"referenceHidden",...K})]}),[T,U]=Z(O),V=w(r);C(()=>{P&&V?.()},[P,V]);let W=S.arrow?.x,$=S.arrow?.y,_=S.arrow?.centerOffset!==0,[aa,ab]=i.useState();return C(()=>{u&&ab(window.getComputedStyle(u).zIndex)},[u]),(0,d.jsx)("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...N,transform:P?N.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:aa,"--radix-popper-transform-origin":[S.transformOrigin?.x,S.transformOrigin?.y].join(" "),...S.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:a.dir,children:(0,d.jsx)(R,{scope:c,placedSide:T,onArrowChange:A,arrowX:W,arrowY:$,shouldHideArrow:_,children:(0,d.jsx)(v.div,{"data-side":T,"data-align":U,...s,ref:y,style:{...s.style,animation:P?void 0:"none"}})})})});T.displayName=Q;var U="PopperArrow",V={top:"bottom",right:"left",bottom:"top",left:"right"},W=i.forwardRef(function(a,b){let{__scopePopper:c,...e}=a,f=S(U,c),g=V[f.placedSide];return(0,d.jsx)("span",{ref:f.onArrowChange,style:{position:"absolute",left:f.arrowX,top:f.arrowY,[g]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[f.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[f.placedSide],visibility:f.shouldHideArrow?"hidden":void 0},children:(0,d.jsx)(H,{...e,ref:b,style:{...e.style,display:"block"}})})});function X(a){return null!==a}W.displayName=U;var Y=a=>({name:"transformOrigin",options:a,fn(b){let{placement:c,rects:d,middlewareData:e}=b,f=e.arrow?.centerOffset!==0,g=f?0:a.arrowWidth,h=f?0:a.arrowHeight,[i,j]=Z(c),k={start:"0%",center:"50%",end:"100%"}[j],l=(e.arrow?.x??0)+g/2,m=(e.arrow?.y??0)+h/2,n="",o="";return"bottom"===i?(n=f?k:`${l}px`,o=`${-h}px`):"top"===i?(n=f?k:`${l}px`,o=`${d.floating.height+h}px`):"right"===i?(n=`${-h}px`,o=f?k:`${m}px`):"left"===i&&(n=`${d.floating.width+h}px`,o=f?k:`${m}px`),{data:{x:n,y:o}}}});function Z(a){let[b,c="center"]=a.split("-");return[b,c]}i.forwardRef((a,b)=>{let{container:c,...e}=a,[f,g]=i.useState(!1);C(()=>g(!0),[]);let h=c||f&&globalThis?.document?.body;return h?s.default.createPortal((0,d.jsx)(v.div,{...e,ref:b}),h):null}).displayName="Portal";var $=a=>{var b;let c,d,{present:e,children:f}=a,g=function(a){var b,c;let[d,e]=i.useState(),f=i.useRef(null),g=i.useRef(a),h=i.useRef("none"),[j,k]=(b=a?"mounted":"unmounted",c={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},i.useReducer((a,b)=>c[a][b]??a,b));return i.useEffect(()=>{let a=_(f.current);h.current="mounted"===j?a:"none"},[j]),C(()=>{let b=f.current,c=g.current;if(c!==a){let d=h.current,e=_(b);a?k("MOUNT"):"none"===e||b?.display==="none"?k("UNMOUNT"):c&&d!==e?k("ANIMATION_OUT"):k("UNMOUNT"),g.current=a}},[a,k]),C(()=>{if(d){let a,b=d.ownerDocument.defaultView??window,c=c=>{let e=_(f.current).includes(CSS.escape(c.animationName));if(c.target===d&&e&&(k("ANIMATION_END"),!g.current)){let c=d.style.animationFillMode;d.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===d.style.animationFillMode&&(d.style.animationFillMode=c)})}},e=a=>{a.target===d&&(h.current=_(f.current))};return d.addEventListener("animationstart",e),d.addEventListener("animationcancel",c),d.addEventListener("animationend",c),()=>{b.clearTimeout(a),d.removeEventListener("animationstart",e),d.removeEventListener("animationcancel",c),d.removeEventListener("animationend",c)}}k("ANIMATION_END")},[d,k]),{isPresent:["mounted","unmountSuspended"].includes(j),ref:i.useCallback(a=>{f.current=a?getComputedStyle(a):null,e(a)},[])}}(e),h="function"==typeof f?f({present:g.isPresent}):i.Children.only(f),j=q(g.ref,(b=h,(d=(c=Object.getOwnPropertyDescriptor(b.props,"ref")?.get)&&"isReactWarning"in c&&c.isReactWarning)?b.ref:(d=(c=Object.getOwnPropertyDescriptor(b,"ref")?.get)&&"isReactWarning"in c&&c.isReactWarning)?b.props.ref:b.props.ref||b.ref));return"function"==typeof f||g.isPresent?i.cloneElement(h,{ref:j}):null};function _(a){return a?.animationName||"none"}$.displayName="Presence",globalThis?.document&&i.useLayoutEffect,i[" useEffectEvent ".trim().toString()],i[" useInsertionEffect ".trim().toString()];var aa=i[" useInsertionEffect ".trim().toString()]||C;Symbol("RADIX:SYNC_STATE");var ab=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ac=i.forwardRef((a,b)=>(0,d.jsx)(v.span,{...a,ref:b,style:{...ab,...a.style}}));ac.displayName="VisuallyHidden";var[ad,ae]=r("Tooltip",[K]),af=K(),ag="TooltipProvider",ah="tooltip.open",[ai,aj]=ad(ag),ak=a=>{let{__scopeTooltip:b,delayDuration:c=700,skipDelayDuration:e=300,disableHoverableContent:f=!1,children:g}=a,h=i.useRef(!0),j=i.useRef(!1),k=i.useRef(0);return i.useEffect(()=>{let a=k.current;return()=>window.clearTimeout(a)},[]),(0,d.jsx)(ai,{scope:b,isOpenDelayedRef:h,delayDuration:c,onOpen:i.useCallback(()=>{window.clearTimeout(k.current),h.current=!1},[]),onClose:i.useCallback(()=>{window.clearTimeout(k.current),k.current=window.setTimeout(()=>h.current=!0,e)},[e]),isPointerInTransitRef:j,onPointerInTransitChange:i.useCallback(a=>{j.current=a},[]),disableHoverableContent:f,children:g})};ak.displayName=ag;var al="Tooltip",[am,an]=ad(al),ao=a=>{let{__scopeTooltip:b,children:c,open:e,defaultOpen:f,onOpenChange:g,disableHoverableContent:h,delayDuration:j}=a,k=aj(al,a.__scopeTooltip),l=af(b),[m,n]=i.useState(null),o=function(a){let[b,c]=i.useState(D());return C(()=>{c(a=>a??String(E++))},[void 0]),b?`radix-${b}`:""}(),p=i.useRef(0),q=h??k.disableHoverableContent,r=j??k.delayDuration,s=i.useRef(!1),[t,u]=function({prop:a,defaultProp:b,onChange:c=()=>{},caller:d}){let[e,f,g]=function({defaultProp:a,onChange:b}){let[c,d]=i.useState(a),e=i.useRef(c),f=i.useRef(b);return aa(()=>{f.current=b},[b]),i.useEffect(()=>{e.current!==c&&(f.current?.(c),e.current=c)},[c,e]),[c,d,f]}({defaultProp:b,onChange:c}),h=void 0!==a,j=h?a:e;{let b=i.useRef(void 0!==a);i.useEffect(()=>{let a=b.current;if(a!==h){let b=h?"controlled":"uncontrolled";console.warn(`${d} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}b.current=h},[h,d])}return[j,i.useCallback(b=>{if(h){let c="function"==typeof b?b(a):b;c!==a&&g.current?.(c)}else f(b)},[h,a,f,g])]}({prop:e,defaultProp:f??!1,onChange:a=>{a?(k.onOpen(),document.dispatchEvent(new CustomEvent(ah))):k.onClose(),g?.(a)},caller:al}),v=i.useMemo(()=>t?s.current?"delayed-open":"instant-open":"closed",[t]),w=i.useCallback(()=>{window.clearTimeout(p.current),p.current=0,s.current=!1,u(!0)},[u]),x=i.useCallback(()=>{window.clearTimeout(p.current),p.current=0,u(!1)},[u]),y=i.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{s.current=!0,u(!0),p.current=0},r)},[r,u]);return i.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,d.jsx)(N,{...l,children:(0,d.jsx)(am,{scope:b,contentId:o,open:t,stateAttribute:v,trigger:m,onTriggerChange:n,onTriggerEnter:i.useCallback(()=>{k.isOpenDelayedRef.current?y():w()},[k.isOpenDelayedRef,y,w]),onTriggerLeave:i.useCallback(()=>{q?x():(window.clearTimeout(p.current),p.current=0)},[x,q]),onOpen:w,onClose:x,disableHoverableContent:q,children:c})})};ao.displayName=al;var ap="TooltipTrigger",aq=i.forwardRef((a,b)=>{let{__scopeTooltip:c,...e}=a,f=an(ap,c),g=aj(ap,c),h=af(c),j=q(b,i.useRef(null),f.onTriggerChange),k=i.useRef(!1),l=i.useRef(!1),m=i.useCallback(()=>k.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),(0,d.jsx)(P,{asChild:!0,...h,children:(0,d.jsx)(v.button,{"aria-describedby":f.open?f.contentId:void 0,"data-state":f.stateAttribute,...e,ref:j,onPointerMove:n(a.onPointerMove,a=>{"touch"!==a.pointerType&&(l.current||g.isPointerInTransitRef.current||(f.onTriggerEnter(),l.current=!0))}),onPointerLeave:n(a.onPointerLeave,()=>{f.onTriggerLeave(),l.current=!1}),onPointerDown:n(a.onPointerDown,()=>{f.open&&f.onClose(),k.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:n(a.onFocus,()=>{k.current||f.onOpen()}),onBlur:n(a.onBlur,f.onClose),onClick:n(a.onClick,f.onClose)})})});aq.displayName=ap;var[ar,as]=ad("TooltipPortal",{forceMount:void 0}),at="TooltipContent",au=i.forwardRef((a,b)=>{let c=as(at,a.__scopeTooltip),{forceMount:e=c.forceMount,side:f="top",...g}=a,h=an(at,a.__scopeTooltip);return(0,d.jsx)($,{present:e||h.open,children:h.disableHoverableContent?(0,d.jsx)(az,{side:f,...g,ref:b}):(0,d.jsx)(av,{side:f,...g,ref:b})})}),av=i.forwardRef((a,b)=>{let c=an(at,a.__scopeTooltip),e=aj(at,a.__scopeTooltip),f=i.useRef(null),g=q(b,f),[h,j]=i.useState(null),{trigger:k,onClose:l}=c,m=f.current,{onPointerInTransitChange:n}=e,o=i.useCallback(()=>{j(null),n(!1)},[n]),p=i.useCallback((a,b)=>{let c,d=a.currentTarget,e={x:a.clientX,y:a.clientY},f=function(a,b){let c=Math.abs(b.top-a.y),d=Math.abs(b.bottom-a.y),e=Math.abs(b.right-a.x),f=Math.abs(b.left-a.x);switch(Math.min(c,d,e,f)){case f:return"left";case e:return"right";case c:return"top";case d:return"bottom";default:throw Error("unreachable")}}(e,d.getBoundingClientRect());j(((c=[...function(a,b,c=5){let d=[];switch(b){case"top":d.push({x:a.x-c,y:a.y+c},{x:a.x+c,y:a.y+c});break;case"bottom":d.push({x:a.x-c,y:a.y-c},{x:a.x+c,y:a.y-c});break;case"left":d.push({x:a.x+c,y:a.y-c},{x:a.x+c,y:a.y+c});break;case"right":d.push({x:a.x-c,y:a.y-c},{x:a.x-c,y:a.y+c})}return d}(e,f),...function(a){let{top:b,right:c,bottom:d,left:e}=a;return[{x:e,y:b},{x:c,y:b},{x:c,y:d},{x:e,y:d}]}(b.getBoundingClientRect())].slice()).sort((a,b)=>a.x<b.x?-1:a.x>b.x?1:a.y<b.y?-1:1*!!(a.y>b.y)),function(a){if(a.length<=1)return a.slice();let b=[];for(let c=0;c<a.length;c++){let d=a[c];for(;b.length>=2;){let a=b[b.length-1],c=b[b.length-2];if((a.x-c.x)*(d.y-c.y)>=(a.y-c.y)*(d.x-c.x))b.pop();else break}b.push(d)}b.pop();let c=[];for(let b=a.length-1;b>=0;b--){let d=a[b];for(;c.length>=2;){let a=c[c.length-1],b=c[c.length-2];if((a.x-b.x)*(d.y-b.y)>=(a.y-b.y)*(d.x-b.x))c.pop();else break}c.push(d)}return(c.pop(),1===b.length&&1===c.length&&b[0].x===c[0].x&&b[0].y===c[0].y)?b:b.concat(c)}(c))),n(!0)},[n]);return i.useEffect(()=>()=>o(),[o]),i.useEffect(()=>{if(k&&m){let a=a=>p(a,m),b=a=>p(a,k);return k.addEventListener("pointerleave",a),m.addEventListener("pointerleave",b),()=>{k.removeEventListener("pointerleave",a),m.removeEventListener("pointerleave",b)}}},[k,m,p,o]),i.useEffect(()=>{if(h){let a=a=>{let b=a.target,c={x:a.clientX,y:a.clientY},d=k?.contains(b)||m?.contains(b),e=!function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a],h=b[f],i=g.x,j=g.y,k=h.x,l=h.y;j>d!=l>d&&c<(k-i)*(d-j)/(l-j)+i&&(e=!e)}return e}(c,h);d?o():e&&(o(),l())};return document.addEventListener("pointermove",a),()=>document.removeEventListener("pointermove",a)}},[k,m,h,l,o]),(0,d.jsx)(az,{...a,ref:g})}),[aw,ax]=ad(al,{isInside:!1}),ay=((b=({children:a})=>(0,d.jsx)(d.Fragment,{children:a})).displayName="TooltipContent.Slottable",b.__radixId=t,b),az=i.forwardRef((a,b)=>{let{__scopeTooltip:c,children:e,"aria-label":f,onEscapeKeyDown:g,onPointerDownOutside:h,...j}=a,k=an(at,c),l=af(c),{onClose:m}=k;return i.useEffect(()=>(document.addEventListener(ah,m),()=>document.removeEventListener(ah,m)),[m]),i.useEffect(()=>{if(k.trigger){let a=a=>{let b=a.target;b?.contains(k.trigger)&&m()};return window.addEventListener("scroll",a,{capture:!0}),()=>window.removeEventListener("scroll",a,{capture:!0})}},[k.trigger,m]),(0,d.jsx)(z,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:g,onPointerDownOutside:h,onFocusOutside:a=>a.preventDefault(),onDismiss:m,children:(0,d.jsxs)(T,{"data-state":k.stateAttribute,...l,...j,ref:b,style:{...j.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,d.jsx)(ay,{children:e}),(0,d.jsx)(aw,{scope:c,isInside:!0,children:(0,d.jsx)(ac,{id:k.contentId,role:"tooltip",children:f||e})})]})})});au.displayName=at;var aA="TooltipArrow";i.forwardRef((a,b)=>{let{__scopeTooltip:c,...e}=a,f=af(c);return ax(aA,c).isInside?null:(0,d.jsx)(W,{...f,...e,ref:b})}).displayName=aA;var aB=a.i(97895);let aC=i.forwardRef(({className:a,sideOffset:b=4,...c},e)=>(0,d.jsx)(au,{ref:e,sideOffset:b,className:(0,aB.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c}));aC.displayName=au.displayName;var aD=a.i(50522);let aE=(0,a.i(70106).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var aF=a.i(92e3),aG=a.i(65733),aH=a.i(41710),aI=a.i(33350),aJ=a.i(73570),aK=a.i(80281),aL=a.i(17171),aM=a.i(5522),aN=a.i(46893),aO=a.i(87682),aP=a.i(77687),aQ=a.i(96221);let aR={subject:"Welcome to IFG - Your Pathway to Success",body:`Hi {{player_name}},

Welcome to The International Football Group! We're excited to help you take the next step in your football career.

Over the coming days, we'll share more information about our programmes and how we can support your journey.

Best regards,
The IFG Team`,fromName:"The International Football Group",replyTo:"admin@ifgcrm.com"},aS="days";function aT({workflowId:a,step:b,open:c,onClose:e,onStepUpdated:f}){let{toast:g}=(0,aP.useToast)(),[h,j]=(0,i.useState)(!1),[k,n]=(0,i.useState)(null),o=(0,i.useRef)(null),[p,q]=(0,i.useState)(aR.subject),[r,s]=(0,i.useState)(aR.body),[t,u]=(0,i.useState)(aR.fromName),[v,w]=(0,i.useState)(aR.replyTo),[x,y]=(0,i.useState)(""),[z,A]=(0,i.useState)(2),[B,C]=(0,i.useState)(aS),[D,E]=(0,i.useState)(""),[F,G]=(0,i.useState)(!1);(0,i.useEffect)(()=>{c&&(n(null),y(""),E(""),G(!1),"email"===b.type?(q(aR.subject),s(aR.body),u(aR.fromName),w(aR.replyTo)):"wait"===b.type&&(A(2),C(aS)))},[c,b.type]),(0,i.useEffect)(()=>{"email"===b.type&&G(p!==aR.subject||r!==aR.body||t!==aR.fromName||v!==aR.replyTo)},[p,r,t,v,b.type]),(0,i.useEffect)(()=>{"wait"===b.type&&G(2!==z||B!==aS)},[z,B,b.type]);let H=a=>{let b=o.current;if(!b)return;let c=b.selectionStart,d=b.selectionEnd;s(r.substring(0,c)+a+r.substring(d)),setTimeout(()=>{b.focus(),b.setSelectionRange(c+a.length,c+a.length)},0)},I=async()=>{if(!p.trim())return void y("Subject line is required.");y(""),j(!0),n(null);try{let c=await fetch(`/api/automations/${a}/steps/${b.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:p.trim(),body:r.trim(),fromName:t.trim()||aR.fromName,replyTo:v.trim()||aR.replyTo})});if(!c.ok){if(403===c.status){n("You don't have permission to edit this step. Contact your CRM admin."),j(!1);return}throw Error("Failed to save")}g({title:"Email step updated",description:"Your changes have been saved."}),f?.(),e()}catch(a){n("We couldn't save your changes. Please try again.")}finally{j(!1)}},J=async()=>{if(z<=0)return void E("Wait time must be greater than zero.");E(""),j(!0),n(null);try{let c=await fetch(`/api/automations/${a}/steps/${b.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({waitValue:z,waitUnit:B})});if(!c.ok){if(403===c.status){n("You don't have permission to edit this step. Contact your CRM admin."),j(!1);return}throw Error("Failed to save")}g({title:"Wait step updated",description:"Your changes have been saved."}),f?.(),e()}catch(a){n("We couldn't save your changes. Please try again.")}finally{j(!1)}};return(0,d.jsx)(aG.Dialog,{open:c,onOpenChange:e,children:(0,d.jsxs)(aG.DialogContent,{className:"max-w-2xl max-h-[90vh] my-4 overflow-hidden p-0 flex flex-col",children:[(0,d.jsx)(aG.DialogHeader,{className:"border-b pb-5 mb-6",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${"email"===b.type?"bg-blue-50":"wait"===b.type?"bg-amber-50":"bg-purple-50"}`,children:(0,d.jsx)(b.icon,{className:`h-5 w-5 ${"email"===b.type?"text-blue-600":"wait"===b.type?"text-amber-600":"text-purple-600"}`})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)(aG.DialogTitle,{className:"text-lg font-bold text-gray-900",children:b.title}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"email"===b.type?"Sends when this step is reached in the workflow.":"wait"===b.type?"Delays the next step in the workflow.":"Applies a tag when this step executes."})]})]})}),k&&(0,d.jsxs)("div",{className:"mb-4 flex items-start gap-2 rounded-lg border border-red-200 bg-red-50 px-4 py-3",children:[(0,d.jsx)(aF.AlertCircle,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),(0,d.jsx)("p",{className:"text-sm text-red-800",children:k})]}),(0,d.jsxs)("div",{className:"space-y-6",children:["email"===b.type&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)(aL.Label,{htmlFor:"subject",className:"text-sm font-semibold text-gray-900 mb-2 block",children:["Subject Line ",(0,d.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,d.jsx)(aM.Input,{id:"subject",value:p,onChange:a=>q(a.target.value),placeholder:"Enter email subject",className:x?"border-red-500":"",disabled:h}),x&&(0,d.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(aL.Label,{htmlFor:"body",className:"text-sm font-semibold text-gray-900 mb-2 block",children:["Email Body ",(0,d.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,d.jsx)(aN.Textarea,{ref:o,id:"body",value:r,onChange:a=>s(a.target.value),placeholder:"Enter email body...",rows:10,className:"font-mono text-sm resize-none",disabled:h}),(0,d.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["You can use dynamic fields like ","{{player_name}}",", ","{{programme}}",", ","{{recruiter_name}}","."]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,d.jsx)("button",{type:"button",onClick:()=>H("{{player_name}}"),className:"inline-flex items-center px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-xs font-medium hover:bg-blue-100 transition-colors",disabled:h,children:"{{player_name}}"}),(0,d.jsx)("button",{type:"button",onClick:()=>H("{{programme}}"),className:"inline-flex items-center px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-xs font-medium hover:bg-blue-100 transition-colors",disabled:h,children:"{{programme}}"}),(0,d.jsx)("button",{type:"button",onClick:()=>H("{{recruiter_name}}"),className:"inline-flex items-center px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-xs font-medium hover:bg-blue-100 transition-colors",disabled:h,children:"{{recruiter_name}}"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)(aL.Label,{htmlFor:"fromName",className:"text-sm font-medium text-gray-700 mb-2 block",children:["From name ",(0,d.jsx)("span",{className:"text-gray-400",children:"(optional)"})]}),(0,d.jsx)(aM.Input,{id:"fromName",value:t,onChange:a=>u(a.target.value),placeholder:aR.fromName,disabled:h})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(aL.Label,{htmlFor:"replyTo",className:"text-sm font-medium text-gray-700 mb-2 block",children:["Reply-to email ",(0,d.jsx)("span",{className:"text-gray-400",children:"(optional)"})]}),(0,d.jsx)(aM.Input,{id:"replyTo",type:"email",value:v,onChange:a=>w(a.target.value),placeholder:aR.replyTo,disabled:h})]})]})]}),"wait"===b.type&&(0,d.jsxs)("div",{children:[(0,d.jsx)(aL.Label,{htmlFor:"waitValue",className:"text-sm font-semibold text-gray-900 mb-2 block",children:"Wait before the next step"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(aM.Input,{id:"waitValue",type:"number",min:"1",value:z,onChange:a=>A(parseInt(a.target.value)||0),className:`w-24 ${D?"border-red-500":""}`,disabled:h}),(0,d.jsxs)(aO.Select,{value:B,onValueChange:a=>C(a),disabled:h,children:[(0,d.jsx)(aO.SelectTrigger,{className:"w-32",children:(0,d.jsx)(aO.SelectValue,{})}),(0,d.jsxs)(aO.SelectContent,{children:[(0,d.jsx)(aO.SelectItem,{value:"minutes",children:"minutes"}),(0,d.jsx)(aO.SelectItem,{value:"hours",children:"hours"}),(0,d.jsx)(aO.SelectItem,{value:"days",children:"days"})]})]})]}),D&&(0,d.jsx)("p",{className:"text-xs text-red-600 mt-1",children:D}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Changing this will only affect future runs, not messages already scheduled."})]}),"tag"===b.type&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-2",children:"Tag Details"}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)(m.Badge,{className:"bg-purple-100 text-purple-700 border-purple-200",children:"Signed Player"})}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-3",children:"This tag will be automatically applied to the player when this step executes."})]})]}),("email"===b.type||"wait"===b.type)&&(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 pt-6 mt-6 border-t",children:[(0,d.jsx)(l.Button,{variant:"ghost",onClick:()=>{e()},disabled:h,className:"flex-1",children:"Cancel"}),(0,d.jsx)(l.Button,{onClick:"email"===b.type?I:J,disabled:!F||h||!!k,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:h?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(aQ.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save changes"})]})]})})}var aU=a.i(67453),aV=a.i(62722);let aW=[{id:1,playerName:"John Smith",email:"john@example.com",sentAt:"2 hours ago",status:"delivered"},{id:2,playerName:"Emma Wilson",email:"emma@example.com",sentAt:"5 hours ago",status:"delivered"},{id:3,playerName:"Michael Brown",email:"michael@example.com",sentAt:"1 day ago",status:"failed"},{id:4,playerName:"Sarah Davis",email:"sarah@example.com",sentAt:"1 day ago",status:"delivered"},{id:5,playerName:"James Taylor",email:"james@example.com",sentAt:"2 days ago",status:"delivered"}];function aX({workflowName:a,open:b,onClose:c}){return(0,d.jsx)(aG.Dialog,{open:b,onOpenChange:c,children:(0,d.jsxs)(aG.DialogContent,{className:"max-w-2xl max-h-[90vh] my-4 overflow-hidden p-0 flex flex-col",children:[(0,d.jsxs)(aG.DialogHeader,{className:"border-b pb-4 mb-6",children:[(0,d.jsx)(aG.DialogTitle,{className:"text-lg font-bold text-gray-900",children:"Messages Sent"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:a})]}),(0,d.jsx)("div",{className:"space-y-3",children:aW.map(a=>(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 transition-colors",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center",children:(0,d.jsx)(f.Mail,{className:"h-4 w-4 text-blue-600"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.playerName}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:a.email}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a.sentAt})]}),(0,d.jsx)("div",{className:"flex-shrink-0",children:"delivered"===a.status?(0,d.jsxs)(m.Badge,{className:"bg-green-100 text-green-700 border-green-200 flex items-center gap-1",children:[(0,d.jsx)(aU.CheckCircle2,{className:"h-3 w-3"}),"Sent"]}):(0,d.jsxs)(m.Badge,{className:"bg-red-100 text-red-700 border-red-200 flex items-center gap-1",children:[(0,d.jsx)(aV.XCircle,{className:"h-3 w-3"}),"Failed"]})})]},a.id))})]})})}let aY={1:[{id:1,type:"email",title:"Send Email: Welcome to IFG",subtitle:"Immediately",icon:f.Mail},{id:2,type:"wait",title:"Wait",subtitle:"2 days",icon:aH.Clock},{id:3,type:"email",title:"Send Email: Programme Details",subtitle:"After wait",icon:f.Mail},{id:4,type:"wait",title:"Wait",subtitle:"5 days",icon:aH.Clock},{id:5,type:"email",title:"Send Email: Next Steps",subtitle:"After wait",icon:f.Mail}],2:[{id:1,type:"email",title:"Send Email: Congratulations",subtitle:"Immediately",icon:f.Mail},{id:2,type:"tag",title:"Apply Tag: Signed Player",subtitle:"After email",icon:aI.Tag}],3:[{id:1,type:"email",title:"Send Email: Invoice Due Soon",subtitle:"3 days before due date",icon:f.Mail},{id:2,type:"wait",title:"Wait",subtitle:"Until due date",icon:aH.Clock},{id:3,type:"email",title:"Send Email: Invoice Overdue",subtitle:"1 day after due date",icon:f.Mail}]};function aZ({workflow:a,open:b,onClose:c}){let[e,f]=(0,i.useState)("Active"===a.status),[g,h]=(0,i.useState)(null),[j,k]=(0,i.useState)(!1),[n,o]=(0,i.useState)(!1),[p,q]=(0,i.useState)(!0),[r,s]=(0,i.useState)(!1),[t,u]=(0,i.useState)([]),[v,w]=(0,i.useState)(null);(0,i.useEffect)(()=>{b&&x()},[b,a.id]);let x=async()=>{try{q(!0),s(!1),await new Promise(a=>setTimeout(a,600)),u(aY[a.id]||[])}catch(a){s(!0)}finally{q(!1)}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(aG.Dialog,{open:b,onOpenChange:c,children:(0,d.jsxs)(aG.DialogContent,{className:"max-w-2xl max-h-[90vh] my-4 overflow-hidden p-0 flex flex-col",children:[(0,d.jsx)(aG.DialogHeader,{className:"border-b pb-4 mb-5",children:p?(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-11 h-11 rounded-lg bg-[#E5E7EB] animate-pulse flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,d.jsx)("div",{className:"h-5 w-48 bg-[#E5E7EB] animate-pulse rounded"}),(0,d.jsx)("div",{className:"h-4 w-64 bg-[#E5E7EB] animate-pulse rounded"})]})]}):(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-11 h-11 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(a.icon,{className:"h-5 w-5 text-white"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)(aG.DialogTitle,{className:"text-lg font-bold text-gray-900",children:a.name}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:a.description})]})]})}),!p&&!r&&a.hasError&&(0,d.jsxs)("div",{className:"mb-4 flex items-center justify-between rounded-lg border border-red-200 bg-red-50 px-4 py-3 border-l-4 border-l-red-500",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(aJ.AlertTriangle,{className:"h-4 w-4 text-red-600 flex-shrink-0"}),(0,d.jsx)("p",{className:"text-sm text-red-800",children:"This workflow encountered an error during the last run."})]}),(0,d.jsx)(l.Button,{size:"sm",onClick:()=>{console.log("[v0] Retrying workflow:",a.id)},className:"bg-blue-600 hover:bg-blue-700 text-white h-8 text-xs flex-shrink-0",children:"Retry"})]}),r?(0,d.jsxs)("div",{className:"py-16 flex flex-col items-center justify-center text-center",children:[(0,d.jsx)("div",{className:"rounded-full bg-red-100 p-3 mb-3",children:(0,d.jsx)(aF.AlertCircle,{className:"h-6 w-6 text-red-600"})}),(0,d.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"Something went wrong"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"We couldn't load this workflow."}),(0,d.jsx)(l.Button,{variant:"link",size:"sm",onClick:()=>{x()},className:"text-blue-600 hover:text-blue-700",children:"Retry"})]}):p?(0,d.jsxs)("div",{className:"space-y-5",children:[(0,d.jsx)("div",{className:"h-14 w-full bg-[#E5E7EB] animate-pulse rounded-lg"}),(0,d.jsx)("div",{className:"space-y-2",children:(0,d.jsx)("div",{className:"h-16 w-full bg-[#E5E7EB] animate-pulse rounded-lg"})}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("div",{className:"h-10 w-32 bg-[#E5E7EB] animate-pulse rounded-lg"}),[1,2,3].map(a=>(0,d.jsx)("div",{className:"h-16 w-full bg-[#E5E7EB] animate-pulse rounded-lg"},a))]})]}):(0,d.jsxs)("div",{className:"space-y-5",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-3 py-2.5 rounded-lg border border-gray-200 bg-gray-50",children:[(0,d.jsx)(aL.Label,{htmlFor:"status-toggle",className:"text-sm font-medium text-gray-900",children:"Workflow Status"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(m.Badge,{variant:e?"default":"secondary",className:e?"bg-green-100 text-green-700 border-green-200 text-xs":"bg-gray-100 text-gray-600 border-gray-200 text-xs",children:e?"Active":"Paused"}),(0,d.jsx)(aK.Switch,{id:"status-toggle",checked:e,onCheckedChange:f})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"bg-gray-50 px-3 py-2 rounded-t-lg border border-b-0 border-gray-200",children:(0,d.jsx)("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Trigger"})}),(0,d.jsxs)("div",{className:"flex items-start gap-3 px-3 py-2.5 rounded-b-lg border border-gray-200 bg-white",children:[(0,d.jsx)(aE,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),(0,d.jsx)("p",{className:"text-sm text-gray-700",children:a.trigger})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"bg-gray-50 px-3 py-2 mb-3 rounded-lg border border-gray-200",children:(0,d.jsx)("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Steps"})}),(0,d.jsx)("div",{className:"space-y-0 divide-y divide-gray-100 border border-gray-200 rounded-lg overflow-hidden",children:t.map((b,c)=>{let e=a.isRunning&&0===c,f=a.hasError&&0===c,g=b.id===v;return(0,d.jsxs)("button",{onClick:()=>{h(b),k(!0)},className:`w-full flex items-center gap-3 px-3 py-3 bg-white hover:bg-gray-50 transition-all duration-150 text-left ${g?"bg-blue-50 animate-pulse":""}`,children:[(0,d.jsxs)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center relative",children:[(0,d.jsx)("span",{className:"text-xs font-bold text-blue-700",children:c+1}),e&&!f&&(0,d.jsxs)("span",{className:"absolute -top-0.5 -right-0.5 flex h-2 w-2",children:[(0,d.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),(0,d.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-500"})]})]}),(0,d.jsx)("div",{className:`flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center ${f?"bg-red-50":"email"===b.type?"bg-blue-50":"wait"===b.type?"bg-amber-50":"bg-purple-50"}`,children:f?(0,d.jsx)(aF.AlertCircle,{className:"h-4 w-4 text-red-600"}):(0,d.jsx)(b.icon,{className:`h-4 w-4 ${"email"===b.type?"text-blue-600":"wait"===b.type?"text-amber-600":"text-purple-600"}`})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:b.title}),(0,d.jsx)("p",{className:`text-xs mt-0.5 ${f?"text-red-600":g?"text-blue-600":"text-gray-500"}`,children:f?"Failed â€” tap Retry to run again":e?"In progress...":g?"Updated just now":b.subtitle})]}),(0,d.jsx)(aD.ChevronRight,{className:"h-4 w-4 text-gray-400 flex-shrink-0"})]},b.id)})})]}),(0,d.jsx)(l.Button,{variant:"outline",size:"sm",className:"w-full text-sm",onClick:()=>o(!0),children:"Run History"})]})]})}),g&&(0,d.jsx)(aT,{workflowId:a.id,step:g,open:j,onClose:()=>k(!1),onStepUpdated:()=>{g&&(w(g.id),setTimeout(()=>{w(null)},3e3))}}),(0,d.jsx)(aX,{workflowName:a.name,open:n,onClose:()=>o(!1)})]})}let a$=[{id:1,name:"New Lead Follow-Up",description:"3-step email sequence over 7 days.",status:"Active",trigger:"Triggered when a new player is added.",icon:f.Mail,lastRun:"2 hours ago",nextMessage:"Tomorrow (Email 2 of 3)",messagesSent:127,completed:89,isRunning:!1,hasError:!1},{id:2,name:"Signed Player Welcome",description:"Welcome sequence for new signees.",status:"Active",trigger:"Triggered when player status changes to Signed.",icon:g.UserCheck,lastRun:"1 day ago",nextMessage:"Dec 15 (Email 1 of 2)",messagesSent:64,completed:58,isRunning:!1,hasError:!1},{id:3,name:"Invoice Reminder",description:"Reminders before and after due dates.",status:"Paused",trigger:"Triggered when invoice due date is within 3 days.",icon:h.Receipt,lastRun:"3 days ago",nextMessage:"Paused",messagesSent:42,completed:35,isRunning:!1,hasError:!1}];function a_(){let[a,b]=(0,i.useState)(null),[c,e]=(0,i.useState)(!1),[f,g]=(0,i.useState)(!0),[h,j]=(0,i.useState)(!1),[k,n]=(0,i.useState)(a$);(0,i.useEffect)(()=>{o()},[]);let o=async()=>{try{g(!0),j(!1),await new Promise(a=>setTimeout(a,800)),n(a$)}catch(a){j(!0)}finally{g(!1)}};return(0,d.jsxs)(d.Fragment,{children:[h&&(0,d.jsxs)("div",{className:"mb-4 flex items-center justify-between rounded-lg border border-red-200 bg-red-50 px-4 py-3 border-l-4 border-l-red-500",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(aF.AlertCircle,{className:"h-4 w-4 text-red-600"}),(0,d.jsx)("p",{className:"text-sm text-red-800",children:"Couldn't load automations. Please try again."})]}),(0,d.jsx)(l.Button,{variant:"link",size:"sm",onClick:()=>{o()},className:"text-red-600 hover:text-red-700 h-auto p-0",children:"Retry"})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,d.jsxs)("div",{className:"grid grid-cols-[2fr_1fr_120px_140px_140px_80px_100px_60px] gap-4 px-4 py-3 bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:[(0,d.jsx)("div",{children:"Workflow"}),(0,d.jsx)("div",{children:"Trigger"}),(0,d.jsx)("div",{children:"Status"}),(0,d.jsx)("div",{children:"Last run"}),(0,d.jsx)("div",{children:"Next message"}),(0,d.jsx)("div",{className:"text-right",children:"Sent"}),(0,d.jsx)("div",{className:"text-right",children:"Completed"}),(0,d.jsx)("div",{className:"text-center",children:"Action"})]}),f?(0,d.jsx)("div",{className:"divide-y divide-gray-100",children:[1,2,3].map(a=>(0,d.jsxs)("div",{className:"grid grid-cols-[2fr_1fr_120px_140px_140px_80px_100px_60px] gap-4 px-4 py-2.5 mx-2 my-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"h-7 w-7 rounded-lg bg-[#E5E7EB] animate-pulse"}),(0,d.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,d.jsx)("div",{className:"h-4 w-40 bg-[#E5E7EB] animate-pulse rounded"}),(0,d.jsx)("div",{className:"h-3 w-56 bg-[#E5E7EB] animate-pulse rounded"})]})]}),(0,d.jsx)("div",{className:"h-4 w-full bg-[#E5E7EB] animate-pulse rounded"}),(0,d.jsx)("div",{className:"h-6 w-20 bg-[#E5E7EB] animate-pulse rounded-full"}),(0,d.jsx)("div",{className:"h-4 w-24 bg-[#E5E7EB] animate-pulse rounded"}),(0,d.jsx)("div",{className:"h-4 w-32 bg-[#E5E7EB] animate-pulse rounded"}),(0,d.jsx)("div",{className:"h-4 w-12 bg-[#E5E7EB] animate-pulse rounded ml-auto"}),(0,d.jsx)("div",{className:"h-4 w-12 bg-[#E5E7EB] animate-pulse rounded ml-auto"}),(0,d.jsx)("div",{className:"h-8 w-8 bg-[#E5E7EB] animate-pulse rounded mx-auto"})]},a))}):0===k.length?(0,d.jsxs)("div",{className:"py-16 flex flex-col items-center justify-center",children:[(0,d.jsx)("div",{className:"rounded-full bg-gray-100 p-4 mb-3",children:(0,d.jsx)(aE,{className:"h-8 w-8 text-gray-400"})}),(0,d.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"No automations available yet"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 max-w-md text-center",children:"Your follow-up, welcome, and reminder sequences will appear here."})]}):(0,d.jsx)(ak,{children:(0,d.jsx)("div",{className:"divide-y divide-gray-100",children:k.map(a=>(0,d.jsxs)("div",{className:"grid grid-cols-[2fr_1fr_120px_140px_140px_80px_100px_60px] gap-4 px-4 py-2.5 hover:bg-gray-50 transition-colors items-center rounded-lg mx-2 my-1",children:[(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsxs)("div",{className:"flex h-7 w-7 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex-shrink-0 relative",children:[(0,d.jsx)(a.icon,{className:"h-3.5 w-3.5 text-white"}),a.isRunning&&(0,d.jsxs)(ao,{children:[(0,d.jsx)(aq,{asChild:!0,children:(0,d.jsxs)("span",{className:"absolute -top-1 -right-1 flex h-2.5 w-2.5 cursor-help",children:[(0,d.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),(0,d.jsx)("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-blue-500"})]})}),(0,d.jsx)(aC,{children:(0,d.jsx)("p",{className:"text-xs",children:"Automation currently running"})})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"text-[15px] font-semibold text-gray-900 leading-snug flex items-center gap-2",children:[a.name,a.hasError&&(0,d.jsxs)(ao,{children:[(0,d.jsx)(aq,{asChild:!0,children:(0,d.jsx)(m.Badge,{variant:"destructive",className:"bg-red-100 text-red-700 hover:bg-red-100 border-red-200 text-[10px] px-1.5 py-0 cursor-help",children:"Error"})}),(0,d.jsx)(aC,{children:(0,d.jsx)("p",{className:"text-xs",children:"Last run encountered an error"})})]})]}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-0.5 leading-tight",children:a.description})]})]})}),(0,d.jsx)("div",{className:"text-xs text-gray-600",children:a.trigger}),(0,d.jsx)("div",{children:(0,d.jsx)(m.Badge,{variant:"Active"===a.status?"default":"secondary",className:"Active"===a.status?"bg-green-100 text-green-700 hover:bg-green-100 border-green-200 text-xs":"bg-gray-100 text-gray-600 hover:bg-gray-100 border-gray-200 text-xs",children:a.status})}),(0,d.jsx)("div",{className:`text-sm ${a.hasError?"text-red-600 font-medium":"text-gray-700"}`,children:a.hasError?"Failed":a.lastRun}),(0,d.jsx)("div",{className:"text-sm text-gray-700",children:a.nextMessage}),(0,d.jsx)("div",{className:"text-sm text-gray-500 text-right",children:a.messagesSent}),(0,d.jsx)("div",{className:"text-sm text-gray-500 text-right",children:a.completed}),(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(l.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50",onClick:()=>{b(a),e(!0)},children:(0,d.jsx)(aD.ChevronRight,{className:"h-4 w-4 text-gray-400"})})})]},a.id))})})]}),a&&(0,d.jsx)(aZ,{workflow:a,open:c,onClose:()=>e(!1)})]})}var a0=a.i(98250);function a1({user:a}){return(0,d.jsx)(a0.RunHistoryContent,{user:a})}function a2(){let[a,b]=(0,i.useState)(null),[c,f]=(0,i.useState)("automations");return((0,i.useEffect)(()=>{(0,j.createClient)().auth.getUser().then(({data:{user:a}})=>{b(a)})},[]),a)?(0,d.jsxs)(e.AppLayout,{user:a,title:"Automations",children:[(0,d.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Oswald:wght@500&display=swap",rel:"stylesheet"}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Automations"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Lightweight sequences that run follow-ups, welcomes and reminders automatically."})]}),(0,d.jsx)(k.Card,{className:"mb-6 bg-white border border-gray-200 shadow-sm",children:(0,d.jsxs)("div",{className:"flex gap-1 p-2 border-b",children:[(0,d.jsx)("button",{onClick:()=>f("automations"),className:`px-6 py-2.5 rounded-lg text-[15px] font-medium transition-all ${"automations"===c?"bg-[#0A47B1] text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:{fontFamily:"'Oswald', sans-serif",letterSpacing:"0.5px"},children:"Automations"}),(0,d.jsx)("button",{onClick:()=>f("history"),className:`px-6 py-2.5 rounded-lg text-[15px] font-medium transition-all ${"history"===c?"bg-[#0A47B1] text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,style:{fontFamily:"'Oswald', sans-serif",letterSpacing:"0.5px"},children:"Run History"})]})}),"automations"===c?(0,d.jsx)(a_,{}):(0,d.jsx)(a1,{user:a})]}):null}f.Mail,g.UserCheck,h.Receipt,a.s(["default",()=>a2],45815)}];

//# sourceMappingURL=app_automations_page_tsx_3d732184._.js.map