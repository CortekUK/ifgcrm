module.exports=[25827,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(65733),e=a.i(21958),f=a.i(54161),g=a.i(40695),h=a.i(5522),i=a.i(17171),j=a.i(87682),k=a.i(77687),l=a.i(92258),m=a.i(63519),n=a.i(52495),o=a.i(69769),p=a.i(32116),q=a.i(92759),r=a.i(41675),s=a.i(63588),t=a.i(4720),u=a.i(90166),v=a.i(41710),w=a.i(67453),x=a.i(15618),y=a.i(24569),z=a.i(33508),A=a.i(33441),B=a.i(38246);function C({player:a,open:C,onClose:D}){let E,[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(a.name),[J,K]=(0,c.useState)(a.email),[L,M]=(0,c.useState)(a.phone),[N,O]=(0,c.useState)(a.program_id||""),[P,Q]=(0,c.useState)(a.recruiter_id||""),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)([]),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)([]),[_,aa]=(0,c.useState)([]),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(""),{toast:ah}=(0,k.useToast)();(0,c.useEffect)(()=>{I(a.name),K(a.email),M(a.phone),O(a.program_id||""),Q(a.recruiter_id||""),G(!1)},[a]),(0,c.useEffect)(()=>{C&&(aj(),ak(),ai())},[C,a.id]);let ai=async()=>{Y(!0);try{let[a,b]=await Promise.all([fetch("/api/settings/programmes"),fetch("/api/settings/recruiters")]),c=await a.json(),d=await b.json();U(Array.isArray(c)?c:[]),W(Array.isArray(d)?d:[])}catch(a){console.error("[v0] Error loading dropdowns:",a)}Y(!1)},aj=async()=>{ac(!0);let b=await fetch(`/api/invoices?player_id=${a.id}`),c=await b.json();$(Array.isArray(c)?c:c.data||[]),ac(!1)},ak=async()=>{ae(!0);let b=await fetch(`/api/players/${a.id}/activity`),c=await b.json();aa(Array.isArray(c)?c:c.data||[]),ae(!1)},al=async()=>{S(!0);try{let b=await fetch(`/api/players/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:H,email:J,phone:L,program_id:N,recruiter_id:P})});if(!b.ok)throw Error("Failed to update player");let c=await b.json();ah({title:"Player updated",description:"Player information has been saved successfully."}),G(!1),window.dispatchEvent(new CustomEvent("player-updated",{detail:c}))}catch(a){console.error("[v0] Error updating player:",a),ah({title:"Error",description:"Failed to update player information.",variant:"destructive"})}S(!1)};return(0,b.jsx)(d.Dialog,{open:C,onOpenChange:D,children:(0,b.jsxs)(d.DialogContent,{className:"max-w-3xl max-h-[90vh] my-4 overflow-hidden p-0 flex flex-col",children:[(0,b.jsxs)(d.DialogHeader,{className:"border-b border-border sticky top-0 bg-background/95 backdrop-blur-sm z-10 px-8 pt-10 pb-7",children:[(0,b.jsx)("div",{className:"absolute right-8 top-10 flex items-center gap-2",children:F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{I(a.name),K(a.email),M(a.phone),O(a.program_id||""),Q(a.recruiter_id||""),G(!1)},disabled:R,className:"h-10 px-5 font-semibold hover:bg-accent bg-transparent transition-all duration-200 rounded-lg text-[14px] border-2",children:[(0,b.jsx)(z.X,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,b.jsxs)(g.Button,{size:"sm",onClick:al,disabled:R,className:"h-10 px-5 font-semibold bg-primary hover:bg-primary/90 text-primary-foreground transition-all duration-200 rounded-lg text-[14px] shadow-sm",children:[(0,b.jsx)(A.Check,{className:"h-4 w-4 mr-2"}),R?"Saving...":"Save"]})]}):(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>G(!0),className:"h-10 px-5 font-semibold hover:bg-accent transition-all duration-200 rounded-lg text-[14px] shadow-sm border-2",children:[(0,b.jsx)(y.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]})}),(0,b.jsxs)("div",{className:"flex items-start gap-6 pr-28",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-2xl flex-shrink-0 shadow-xl shadow-blue-500/25 ring-4 ring-blue-100/50",children:a.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0 pt-1",children:[(0,b.jsx)(d.DialogTitle,{className:"text-[28px] font-bold tracking-tight text-foreground mb-3.5 leading-tight",children:a.name}),(0,b.jsx)("div",{className:"flex items-center gap-3 mb-3.5",children:(0,b.jsx)(f.Badge,{className:`${(E=a.status.toLowerCase()).includes("pipeline")||E.includes("in pipeline")?"bg-blue-100 text-blue-700 border-blue-200":E.includes("contact")?"bg-amber-100 text-amber-700 border-amber-200":E.includes("sign")?"bg-green-100 text-green-700 border-green-200":E.includes("interview")?"bg-purple-100 text-purple-700 border-purple-200":"bg-gray-100 text-gray-700 border-gray-200"} border-2 text-[13px] font-semibold px-3.5 py-1.5 rounded-full`,children:a.status})}),(0,b.jsxs)("p",{className:"text-[15px] text-muted-foreground leading-relaxed font-medium",children:["Recruiter: ",(0,b.jsx)("span",{className:"font-semibold text-foreground",children:a.recruiter})]})]})]})]}),(0,b.jsx)("div",{className:"px-8 pt-8",children:(0,b.jsxs)(e.Tabs,{defaultValue:"overview",className:"space-y-8",children:[(0,b.jsxs)(e.TabsList,{className:"grid w-full grid-cols-3 bg-muted/50 p-1.5 rounded-xl h-12",children:[(0,b.jsx)(e.TabsTrigger,{value:"overview",className:"data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md rounded-lg font-semibold text-[15px] transition-all duration-200",children:"Overview"}),(0,b.jsx)(e.TabsTrigger,{value:"invoices",className:"data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md rounded-lg font-semibold text-[15px] transition-all duration-200",children:"Invoices"}),(0,b.jsx)(e.TabsTrigger,{value:"activity",className:"data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md rounded-lg font-semibold text-[15px] transition-all duration-200",children:"Activity"})]}),(0,b.jsxs)(e.TabsContent,{value:"overview",className:"space-y-6 pb-10",children:[(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsx)("div",{className:"rounded-2xl border-2 border-border bg-card p-6 hover:shadow-md hover:border-muted-foreground/20 transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex items-start gap-5",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-muted/80 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(p.UserCircle2,{className:"h-6 w-6 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)(i.Label,{htmlFor:"name",className:"text-[13px] font-bold text-muted-foreground uppercase tracking-wider mb-3 block",children:"Name"}),F?(0,b.jsx)(h.Input,{id:"name",value:H,onChange:a=>I(a.target.value),className:"h-12 text-[16px] font-semibold border-2 focus:border-primary focus:ring-2 focus:ring-primary/20 rounded-lg"}):(0,b.jsx)("p",{className:"font-bold text-foreground text-[18px] leading-relaxed",children:a.name})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,b.jsx)("div",{className:"rounded-2xl border-2 border-border bg-card p-6 hover:shadow-md hover:border-blue-200 transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex items-start gap-5",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center flex-shrink-0 ring-2 ring-blue-100",children:(0,b.jsx)(l.Mail,{className:"h-6 w-6 text-blue-600"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)(i.Label,{htmlFor:"email",className:"text-[13px] font-bold text-muted-foreground uppercase tracking-wider mb-3 block",children:"Email"}),F?(0,b.jsx)(h.Input,{id:"email",type:"email",value:J,onChange:a=>K(a.target.value),className:"h-12 text-[15px] border-2 focus:border-primary focus:ring-2 focus:ring-primary/20 rounded-lg"}):(0,b.jsx)("p",{className:"font-semibold text-foreground text-[15px] leading-relaxed truncate",children:a.email})]})]})}),(0,b.jsx)("div",{className:"rounded-2xl border-2 border-border bg-card p-6 hover:shadow-md hover:border-green-200 transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex items-start gap-5",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-green-50 flex items-center justify-center flex-shrink-0 ring-2 ring-green-100",children:(0,b.jsx)(m.Phone,{className:"h-6 w-6 text-green-600"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)(i.Label,{htmlFor:"phone",className:"text-[13px] font-bold text-muted-foreground uppercase tracking-wider mb-3 block",children:"Phone"}),F?(0,b.jsx)(h.Input,{id:"phone",value:L,onChange:a=>M(a.target.value),className:"h-12 text-[15px] border-2 focus:border-primary focus:ring-2 focus:ring-primary/20 rounded-lg"}):(0,b.jsx)("p",{className:"font-semibold text-foreground text-[15px] leading-relaxed",children:a.phone})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,b.jsx)("div",{className:"rounded-2xl border-2 border-border bg-card p-6 hover:shadow-md hover:border-purple-200 transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex items-start gap-5",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center flex-shrink-0 ring-2 ring-purple-100",children:(0,b.jsx)(o.GraduationCap,{className:"h-6 w-6 text-purple-600"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)(i.Label,{htmlFor:"programme",className:"text-[13px] font-bold text-muted-foreground uppercase tracking-wider mb-3 block",children:"Programme"}),F?(0,b.jsxs)(j.Select,{value:N,onValueChange:O,children:[(0,b.jsx)(j.SelectTrigger,{className:"h-12 text-[15px] border-2 focus:border-primary focus:ring-2 focus:ring-primary/20 rounded-lg",children:(0,b.jsx)(j.SelectValue,{placeholder:"Select programme"})}),(0,b.jsx)(j.SelectContent,{children:T.map(a=>(0,b.jsx)(j.SelectItem,{value:a.id,children:a.name},a.id))})]}):(0,b.jsx)(f.Badge,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white border-0 text-[13px] font-bold px-4 py-2 rounded-lg shadow-md",children:a.programme})]})]})}),(0,b.jsx)("div",{className:"rounded-2xl border-2 border-border bg-card p-6 hover:shadow-md hover:border-muted-foreground/20 transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex items-start gap-5",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-muted/80 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(p.UserCircle2,{className:"h-6 w-6 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)(i.Label,{htmlFor:"recruiter",className:"text-[13px] font-bold text-muted-foreground uppercase tracking-wider mb-3 block",children:"Recruiter"}),F?(0,b.jsxs)(j.Select,{value:P,onValueChange:Q,children:[(0,b.jsx)(j.SelectTrigger,{className:"h-12 text-[15px] border-2 focus:border-primary focus:ring-2 focus:ring-primary/20 rounded-lg",children:(0,b.jsx)(j.SelectValue,{placeholder:"Select recruiter"})}),(0,b.jsx)(j.SelectContent,{children:V.map(a=>(0,b.jsx)(j.SelectItem,{value:a.id,children:a.full_name},a.id))})]}):(0,b.jsx)("p",{className:"font-semibold text-foreground text-[15px] leading-relaxed",children:a.recruiter})]})]})})]}),(0,b.jsx)("div",{className:"rounded-2xl border-2 border-border bg-card p-6 hover:shadow-md transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex items-start gap-5",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center flex-shrink-0 ring-2 ring-blue-100",children:(0,b.jsx)(v.Clock,{className:"h-6 w-6 text-blue-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-[16px] font-bold text-foreground mb-3 uppercase tracking-wide",children:"Last Contacted"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-[15px] text-muted-foreground",children:[(0,b.jsx)("span",{className:"font-semibold",children:"2 days ago"}),(0,b.jsx)("span",{className:"text-border",children:"•"}),(0,b.jsx)(f.Badge,{variant:"outline",className:"text-[13px] font-semibold px-3 py-1 rounded-lg border-2",children:"Email"})]})]})]})}),(0,b.jsx)("div",{className:"rounded-2xl border-2 border-border bg-card p-6 hover:shadow-md transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex items-start gap-5",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-amber-50 flex items-center justify-center flex-shrink-0 ring-2 ring-amber-100",children:(0,b.jsx)(r.Calendar,{className:"h-6 w-6 text-amber-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(i.Label,{htmlFor:"next-followup",className:"text-[16px] font-bold text-foreground mb-4 block uppercase tracking-wide",children:"Next Follow-Up"}),(0,b.jsx)(h.Input,{id:"next-followup",type:"date",value:af,onChange:a=>ag(a.target.value),className:"h-12 text-[15px] focus:border-primary focus:ring-2 focus:ring-primary/20 border-2 rounded-lg font-medium"})]})]})})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-6",children:[(0,b.jsxs)(g.Button,{className:"w-full h-14 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-xl shadow-blue-500/30 hover:shadow-2xl hover:shadow-blue-500/40 transition-all duration-200 text-[16px] font-bold rounded-xl",children:[(0,b.jsx)(q.Send,{className:"mr-2.5 h-5 w-5"}),"Send Message"]}),(0,b.jsx)(B.default,{href:"/pipelines",className:"block",children:(0,b.jsxs)(g.Button,{variant:"outline",className:"w-full h-14 border-2 hover:bg-accent hover:border-primary/50 transition-all duration-200 text-[16px] font-bold rounded-xl bg-transparent shadow-sm hover:shadow-md",children:["View in Pipeline",(0,b.jsx)(n.ExternalLink,{className:"ml-2.5 h-5 w-5"})]})})]})]}),(0,b.jsxs)(e.TabsContent,{value:"invoices",className:"pb-10",children:[(0,b.jsx)("div",{className:"flex justify-end mb-8",children:(0,b.jsxs)(g.Button,{variant:"outline",size:"default",className:"h-11 px-6 font-semibold hover:bg-accent transition-all duration-200 bg-transparent border-2 rounded-lg shadow-sm hover:shadow-md",children:[(0,b.jsx)(x.Plus,{className:"h-5 w-5 mr-2"}),"Create Invoice"]})}),ab?(0,b.jsxs)("div",{className:"text-center py-20 text-muted-foreground",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-primary border-t-transparent mx-auto mb-5"}),(0,b.jsx)("p",{className:"text-[15px] font-semibold",children:"Loading invoices..."})]}):0===Z.length?(0,b.jsxs)("div",{className:"text-center py-20 bg-card rounded-2xl border-2 border-border",children:[(0,b.jsx)(t.FileText,{className:"h-16 w-16 text-muted-foreground/40 mx-auto mb-5"}),(0,b.jsx)("p",{className:"text-foreground font-bold text-[18px] mb-2",children:"No invoices found"}),(0,b.jsx)("p",{className:"text-muted-foreground text-[15px] font-medium",children:"Create your first invoice to get started"})]}):(0,b.jsx)("div",{className:"bg-card rounded-2xl border-2 border-border overflow-hidden shadow-md",children:(0,b.jsxs)("table",{className:"w-full text-[15px]",children:[(0,b.jsx)("thead",{className:"bg-muted/50 border-b-2 border-border",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left py-5 px-6 font-bold text-foreground",children:"Invoice #"}),(0,b.jsx)("th",{className:"text-left py-5 px-6 font-bold text-foreground",children:"Date"}),(0,b.jsx)("th",{className:"text-right py-5 px-6 font-bold text-foreground",children:"Amount"}),(0,b.jsx)("th",{className:"text-center py-5 px-6 font-bold text-foreground",children:"Status"})]})}),(0,b.jsx)("tbody",{className:"divide-y-2 divide-border",children:Z.map(a=>{let c;return(0,b.jsxs)("tr",{className:"hover:bg-muted/30 transition-colors duration-150",children:[(0,b.jsx)("td",{className:"py-5 px-6",children:(0,b.jsx)("button",{className:"text-primary hover:underline font-bold",children:a.invoice_number})}),(0,b.jsx)("td",{className:"py-5 px-6 text-muted-foreground font-semibold",children:new Date(a.due_date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}),(0,b.jsxs)("td",{className:"py-5 px-6 text-right font-bold text-foreground text-[16px]",children:["£",a.amount.toLocaleString()]}),(0,b.jsx)("td",{className:"py-5 px-6 text-center",children:(0,b.jsx)(f.Badge,{className:`${"paid"===(c=a.status.toLowerCase())?"bg-green-100 text-green-700 border-green-200":"overdue"===c?"bg-red-100 text-red-700 border-red-200":"sent"===c?"bg-blue-100 text-blue-700 border-blue-200":"bg-gray-100 text-gray-700 border-gray-200"} border-2 text-[13px] font-bold px-4 py-1.5 rounded-full`,children:a.status})})]},a.id)})})]})})]}),(0,b.jsx)(e.TabsContent,{value:"activity",className:"pb-10",children:ad?(0,b.jsxs)("div",{className:"text-center py-20 text-muted-foreground",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-primary border-t-transparent mx-auto mb-5"}),(0,b.jsx)("p",{className:"text-[15px] font-semibold",children:"Loading activity..."})]}):0===_.length?(0,b.jsxs)("div",{className:"text-center py-20 bg-card rounded-2xl border-2 border-border",children:[(0,b.jsx)(s.MessageSquare,{className:"h-16 w-16 text-muted-foreground/40 mx-auto mb-5"}),(0,b.jsx)("p",{className:"text-foreground font-bold text-[18px] mb-2",children:"No recent activity yet"}),(0,b.jsx)("p",{className:"text-muted-foreground text-[15px] font-medium",children:"Activity will appear here as you interact"})]}):(0,b.jsxs)("div",{className:"space-y-0 relative pl-12",children:[(0,b.jsx)("div",{className:"absolute left-[23px] top-6 bottom-6 w-0.5 bg-gradient-to-b from-primary/20 via-primary/50 to-primary/20"}),_.map(a=>(0,b.jsxs)("div",{className:"relative pb-8 last:pb-0",children:[(0,b.jsx)("div",{className:"absolute left-[-25px] top-2 w-12 h-12 rounded-xl bg-background border-3 border-primary flex items-center justify-center shadow-md",children:a.action.toLowerCase().includes("email")?(0,b.jsx)(l.Mail,{className:"h-5 w-5 text-blue-600"}):a.action.toLowerCase().includes("zoom")||a.action.toLowerCase().includes("call")?(0,b.jsx)(s.MessageSquare,{className:"h-5 w-5 text-green-600"}):a.action.toLowerCase().includes("invoice")||a.action.toLowerCase().includes("paid")?(0,b.jsx)(u.DollarSign,{className:"h-5 w-5 text-amber-600"}):(0,b.jsx)(w.CheckCircle2,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{className:"bg-card rounded-2xl border-2 border-border p-6 hover:shadow-md hover:border-muted-foreground/20 transition-all duration-200",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("p",{className:"font-bold text-[16px] text-foreground leading-relaxed",children:a.action}),(0,b.jsx)("p",{className:"text-[13px] text-muted-foreground flex-shrink-0 ml-4 font-bold uppercase tracking-wide",children:new Date(a.timestamp).toLocaleDateString("en-GB",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),(0,b.jsx)("p",{className:"text-[15px] text-muted-foreground leading-relaxed font-medium",children:a.description})]})]},a.id))]})})]})})]})})}a.s(["PlayerDrawer",()=>C])}];

//# sourceMappingURL=components_players_player-drawer_tsx_502f84ca._.js.map