{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/app/api/invoices/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\n\nexport async function GET(request: NextRequest) {\n  const searchParams = request.nextUrl.searchParams\n  const status = searchParams.get(\"status\")\n  const programme = searchParams.get(\"programme\")\n  const search = searchParams.get(\"search\")\n  const page = Number.parseInt(searchParams.get(\"page\") || \"1\")\n  const pageSize = Number.parseInt(searchParams.get(\"pageSize\") || \"25\")\n\n  // Mock invoice data with 120 invoices\n  const programmes = [\"UK Academy\", \"Spain Academy\", \"USA Academy\", \"Brazil Academy\"]\n  const statuses = [\"draft\", \"sent\", \"paid\", \"overdue\"]\n  const names = [\n    \"Daniel Perez\",\n    \"Marcus Silva\",\n    \"James Wilson\",\n    \"Carlos Rodriguez\",\n    \"Tom Anderson\",\n    \"Luis Martinez\",\n    \"David Thompson\",\n    \"Miguel Santos\",\n    \"Alex Johnson\",\n    \"Roberto Garcia\",\n    \"Chris Evans\",\n    \"Fernando Lopez\",\n    \"Ryan Murphy\",\n    \"Diego Costa\",\n    \"Matt Brown\",\n    \"Pablo Hernandez\",\n    \"Jake Williams\",\n    \"Jorge Ramirez\",\n    \"Ben Davis\",\n    \"Antonio Gomez\",\n  ]\n\n  const allInvoices = Array.from({ length: 120 }, (_, i) => {\n    const statusValue = statuses[i % 4]\n    const daysOffset = statusValue === \"overdue\" ? -((i % 30) + 1) : statusValue === \"paid\" ? -(i % 20) : (i % 30) + 1\n\n    return {\n      id: 5000 + i,\n      invoice_number: `INV-${5000 + i}`,\n      player_name: names[i % names.length],\n      programme: programmes[i % programmes.length],\n      amount: 1000 + (i % 10) * 250,\n      currency: \"GBP\",\n      status: statusValue,\n      due_date: new Date(Date.now() + daysOffset * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0],\n      payment_url: `https://pay.ifgcrm.com/inv/${5000 + i}`,\n    }\n  })\n\n  // Filter invoices\n  let filteredInvoices = allInvoices\n\n  if (status && status !== \"all\") {\n    filteredInvoices = filteredInvoices.filter((inv) => inv.status === status)\n  }\n\n  if (programme && programme !== \"all\") {\n    filteredInvoices = filteredInvoices.filter((inv) => inv.programme === programme)\n  }\n\n  if (search) {\n    const searchLower = search.toLowerCase()\n    filteredInvoices = filteredInvoices.filter(\n      (inv) =>\n        inv.player_name.toLowerCase().includes(searchLower) || inv.invoice_number.toLowerCase().includes(searchLower),\n    )\n  }\n\n  // Paginate\n  const total = filteredInvoices.length\n  const startIndex = (page - 1) * pageSize\n  const endIndex = startIndex + pageSize\n  const paginatedInvoices = filteredInvoices.slice(startIndex, endIndex)\n\n  return NextResponse.json({\n    data: paginatedInvoices,\n    total,\n    page,\n    pageSize,\n  })\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,eAAe,QAAQ,OAAO,CAAC,YAAY;IACjD,MAAM,SAAS,aAAa,GAAG,CAAC;IAChC,MAAM,YAAY,aAAa,GAAG,CAAC;IACnC,MAAM,SAAS,aAAa,GAAG,CAAC;IAChC,MAAM,OAAO,OAAO,QAAQ,CAAC,aAAa,GAAG,CAAC,WAAW;IACzD,MAAM,WAAW,OAAO,QAAQ,CAAC,aAAa,GAAG,CAAC,eAAe;IAEjE,sCAAsC;IACtC,MAAM,aAAa;QAAC;QAAc;QAAiB;QAAe;KAAiB;IACnF,MAAM,WAAW;QAAC;QAAS;QAAQ;QAAQ;KAAU;IACrD,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAM,cAAc,MAAM,IAAI,CAAC;QAAE,QAAQ;IAAI,GAAG,CAAC,GAAG;QAClD,MAAM,cAAc,QAAQ,CAAC,IAAI,EAAE;QACnC,MAAM,aAAa,gBAAgB,YAAY,CAAC,CAAC,AAAC,IAAI,KAAM,CAAC,IAAI,gBAAgB,SAAS,CAAC,CAAC,IAAI,EAAE,IAAI,AAAC,IAAI,KAAM;QAEjH,OAAO;YACL,IAAI,OAAO;YACX,gBAAgB,CAAC,IAAI,EAAE,OAAO,GAAG;YACjC,aAAa,KAAK,CAAC,IAAI,MAAM,MAAM,CAAC;YACpC,WAAW,UAAU,CAAC,IAAI,WAAW,MAAM,CAAC;YAC5C,QAAQ,OAAO,AAAC,IAAI,KAAM;YAC1B,UAAU;YACV,QAAQ;YACR,UAAU,IAAI,KAAK,KAAK,GAAG,KAAK,aAAa,KAAK,KAAK,KAAK,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YAC7F,aAAa,CAAC,2BAA2B,EAAE,OAAO,GAAG;QACvD;IACF;IAEA,kBAAkB;IAClB,IAAI,mBAAmB;IAEvB,IAAI,UAAU,WAAW,OAAO;QAC9B,mBAAmB,iBAAiB,MAAM,CAAC,CAAC,MAAQ,IAAI,MAAM,KAAK;IACrE;IAEA,IAAI,aAAa,cAAc,OAAO;QACpC,mBAAmB,iBAAiB,MAAM,CAAC,CAAC,MAAQ,IAAI,SAAS,KAAK;IACxE;IAEA,IAAI,QAAQ;QACV,MAAM,cAAc,OAAO,WAAW;QACtC,mBAAmB,iBAAiB,MAAM,CACxC,CAAC,MACC,IAAI,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,gBAAgB,IAAI,cAAc,CAAC,WAAW,GAAG,QAAQ,CAAC;IAEvG;IAEA,WAAW;IACX,MAAM,QAAQ,iBAAiB,MAAM;IACrC,MAAM,aAAa,CAAC,OAAO,CAAC,IAAI;IAChC,MAAM,WAAW,aAAa;IAC9B,MAAM,oBAAoB,iBAAiB,KAAK,CAAC,YAAY;IAE7D,OAAO,gJAAY,CAAC,IAAI,CAAC;QACvB,MAAM;QACN;QACA;QACA;IACF;AACF","debugId":null}}]
}