{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/app/api/players/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\n\n// Mock data with UK Colleges\nconst ukColleges = [\n  \"University of Oxford\",\n  \"University of Cambridge\",\n  \"Imperial College London\",\n  \"UCL\",\n  \"University of Manchester\",\n  \"King's College London\",\n  \"University of Edinburgh\",\n  \"University of Bristol\"\n];\n\nconst mockPlayers = Array.from({ length: 138 }, (_, i) => ({\n  id: i + 1,\n  name: `Player ${i + 1}`,\n  email: `player${i + 1}@example.com`,\n  phone: `+44 7${String(Math.floor(Math.random() * 900) + 100)} ${String(Math.floor(Math.random() * 900000) + 100000)}`,\n  programme: ukColleges[i % ukColleges.length],\n  recruiter: [\"Chris\", \"Sarah\", \"Mike\", \"Emma\"][i % 4],\n  status: [\"In pipeline\", \"Contacted\", \"Interview\", \"Signed\"][i % 4],\n  last_activity: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString(),\n  tags: [\n    [\"High Priority\", \"Striker\"],\n    [\"Goalkeeper\", \"International\"],\n    [\"Midfielder\", \"U18\", \"Left Footed\"],\n    [\"Defender\", \"Scholarship\"],\n    [\"High Priority\", \"U21\"],\n    [],\n  ][i % 6],\n}))\n\nexport async function GET(request: NextRequest) {\n  const searchParams = request.nextUrl.searchParams\n  const search = searchParams.get(\"search\") || \"\"\n  const programme = searchParams.get(\"programme\") || \"\"\n  const recruiter = searchParams.get(\"recruiter\") || \"\"\n  const tag = searchParams.get(\"tag\") || \"\"\n  const status = searchParams.get(\"status\") || \"\"\n  const page = Number.parseInt(searchParams.get(\"page\") || \"1\")\n  const pageSize = Number.parseInt(searchParams.get(\"pageSize\") || \"25\")\n\n  // Filter players\n  let filtered = mockPlayers\n\n  if (search) {\n    filtered = filtered.filter(\n      (p) =>\n        p.name.toLowerCase().includes(search.toLowerCase()) || p.email.toLowerCase().includes(search.toLowerCase()),\n    )\n  }\n\n  if (programme) {\n    filtered = filtered.filter((p) => p.programme === programme)\n  }\n\n  if (recruiter) {\n    filtered = filtered.filter((p) => p.recruiter === recruiter)\n  }\n\n  if (tag) {\n    filtered = filtered.filter((p) => p.tags && p.tags.includes(tag))\n  }\n\n  if (status) {\n    filtered = filtered.filter((p) => p.status.toLowerCase().includes(status.toLowerCase()))\n  }\n\n  // Paginate\n  const start = (page - 1) * pageSize\n  const end = start + pageSize\n  const paginatedPlayers = filtered.slice(start, end)\n\n  return NextResponse.json({\n    data: paginatedPlayers,\n    total: filtered.length,\n    page,\n    pageSize,\n  })\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json()\n    const { name, email, phone, programme, recruiter, status, tags } = body\n\n    if (!name || !email || !phone || !programme || !recruiter) {\n      return NextResponse.json({ error: \"Missing required fields\" }, { status: 400 })\n    }\n\n    const newPlayer = {\n      id: mockPlayers.length + 1,\n      name,\n      email,\n      phone,\n      programme,\n      recruiter,\n      status: status || \"Contacted\",\n      last_activity: new Date().toISOString(),\n      tags: tags || [],\n    }\n\n    mockPlayers.push(newPlayer)\n\n    return NextResponse.json(newPlayer, { status: 201 })\n  } catch (error) {\n    console.error(\"Error creating player:\", error)\n    return NextResponse.json({ error: \"Failed to create player\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}