{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/layout/app-sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { usePathname } from 'next/navigation'\nimport { cn } from \"@/lib/utils\"\nimport { LayoutDashboard, Users, GitBranch, Megaphone, FileText, BarChart3, Receipt, CreditCard, Settings, UserCog, ChevronLeft, ChevronRight, ChevronDown, ChevronUp, Workflow, MapPin, MessageSquare, Mail } from 'lucide-react'\nimport { Button } from \"@/components/ui/button\"\nimport { useState, useEffect } from \"react\"\n\nconst navigationGroups = [\n  {\n    name: \"CRM\",\n    items: [\n      { name: \"Dashboard\", href: \"/dashboard\", icon: LayoutDashboard },\n      { name: \"Players\", href: \"/players\", icon: Users },\n      { name: \"Pipelines\", href: \"/pipelines\", icon: GitBranch },\n    ],\n  },\n  {\n    name: \"Marketing\",\n    items: [\n      { name: \"Contacts\", href: \"/contacts\", icon: Users },\n      { name: \"Campaigns\", href: \"/campaigns\", icon: Megaphone },\n      { name: \"Automations\", href: \"/automations\", icon: Workflow },\n      { name: \"Replies\", href: \"/replies\", icon: Mail },\n      { name: \"Templates\", href: \"/templates\", icon: FileText },\n      { name: \"Reports\", href: \"/reports\", icon: BarChart3 },\n    ],\n  },\n  {\n    name: \"Finance\",\n    items: [\n      { name: \"Invoices\", href: \"/invoices\", icon: Receipt },\n      { name: \"Payments\", href: \"/payments\", icon: CreditCard },\n    ],\n  },\n  {\n    name: \"Admin\",\n    items: [\n      { name: \"Settings\", href: \"/settings\", icon: Settings },\n      { name: \"Users\", href: \"/users\", icon: UserCog },\n    ],\n  },\n]\n\nexport function AppSidebar() {\n  const pathname = usePathname()\n  const [collapsed, setCollapsed] = useState(false)\n  const [expandedGroups, setExpandedGroups] = useState<string[]>([\"CRM\", \"Marketing\", \"Finance\", \"Admin\"])\n  const [isMobile, setIsMobile] = useState(false)\n\n  useEffect(() => {\n    const checkMobile = () => {\n      const mobile = window.innerWidth < 1024\n      setIsMobile(mobile)\n      if (mobile) {\n        setCollapsed(true)\n      }\n    }\n\n    checkMobile()\n    window.addEventListener(\"resize\", checkMobile)\n    return () => window.removeEventListener(\"resize\", checkMobile)\n  }, [])\n\n  const toggleGroup = (groupName: string) => {\n    if (collapsed) return\n\n    setExpandedGroups((prev) => (prev.includes(groupName) ? prev.filter((g) => g !== groupName) : [...prev, groupName]))\n  }\n\n  const isGroupActive = (items: (typeof navigationGroups)[0][\"items\"]) => {\n    return items.some((item) => pathname === item.href || pathname?.startsWith(item.href + \"/\"))\n  }\n\n  return (\n    <>\n      {/* Sidebar */}\n      <aside\n        className={cn(\n          \"fixed inset-y-0 left-0 z-50 flex flex-col shadow-2xl transition-all duration-300\",\n          \"bg-gradient-to-b from-[#0A47B1] to-[#1739C0] shadow-[4px_0_16px_rgba(0,0,0,0.15)]\",\n          collapsed ? \"w-20\" : \"w-60\",\n        )}\n      >\n        <style jsx>{`\n          .ifg-section-header {\n            font-family: 'Oswald', sans-serif;\n            font-weight: 700;\n            letter-spacing: 0.1em;\n          }\n        `}</style>\n\n        <div className=\"flex h-20 items-center border-b border-white/10 px-4 py-5\">\n          {!collapsed ? (\n            <div className=\"flex items-start gap-3\">\n              {/* Map Pin Icon with Globe */}\n              <div className=\"relative flex h-10 w-10 shrink-0 items-center justify-center\">\n                <MapPin className=\"h-10 w-10 text-white fill-white\" />\n                <div className=\"absolute top-2 left-1/2 -translate-x-1/2\">\n                  <svg\n                    className=\"h-3.5 w-3.5 text-[#0A47B1]\"\n                    fill=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\" />\n                    <path d=\"M12 2a10 10 0 0 0 0 20M12 2a10 10 0 0 1 0 20M2 12h20\" strokeWidth=\"1.5\" />\n                    <ellipse cx=\"12\" cy=\"12\" rx=\"4\" ry=\"10\" strokeWidth=\"1.5\" fill=\"none\" />\n                  </svg>\n                </div>\n              </div>\n\n              {/* Logo Text */}\n              <div className=\"flex flex-col leading-none\">\n                <div className=\"text-[8px] font-bold tracking-[0.15em] text-white/90 mb-0.5\">THE INTERNATIONAL</div>\n                <div className=\"text-[18px] font-black tracking-tight text-white leading-[1.1]\">FOOTBALL</div>\n                <div className=\"text-[18px] font-black tracking-tight text-white leading-[1.1]\">GROUP</div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"mx-auto relative flex h-10 w-10 items-center justify-center\">\n              <MapPin className=\"h-10 w-10 text-white fill-white\" />\n              <div className=\"absolute top-2 left-1/2 -translate-x-1/2\">\n                <svg\n                  className=\"h-3.5 w-3.5 text-[#0A47B1]\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\" />\n                  <path d=\"M12 2a10 10 0 0 0 0 20M12 2a10 10 0 0 1 0 20M2 12h20\" strokeWidth=\"1.5\" />\n                  <ellipse cx=\"12\" cy=\"12\" rx=\"4\" ry=\"10\" strokeWidth=\"1.5\" fill=\"none\" />\n                </svg>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Navigation - Grouped Sections */}\n        <nav className=\"flex-1 space-y-4 overflow-y-auto p-3\">\n          {navigationGroups.map((group, groupIndex) => {\n            const isExpanded = expandedGroups.includes(group.name)\n            const hasActiveItem = isGroupActive(group.items)\n\n            return (\n              <div key={group.name} className=\"space-y-1\">\n                {/* Group Header */}\n                {!collapsed && (\n                  <button\n                    onClick={() => toggleGroup(group.name)}\n                    className={cn(\n                      \"flex w-full items-center justify-between px-3 py-1.5 transition-colors\",\n                      \"ifg-section-header text-[10px] uppercase tracking-[0.12em] leading-tight\",\n                      hasActiveItem ? \"text-white\" : \"text-blue-200 hover:text-white\",\n                    )}\n                  >\n                    <span>{group.name}</span>\n                    {isExpanded ? <ChevronUp className=\"h-3 w-3\" /> : <ChevronDown className=\"h-3 w-3\" />}\n                  </button>\n                )}\n\n                {/* Group Items */}\n                {(collapsed || isExpanded) && (\n                  <div\n                    className={cn(\"space-y-1\", !collapsed && \"animate-in fade-in-0 slide-in-from-top-2 duration-200\")}\n                  >\n                    {group.items.map((item) => {\n                      const isActive = pathname === item.href || pathname?.startsWith(item.href + \"/\")\n                      return (\n                        <Link\n                          key={item.name}\n                          href={item.href}\n                          className={cn(\n                            \"group flex items-center gap-3 rounded-full px-3 text-sm font-medium transition-all duration-200\",\n                            \"h-11\",\n                            isActive\n                              ? \"bg-white text-[#0A47B1] font-bold shadow-[0_0_0_4px_rgba(255,255,255,0.05)]\"\n                              : \"text-white hover:bg-white/10 hover:shadow-sm\",\n                          )}\n                          title={collapsed ? item.name : undefined}\n                        >\n                          <item.icon\n                            className={cn(\n                              \"h-5 w-5 shrink-0 transition-opacity\",\n                              isActive ? \"text-[#0A47B1] opacity-100\" : \"text-white opacity-80\",\n                            )}\n                          />\n                          {!collapsed && <span>{item.name}</span>}\n                        </Link>\n                      )\n                    })}\n                  </div>\n                )}\n\n                {/* Divider between groups */}\n                {!collapsed && groupIndex < navigationGroups.length - 1 && (\n                  <div className=\"my-2 border-t border-white/10\" />\n                )}\n              </div>\n            )\n          })}\n        </nav>\n\n        {/* Toggle button */}\n        <div className=\"border-t border-white/10 p-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setCollapsed(!collapsed)}\n            className={cn(\n              \"w-full text-white hover:bg-white/10 hover:text-white transition-all duration-200\",\n              collapsed && \"justify-center\",\n            )}\n          >\n            {collapsed ? (\n              <ChevronRight className=\"h-5 w-5\" />\n            ) : (\n              <>\n                <ChevronLeft className=\"h-5 w-5\" />\n                <span className=\"ml-2\">Collapse</span>\n              </>\n            )}\n          </Button>\n        </div>\n      </aside>\n\n      {/* Mobile overlay - only show when sidebar is open on mobile */}\n      {isMobile && !collapsed && (\n        <div className=\"fixed inset-0 z-40 bg-black/50 lg:hidden\" onClick={() => setCollapsed(true)} />\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 588, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\n\nlet client: ReturnType<typeof createBrowserClient> | null = null\n\nexport function createClient() {\n  if (client) return client\n\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || \"https://cujprjusexjzuapydiuf.supabase.co\"\n\n  const supabaseKey =\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY ||\n    process.env.SUPABASE_ANON_KEY ||\n    \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN1anByanVzZXhqenVhcHlkaXVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2MDg1MTQsImV4cCI6MjA3ODE4NDUxNH0.TTRG0g8vh3-IpQ3YkJxFoLlQEa5IfAAkJIUrJa1XogA\"\n\n  client = createBrowserClient(supabaseUrl, supabaseKey, {\n    cookies: {\n      get(name: string) {\n        return document.cookie\n          .split(\"; \")\n          .find((row) => row.startsWith(name + \"=\"))\n          ?.split(\"=\")[1]\n      },\n      set(name: string, value: string, options: any) {\n        document.cookie = `${name}=${value}; path=/; max-age=${options.maxAge}; SameSite=Lax`\n      },\n      remove(name: string, options: any) {\n        document.cookie = `${name}=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`\n      },\n    },\n  })\n\n  return client\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEA,IAAI,SAAwD;AAErD,SAAS;IACd,IAAI,QAAQ,OAAO;IAEnB,MAAM,cAAc,QAAQ,GAAG,CAAC,wBAAwB,IAAI;IAE5D,MAAM,cACJ,wPACA,QAAQ,GAAG,CAAC,iBAAiB,IAC7B;IAEF,SAAS,IAAA,iMAAmB,EAAC,aAAa,aAAa;QACrD,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,SAAS,MAAM,CACnB,KAAK,CAAC,MACN,IAAI,CAAC,CAAC,MAAQ,IAAI,UAAU,CAAC,OAAO,OACnC,MAAM,IAAI,CAAC,EAAE;YACnB;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAY;gBAC3C,SAAS,MAAM,GAAG,GAAG,KAAK,CAAC,EAAE,MAAM,kBAAkB,EAAE,QAAQ,MAAM,CAAC,cAAc,CAAC;YACvF;YACA,QAAO,IAAY,EAAE,OAAY;gBAC/B,SAAS,MAAM,GAAG,GAAG,KAAK,gDAAgD,CAAC;YAC7E;QACF;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 619, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 644, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 919, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8OAAC,0KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,8OAAC,6KAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,8OAAC,4KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,8OAAC;QAAa,aAAU;;0BACtB,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,kHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,8OAAC,2KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,8OAAC,yMAAK;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,8OAAC,iLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 1101, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/layout/app-header.tsx"],"sourcesContent":["\"use client\"\n\nimport { createClient } from \"@/lib/supabase/client\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\nimport { useRouter } from \"next/navigation\"\nimport type { User } from \"@supabase/supabase-js\"\nimport { Search, Bell, ArrowRight } from \"lucide-react\"\nimport { useState, useEffect } from \"react\"\n\ninterface AppHeaderProps {\n  user: User\n  title: string\n}\n\ninterface Activity {\n  id: string\n  type: string\n  description: string\n  created_at: string\n}\n\ninterface Lead {\n  id: string\n  name: string\n  email: string\n  status: string\n}\n\ninterface Program {\n  id: string\n  name: string\n  description: string\n}\n\ninterface SearchResults {\n  leads: Lead[]\n  programs: Program[]\n  activities: Activity[]\n}\n\nexport function AppHeader({ user, title }: AppHeaderProps) {\n  const router = useRouter()\n  const supabase = createClient()\n  const [notifications, setNotifications] = useState<Activity[]>([])\n  const [unreadCount, setUnreadCount] = useState(0)\n\n  const [searchOpen, setSearchOpen] = useState(false)\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [searchResults, setSearchResults] = useState<SearchResults>({\n    leads: [],\n    programs: [],\n    activities: [],\n  })\n  const [isSearching, setIsSearching] = useState(false)\n\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      if (!user?.id) {\n        console.log(\"[v0] User not available yet, skipping notifications fetch\")\n        return\n      }\n\n      const { data, error } = await supabase\n        .from(\"activities\")\n        .select(\"*\")\n        .eq(\"user_id\", user.id)\n        .order(\"created_at\", { ascending: false })\n        .limit(10)\n\n      if (error) {\n        console.error(\"[v0] Error fetching notifications:\", error)\n        return\n      }\n\n      if (data) {\n        setNotifications(data)\n        setUnreadCount(data.length > 0 ? Math.min(data.length, 9) : 0)\n      }\n    }\n\n    fetchNotifications()\n  }, [user?.id, supabase])\n\n  useEffect(() => {\n    const down = (e: KeyboardEvent) => {\n      if (e.key === \"k\" && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault()\n        setSearchOpen((open) => !open)\n      }\n    }\n    document.addEventListener(\"keydown\", down)\n    return () => document.removeEventListener(\"keydown\", down)\n  }, [])\n\n  useEffect(() => {\n    const performSearch = async () => {\n      if (!searchQuery || searchQuery.length < 2) {\n        setSearchResults({ leads: [], programs: [], activities: [] })\n        return\n      }\n\n      if (!user?.id) {\n        console.log(\"[v0] User not available yet, skipping search\")\n        return\n      }\n\n      setIsSearching(true)\n\n      try {\n        const searchTerm = `%${searchQuery}%`\n\n        const [leadsRes, programsRes, activitiesRes] = await Promise.all([\n          supabase\n            .from(\"leads\")\n            .select(\"id, name, email, status\")\n            .or(`name.ilike.${searchTerm},email.ilike.${searchTerm}`)\n            .limit(5),\n          supabase\n            .from(\"programs\")\n            .select(\"id, name, description\")\n            .or(`name.ilike.${searchTerm},description.ilike.${searchTerm}`)\n            .limit(5),\n          supabase\n            .from(\"activities\")\n            .select(\"id, type, description, created_at\")\n            .eq(\"user_id\", user.id)\n            .or(`type.ilike.${searchTerm},description.ilike.${searchTerm}`)\n            .limit(5),\n        ])\n\n        setSearchResults({\n          leads: leadsRes.data || [],\n          programs: programsRes.data || [],\n          activities: activitiesRes.data || [],\n        })\n      } catch (error) {\n        console.error(\"[v0] Search error:\", error)\n      } finally {\n        setIsSearching(false)\n      }\n    }\n\n    const debounce = setTimeout(performSearch, 300)\n    return () => clearTimeout(debounce)\n  }, [searchQuery, supabase, user?.id])\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut()\n    router.push(\"/auth/login\")\n  }\n\n  const formatTimeAgo = (dateString: string) => {\n    const date = new Date(dateString)\n    const now = new Date()\n    const seconds = Math.floor((now.getTime() - date.getTime()) / 1000)\n\n    if (seconds < 60) return \"just now\"\n    if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`\n    if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`\n    return `${Math.floor(seconds / 86400)}d ago`\n  }\n\n  const handleClearNotifications = () => {\n    setNotifications([])\n    setUnreadCount(0)\n  }\n\n  const handleLeadClick = (leadId: string) => {\n    router.push(`/players/${leadId}`)\n    setSearchOpen(false)\n    setSearchQuery(\"\")\n  }\n\n  const handleProgramClick = (programId: string) => {\n    router.push(`/programmes?id=${programId}`)\n    setSearchOpen(false)\n    setSearchQuery(\"\")\n  }\n\n  const totalResults = searchResults.leads.length + searchResults.programs.length + searchResults.activities.length\n\n  return (\n    <>\n      <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n      <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"anonymous\" />\n      <link href=\"https://fonts.googleapis.com/css2?family=Oswald:wght@500;600;700&display=swap\" rel=\"stylesheet\" />\n      <header\n        className=\"sticky top-0 z-30 bg-background border-b-2 border-primary\"\n        style={{\n          boxShadow: \"0 1px 3px rgba(0,0,0,0.05)\",\n        }}\n      >\n        <div className=\"flex h-20 items-center justify-between px-6\">\n          <div>\n            <h1\n              className=\"text-2xl tracking-tight text-foreground uppercase\"\n              style={{ fontFamily: \"'Oswald', sans-serif\", fontWeight: 600, letterSpacing: \"0.5px\" }}\n            >\n              {title}\n            </h1>\n          </div>\n\n          <div className=\"flex items-center gap-4\">\n            <div className=\"relative hidden md:block\">\n              <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 pointer-events-none text-primary\" />\n              <button\n                onClick={() => setSearchOpen(true)}\n                className=\"w-64 h-10 pl-9 pr-3 bg-background text-foreground border border-border rounded-lg text-left text-sm placeholder:text-muted-foreground hover:border-primary/50 focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all\"\n              >\n                <span className=\"text-muted-foreground\">Search...</span>\n                <kbd className=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground\">\n                  <span className=\"text-xs\">âŒ˜</span>K\n                </kbd>\n              </button>\n            </div>\n\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"relative hover:bg-primary/10 transition-all duration-200 text-primary\"\n                >\n                  <Bell className=\"h-5 w-5\" />\n                  {unreadCount > 0 && (\n                    <span className=\"absolute right-1.5 top-1.5 flex h-4 w-4 items-center justify-center rounded-full bg-destructive text-[10px] font-semibold text-destructive-foreground\">\n                      {unreadCount}\n                    </span>\n                  )}\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-80\">\n                <div className=\"flex items-center justify-between px-2 py-1.5\">\n                  <DropdownMenuLabel className=\"p-0\">Notifications</DropdownMenuLabel>\n                  {notifications.length > 0 && (\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-auto p-1 text-xs text-primary hover:text-primary hover:bg-primary/10\"\n                      onClick={handleClearNotifications}\n                    >\n                      Clear all\n                    </Button>\n                  )}\n                </div>\n                <DropdownMenuSeparator />\n                {notifications.length === 0 ? (\n                  <div className=\"py-8 text-center\">\n                    <Bell className=\"mx-auto h-8 w-8 text-muted-foreground/40 mb-2\" />\n                    <p className=\"text-sm text-muted-foreground\">No notifications</p>\n                  </div>\n                ) : (\n                  <div className=\"max-h-[400px] overflow-y-auto\">\n                    {notifications.map((notification) => (\n                      <DropdownMenuItem\n                        key={notification.id}\n                        className=\"flex flex-col items-start gap-1 p-3 cursor-pointer\"\n                      >\n                        <div className=\"flex w-full items-start justify-between gap-2\">\n                          <p className=\"text-sm font-medium text-foreground leading-tight\">{notification.type}</p>\n                          <span className=\"text-xs text-muted-foreground whitespace-nowrap\">\n                            {formatTimeAgo(notification.created_at)}\n                          </span>\n                        </div>\n                        <p className=\"text-xs text-muted-foreground leading-relaxed\">{notification.description}</p>\n                      </DropdownMenuItem>\n                    ))}\n                  </div>\n                )}\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"gap-2 hover:bg-primary/10 transition-all duration-200 text-primary\"\n                >\n                  <div className=\"flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold text-primary-foreground shadow-md bg-primary\">\n                    {user?.email?.charAt(0).toUpperCase() || \"U\"}\n                  </div>\n                  <span className=\"hidden text-sm font-medium md:inline-block\">{user?.email || \"Loading...\"}</span>\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-56\">\n                <DropdownMenuLabel>My Account</DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem>{user?.email || \"Loading...\"}</DropdownMenuItem>\n                <DropdownMenuItem onClick={() => router.push(\"/profile\")}>Profile</DropdownMenuItem>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem onClick={handleSignOut}>Logout</DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n        </div>\n      </header>\n\n      <Dialog open={searchOpen} onOpenChange={setSearchOpen}>\n        <DialogContent className=\"max-w-2xl p-0 gap-0\">\n          <div className=\"flex items-center border-b px-3\">\n            <Search className=\"h-4 w-4 text-muted-foreground\" />\n            <Input\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search players, programmes, activities...\"\n              className=\"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-12\"\n              autoFocus\n            />\n          </div>\n          <div className=\"max-h-[400px] overflow-y-auto p-2\">\n            {!searchQuery || searchQuery.length < 2 ? (\n              <div className=\"py-12 text-center text-sm text-muted-foreground\">\n                Type to search across players, programmes, and activities\n              </div>\n            ) : isSearching ? (\n              <div className=\"py-12 text-center text-sm text-muted-foreground\">Searching...</div>\n            ) : totalResults === 0 ? (\n              <div className=\"py-12 text-center text-sm text-muted-foreground\">\n                No results found for \"{searchQuery}\"\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {searchResults.leads.length > 0 && (\n                  <div>\n                    <div className=\"px-2 py-1.5 text-xs font-semibold text-muted-foreground uppercase tracking-wide\">\n                      Players ({searchResults.leads.length})\n                    </div>\n                    <div className=\"space-y-1\">\n                      {searchResults.leads.map((lead) => (\n                        <button\n                          key={lead.id}\n                          onClick={() => handleLeadClick(lead.id)}\n                          className=\"w-full flex items-center justify-between p-2 rounded-lg hover:bg-muted text-left group transition-colors\"\n                        >\n                          <div className=\"flex-1 min-w-0\">\n                            <div className=\"font-medium text-sm text-foreground\">{lead.name}</div>\n                            <div className=\"text-xs text-muted-foreground truncate\">{lead.email}</div>\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <span\n                              className=\"text-xs px-2 py-0.5 rounded-full\"\n                              style={{\n                                backgroundColor:\n                                  lead.status === \"hot\"\n                                    ? \"hsl(var(--destructive) / 0.1)\"\n                                    : lead.status === \"warm\"\n                                      ? \"hsl(var(--warning) / 0.1)\"\n                                      : \"hsl(var(--primary) / 0.1)\",\n                                color:\n                                  lead.status === \"hot\"\n                                    ? \"hsl(var(--destructive))\"\n                                    : lead.status === \"warm\"\n                                      ? \"hsl(var(--warning))\"\n                                      : \"hsl(var(--primary))\",\n                              }}\n                            >\n                              {lead.status}\n                            </span>\n                            <ArrowRight className=\"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity\" />\n                          </div>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {searchResults.programs.length > 0 && (\n                  <div>\n                    <div className=\"px-2 py-1.5 text-xs font-semibold text-muted-foreground uppercase tracking-wide\">\n                      Programmes ({searchResults.programs.length})\n                    </div>\n                    <div className=\"space-y-1\">\n                      {searchResults.programs.map((program) => (\n                        <button\n                          key={program.id}\n                          onClick={() => handleProgramClick(program.id)}\n                          className=\"w-full flex items-center justify-between p-2 rounded-lg hover:bg-muted text-left group transition-colors\"\n                        >\n                          <div className=\"flex-1 min-w-0\">\n                            <div className=\"font-medium text-sm text-foreground\">{program.name}</div>\n                            <div className=\"text-xs text-muted-foreground truncate\">{program.description}</div>\n                          </div>\n                          <ArrowRight className=\"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity\" />\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {searchResults.activities.length > 0 && (\n                  <div>\n                    <div className=\"px-2 py-1.5 text-xs font-semibold text-muted-foreground uppercase tracking-wide\">\n                      Recent Activity ({searchResults.activities.length})\n                    </div>\n                    <div className=\"space-y-1\">\n                      {searchResults.activities.map((activity) => (\n                        <div key={activity.id} className=\"p-2 rounded-lg hover:bg-muted transition-colors\">\n                          <div className=\"flex items-start justify-between gap-2\">\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"font-medium text-sm text-foreground\">{activity.type}</div>\n                              <div className=\"text-xs text-muted-foreground\">{activity.description}</div>\n                            </div>\n                            <span className=\"text-xs text-muted-foreground whitespace-nowrap\">\n                              {formatTimeAgo(activity.created_at)}\n                            </span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1941, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/layout/app-layout.tsx"],"sourcesContent":["import type React from \"react\"\nimport { AppSidebar } from \"./app-sidebar\"\nimport { AppHeader } from \"./app-header\"\nimport type { User } from \"@supabase/supabase-js\"\n\ninterface AppLayoutProps {\n  children: React.ReactNode\n  user: User\n  title: string\n}\n\nexport function AppLayout({ children, user, title }: AppLayoutProps) {\n  return (\n    <div className=\"flex min-h-screen bg-[#f9fafc]\">\n      <AppSidebar />\n\n      {/* Main content area - adjusts based on sidebar width */}\n      <div className=\"flex-1 lg:pl-60 max-w-full overflow-hidden\">\n        <AppHeader user={user} title={title} />\n        <main className=\"p-6 max-w-full\">{children}</main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AASO,SAAS,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAkB;IACjE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,qJAAU;;;;;0BAGX,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,mJAAS;wBAAC,MAAM;wBAAM,OAAO;;;;;;kCAC9B,8OAAC;wBAAK,WAAU;kCAAkB;;;;;;;;;;;;;;;;;;AAI1C","debugId":null}},
    {"offset": {"line": 1996, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 2098, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 2144, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,+KAAyB;AAEjD,MAAM,UAAU,2KAAqB;AAErC,MAAM,iBAAiB,8KAAwB;AAE/C,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,8OAAC,8KAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,IAAA,kHAAE,EACX,sYACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2182, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/sheet.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SheetPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = 'right',\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: 'top' | 'right' | 'bottom' | 'left'\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500',\n          side === 'right' &&\n            'data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm',\n          side === 'left' &&\n            'data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm',\n          side === 'top' &&\n            'data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b',\n          side === 'bottom' &&\n            'data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n          <XIcon className=\"size-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  )\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn('flex flex-col gap-1.5 p-4', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn('mt-auto flex flex-col gap-2 p-4', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn('text-foreground font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sheet,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,MAAM,EAAE,GAAG,OAAyD;IAC3E,qBAAO,8OAAC,0KAAmB;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,8OAAC,6KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,WAAW,EAClB,GAAG,OAC+C;IAClD,qBAAO,8OAAC,2KAAoB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,4KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8OAAC,6KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,GAAG,OAGJ;IACC,qBACE,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAsB;gBACrB,aAAU;gBACV,WAAW,IAAA,kHAAE,EACX,8MACA,SAAS,WACP,oIACF,SAAS,UACP,iIACF,SAAS,SACP,4GACF,SAAS,YACP,qHACF;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAoB;wBAAC,WAAU;;0CAC9B,8OAAC,yMAAK;gCAAC,WAAU;;;;;;0CACjB,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,2KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,8OAAC,iLAA0B;QACzB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 2360, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/switch.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\n\nimport { cn } from '@/lib/utils'\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\n        }\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,6WACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2KAAqB;YACpB,aAAU;YACV,WACE;;;;;;;;;;;AAKV","debugId":null}},
    {"offset": {"line": 2395, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8OAAC,yKAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 2422, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 2446, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8OAAC,0KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,kHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,2OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,aAAU;YACV,WAAW,IAAA,kHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,kHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIT;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,qNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAGjC;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,8OAAC,+KAAyB;QACxB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,8OAAC,oLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,qOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,8OAAC,sLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC","debugId":null}},
    {"offset": {"line": 2679, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/hooks/use-toast.ts"],"sourcesContent":["'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2836, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/automations/step-details-drawer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef, useEffect } from \"react\"\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from \"@/components/ui/sheet\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { AlertCircle, Loader2 } from 'lucide-react'\n\ninterface StepDetailsDrawerProps {\n  workflowId: number\n  step: {\n    id: number\n    type: \"email\" | \"wait\" | \"tag\"\n    title: string\n    subtitle: string\n    icon: React.ElementType\n  }\n  open: boolean\n  onClose: () => void\n  onStepUpdated?: () => void\n}\n\nconst emailStepData = {\n  subject: \"Welcome to IFG - Your Pathway to Success\",\n  body: `Hi {{player_name}},\n\nWelcome to The International Football Group! We're excited to help you take the next step in your football career.\n\nOver the coming days, we'll share more information about our programmes and how we can support your journey.\n\nBest regards,\nThe IFG Team`,\n  fromName: \"The International Football Group\",\n  replyTo: \"admin@ifgcrm.com\",\n}\n\nconst waitStepData = {\n  value: 2,\n  unit: \"days\" as \"minutes\" | \"hours\" | \"days\",\n}\n\nexport function StepDetailsDrawer({ workflowId, step, open, onClose, onStepUpdated }: StepDetailsDrawerProps) {\n  const { toast } = useToast()\n  const [isSaving, setIsSaving] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\n\n  const [subject, setSubject] = useState(emailStepData.subject)\n  const [body, setBody] = useState(emailStepData.body)\n  const [fromName, setFromName] = useState(emailStepData.fromName)\n  const [replyTo, setReplyTo] = useState(emailStepData.replyTo)\n  const [subjectError, setSubjectError] = useState(\"\")\n\n  const [waitValue, setWaitValue] = useState(waitStepData.value)\n  const [waitUnit, setWaitUnit] = useState(waitStepData.unit)\n  const [waitError, setWaitError] = useState(\"\")\n\n  const [hasChanges, setHasChanges] = useState(false)\n\n  useEffect(() => {\n    if (open) {\n      setError(null)\n      setSubjectError(\"\")\n      setWaitError(\"\")\n      setHasChanges(false)\n      \n      // Reset to initial values\n      if (step.type === \"email\") {\n        setSubject(emailStepData.subject)\n        setBody(emailStepData.body)\n        setFromName(emailStepData.fromName)\n        setReplyTo(emailStepData.replyTo)\n      } else if (step.type === \"wait\") {\n        setWaitValue(waitStepData.value)\n        setWaitUnit(waitStepData.unit)\n      }\n    }\n  }, [open, step.type])\n\n  useEffect(() => {\n    if (step.type === \"email\") {\n      const changed =\n        subject !== emailStepData.subject ||\n        body !== emailStepData.body ||\n        fromName !== emailStepData.fromName ||\n        replyTo !== emailStepData.replyTo\n      setHasChanges(changed)\n    }\n  }, [subject, body, fromName, replyTo, step.type])\n\n  useEffect(() => {\n    if (step.type === \"wait\") {\n      const changed =\n        waitValue !== waitStepData.value ||\n        waitUnit !== waitStepData.unit\n      setHasChanges(changed)\n    }\n  }, [waitValue, waitUnit, step.type])\n\n  const insertToken = (token: string) => {\n    const textarea = textareaRef.current\n    if (!textarea) return\n\n    const start = textarea.selectionStart\n    const end = textarea.selectionEnd\n    const newBody = body.substring(0, start) + token + body.substring(end)\n    \n    setBody(newBody)\n    \n    // Set cursor position after inserted token\n    setTimeout(() => {\n      textarea.focus()\n      textarea.setSelectionRange(start + token.length, start + token.length)\n    }, 0)\n  }\n\n  const handleSaveEmail = async () => {\n    // Validate subject\n    if (!subject.trim()) {\n      setSubjectError(\"Subject line is required.\")\n      return\n    }\n    \n    setSubjectError(\"\")\n    setIsSaving(true)\n    setError(null)\n\n    try {\n      // Call API to update step\n      const response = await fetch(`/api/automations/${workflowId}/steps/${step.id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          subject: subject.trim(),\n          body: body.trim(),\n          fromName: fromName.trim() || emailStepData.fromName,\n          replyTo: replyTo.trim() || emailStepData.replyTo,\n        }),\n      })\n\n      if (!response.ok) {\n        if (response.status === 403) {\n          setError(\"You don't have permission to edit this step. Contact your CRM admin.\")\n          setIsSaving(false)\n          return\n        }\n        throw new Error(\"Failed to save\")\n      }\n\n      // Success\n      toast({\n        title: \"Email step updated\",\n        description: \"Your changes have been saved.\",\n      })\n      \n      onStepUpdated?.()\n      onClose()\n    } catch (err) {\n      setError(\"We couldn't save your changes. Please try again.\")\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const handleSaveWait = async () => {\n    // Validate wait value\n    if (waitValue <= 0) {\n      setWaitError(\"Wait time must be greater than zero.\")\n      return\n    }\n\n    setWaitError(\"\")\n    setIsSaving(true)\n    setError(null)\n\n    try {\n      // Call API to update step\n      const response = await fetch(`/api/automations/${workflowId}/steps/${step.id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          waitValue,\n          waitUnit,\n        }),\n      })\n\n      if (!response.ok) {\n        if (response.status === 403) {\n          setError(\"You don't have permission to edit this step. Contact your CRM admin.\")\n          setIsSaving(false)\n          return\n        }\n        throw new Error(\"Failed to save\")\n      }\n\n      // Success\n      toast({\n        title: \"Wait step updated\",\n        description: \"Your changes have been saved.\",\n      })\n      \n      onStepUpdated?.()\n      onClose()\n    } catch (err) {\n      setError(\"We couldn't save your changes. Please try again.\")\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const handleCancel = () => {\n    onClose()\n  }\n\n  return (\n    <Sheet open={open} onOpenChange={onClose}>\n      <SheetContent className=\"w-full sm:w-[500px] sm:max-w-[500px] overflow-y-auto p-6\">\n        <SheetHeader className=\"border-b pb-5 mb-6\">\n          <div className=\"flex items-start gap-3\">\n            <div\n              className={`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${\n                step.type === \"email\"\n                  ? \"bg-blue-50\"\n                  : step.type === \"wait\"\n                  ? \"bg-amber-50\"\n                  : \"bg-purple-50\"\n              }`}\n            >\n              <step.icon\n                className={`h-5 w-5 ${\n                  step.type === \"email\"\n                    ? \"text-blue-600\"\n                    : step.type === \"wait\"\n                    ? \"text-amber-600\"\n                    : \"text-purple-600\"\n                }`}\n              />\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <SheetTitle className=\"text-lg font-bold text-gray-900\">{step.title}</SheetTitle>\n              <p className=\"text-sm text-gray-600 mt-1\">\n                {step.type === \"email\"\n                  ? \"Sends when this step is reached in the workflow.\"\n                  : step.type === \"wait\"\n                  ? \"Delays the next step in the workflow.\"\n                  : \"Applies a tag when this step executes.\"}\n              </p>\n            </div>\n          </div>\n        </SheetHeader>\n\n        {error && (\n          <div className=\"mb-4 flex items-start gap-2 rounded-lg border border-red-200 bg-red-50 px-4 py-3\">\n            <AlertCircle className=\"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5\" />\n            <p className=\"text-sm text-red-800\">{error}</p>\n          </div>\n        )}\n\n        <div className=\"space-y-6\">\n          {step.type === \"email\" && (\n            <>\n              <div>\n                <Label htmlFor=\"subject\" className=\"text-sm font-semibold text-gray-900 mb-2 block\">\n                  Subject Line <span className=\"text-red-600\">*</span>\n                </Label>\n                <Input\n                  id=\"subject\"\n                  value={subject}\n                  onChange={(e) => setSubject(e.target.value)}\n                  placeholder=\"Enter email subject\"\n                  className={subjectError ? \"border-red-500\" : \"\"}\n                  disabled={isSaving}\n                />\n                {subjectError && (\n                  <p className=\"text-xs text-red-600 mt-1\">{subjectError}</p>\n                )}\n              </div>\n\n              <div>\n                <Label htmlFor=\"body\" className=\"text-sm font-semibold text-gray-900 mb-2 block\">\n                  Email Body <span className=\"text-red-600\">*</span>\n                </Label>\n                <Textarea\n                  ref={textareaRef}\n                  id=\"body\"\n                  value={body}\n                  onChange={(e) => setBody(e.target.value)}\n                  placeholder=\"Enter email body...\"\n                  rows={10}\n                  className=\"font-mono text-sm resize-none\"\n                  disabled={isSaving}\n                />\n                <p className=\"text-xs text-gray-500 mt-2\">\n                  You can use dynamic fields like {\"{{player_name}}\"}, {\"{{programme}}\"}, {\"{{recruiter_name}}\"}.\n                </p>\n                <div className=\"flex flex-wrap gap-2 mt-2\">\n                  <button\n                    type=\"button\"\n                    onClick={() => insertToken(\"{{player_name}}\")}\n                    className=\"inline-flex items-center px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-xs font-medium hover:bg-blue-100 transition-colors\"\n                    disabled={isSaving}\n                  >\n                    {\"{{player_name}}\"}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => insertToken(\"{{programme}}\")}\n                    className=\"inline-flex items-center px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-xs font-medium hover:bg-blue-100 transition-colors\"\n                    disabled={isSaving}\n                  >\n                    {\"{{programme}}\"}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => insertToken(\"{{recruiter_name}}\")}\n                    className=\"inline-flex items-center px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-xs font-medium hover:bg-blue-100 transition-colors\"\n                    disabled={isSaving}\n                  >\n                    {\"{{recruiter_name}}\"}\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <Label htmlFor=\"fromName\" className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                    From name <span className=\"text-gray-400\">(optional)</span>\n                  </Label>\n                  <Input\n                    id=\"fromName\"\n                    value={fromName}\n                    onChange={(e) => setFromName(e.target.value)}\n                    placeholder={emailStepData.fromName}\n                    disabled={isSaving}\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"replyTo\" className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                    Reply-to email <span className=\"text-gray-400\">(optional)</span>\n                  </Label>\n                  <Input\n                    id=\"replyTo\"\n                    type=\"email\"\n                    value={replyTo}\n                    onChange={(e) => setReplyTo(e.target.value)}\n                    placeholder={emailStepData.replyTo}\n                    disabled={isSaving}\n                  />\n                </div>\n              </div>\n            </>\n          )}\n\n          {step.type === \"wait\" && (\n            <div>\n              <Label htmlFor=\"waitValue\" className=\"text-sm font-semibold text-gray-900 mb-2 block\">\n                Wait before the next step\n              </Label>\n              <div className=\"flex items-center gap-2\">\n                <Input\n                  id=\"waitValue\"\n                  type=\"number\"\n                  min=\"1\"\n                  value={waitValue}\n                  onChange={(e) => setWaitValue(parseInt(e.target.value) || 0)}\n                  className={`w-24 ${waitError ? \"border-red-500\" : \"\"}`}\n                  disabled={isSaving}\n                />\n                <Select value={waitUnit} onValueChange={(value: any) => setWaitUnit(value)} disabled={isSaving}>\n                  <SelectTrigger className=\"w-32\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"minutes\">minutes</SelectItem>\n                    <SelectItem value=\"hours\">hours</SelectItem>\n                    <SelectItem value=\"days\">days</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              {waitError && (\n                <p className=\"text-xs text-red-600 mt-1\">{waitError}</p>\n              )}\n              <p className=\"text-xs text-gray-500 mt-2\">\n                Changing this will only affect future runs, not messages already scheduled.\n              </p>\n            </div>\n          )}\n\n          {step.type === \"tag\" && (\n            <div>\n              <h3 className=\"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-2\">Tag Details</h3>\n              <div className=\"flex items-center gap-2\">\n                <Badge className=\"bg-purple-100 text-purple-700 border-purple-200\">\n                  Signed Player\n                </Badge>\n              </div>\n              <p className=\"text-sm text-gray-600 mt-3\">\n                This tag will be automatically applied to the player when this step executes.\n              </p>\n            </div>\n          )}\n        </div>\n\n        {(step.type === \"email\" || step.type === \"wait\") && (\n          <div className=\"flex items-center justify-between gap-3 pt-6 mt-6 border-t\">\n            <Button\n              variant=\"ghost\"\n              onClick={handleCancel}\n              disabled={isSaving}\n              className=\"flex-1\"\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={step.type === \"email\" ? handleSaveEmail : handleSaveWait}\n              disabled={!hasChanges || isSaving || !!error}\n              className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white\"\n            >\n              {isSaving ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Saving...\n                </>\n              ) : (\n                \"Save changes\"\n              )}\n            </Button>\n          </div>\n        )}\n      </SheetContent>\n    </Sheet>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3576, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/automations/messages-drawer.tsx"],"sourcesContent":["\"use client\"\n\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from \"@/components/ui/sheet\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Mail, CheckCircle2, XCircle } from 'lucide-react'\n\ninterface MessagesDrawerProps {\n  workflowName: string\n  open: boolean\n  onClose: () => void\n}\n\nconst mockMessages = [\n  { id: 1, playerName: \"John Smith\", email: \"john@example.com\", sentAt: \"2 hours ago\", status: \"delivered\" },\n  { id: 2, playerName: \"Emma Wilson\", email: \"emma@example.com\", sentAt: \"5 hours ago\", status: \"delivered\" },\n  { id: 3, playerName: \"Michael Brown\", email: \"michael@example.com\", sentAt: \"1 day ago\", status: \"failed\" },\n  { id: 4, playerName: \"Sarah Davis\", email: \"sarah@example.com\", sentAt: \"1 day ago\", status: \"delivered\" },\n  { id: 5, playerName: \"James Taylor\", email: \"james@example.com\", sentAt: \"2 days ago\", status: \"delivered\" },\n]\n\nexport function MessagesDrawer({ workflowName, open, onClose }: MessagesDrawerProps) {\n  return (\n    <Sheet open={open} onOpenChange={onClose}>\n      <SheetContent className=\"w-full sm:w-[500px] sm:max-w-[500px] overflow-y-auto\">\n        <SheetHeader className=\"border-b pb-4 mb-6\">\n          <SheetTitle className=\"text-lg font-bold text-gray-900\">Messages Sent</SheetTitle>\n          <p className=\"text-sm text-gray-600\">{workflowName}</p>\n        </SheetHeader>\n\n        <div className=\"space-y-3\">\n          {mockMessages.map((message) => (\n            <div\n              key={message.id}\n              className=\"flex items-start gap-3 p-3 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 transition-colors\"\n            >\n              <div className=\"flex-shrink-0 w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center\">\n                <Mail className=\"h-4 w-4 text-blue-600\" />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-900\">{message.playerName}</p>\n                <p className=\"text-xs text-gray-500\">{message.email}</p>\n                <p className=\"text-xs text-gray-500 mt-1\">{message.sentAt}</p>\n              </div>\n              <div className=\"flex-shrink-0\">\n                {message.status === \"delivered\" ? (\n                  <Badge className=\"bg-green-100 text-green-700 border-green-200 flex items-center gap-1\">\n                    <CheckCircle2 className=\"h-3 w-3\" />\n                    Sent\n                  </Badge>\n                ) : (\n                  <Badge className=\"bg-red-100 text-red-700 border-red-200 flex items-center gap-1\">\n                    <XCircle className=\"h-3 w-3\" />\n                    Failed\n                  </Badge>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      </SheetContent>\n    </Sheet>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAJA;;;;;AAYA,MAAM,eAAe;IACnB;QAAE,IAAI;QAAG,YAAY;QAAc,OAAO;QAAoB,QAAQ;QAAe,QAAQ;IAAY;IACzG;QAAE,IAAI;QAAG,YAAY;QAAe,OAAO;QAAoB,QAAQ;QAAe,QAAQ;IAAY;IAC1G;QAAE,IAAI;QAAG,YAAY;QAAiB,OAAO;QAAuB,QAAQ;QAAa,QAAQ;IAAS;IAC1G;QAAE,IAAI;QAAG,YAAY;QAAe,OAAO;QAAqB,QAAQ;QAAa,QAAQ;IAAY;IACzG;QAAE,IAAI;QAAG,YAAY;QAAgB,OAAO;QAAqB,QAAQ;QAAc,QAAQ;IAAY;CAC5G;AAEM,SAAS,eAAe,EAAE,YAAY,EAAE,IAAI,EAAE,OAAO,EAAuB;IACjF,qBACE,8OAAC,mIAAK;QAAC,MAAM;QAAM,cAAc;kBAC/B,cAAA,8OAAC,0IAAY;YAAC,WAAU;;8BACtB,8OAAC,yIAAW;oBAAC,WAAU;;sCACrB,8OAAC,wIAAU;4BAAC,WAAU;sCAAkC;;;;;;sCACxD,8OAAC;4BAAE,WAAU;sCAAyB;;;;;;;;;;;;8BAGxC,8OAAC;oBAAI,WAAU;8BACZ,aAAa,GAAG,CAAC,CAAC,wBACjB,8OAAC;4BAEC,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,0MAAI;wCAAC,WAAU;;;;;;;;;;;8CAElB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAqC,QAAQ,UAAU;;;;;;sDACpE,8OAAC;4CAAE,WAAU;sDAAyB,QAAQ,KAAK;;;;;;sDACnD,8OAAC;4CAAE,WAAU;sDAA8B,QAAQ,MAAM;;;;;;;;;;;;8CAE3D,8OAAC;oCAAI,WAAU;8CACZ,QAAQ,MAAM,KAAK,4BAClB,8OAAC,mIAAK;wCAAC,WAAU;;0DACf,8OAAC,qOAAY;gDAAC,WAAU;;;;;;4CAAY;;;;;;6DAItC,8OAAC,mIAAK;wCAAC,WAAU;;0DACf,8OAAC,uNAAO;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;2BAnBhC,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;AA8B7B","debugId":null}},
    {"offset": {"line": 3779, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/automations/workflow-drawer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from \"@/components/ui/sheet\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { Mail, Clock, Tag, Zap, ChevronRight, AlertCircle, AlertTriangle } from 'lucide-react'\nimport { Switch } from \"@/components/ui/switch\"\nimport { Label } from \"@/components/ui/label\"\nimport { StepDetailsDrawer } from \"./step-details-drawer\"\nimport { MessagesDrawer } from \"./messages-drawer\"\n\ninterface WorkflowStep {\n  id: number\n  type: \"email\" | \"wait\" | \"tag\"\n  title: string\n  subtitle: string\n  icon: React.ElementType\n}\n\ninterface WorkflowDrawerProps {\n  workflow: {\n    id: number\n    name: string\n    description: string\n    status: string\n    trigger: string\n    icon: React.ElementType\n    isRunning?: boolean\n    hasError?: boolean\n  }\n  open: boolean\n  onClose: () => void\n}\n\nconst workflowSteps: Record<number, WorkflowStep[]> = {\n  1: [\n    { id: 1, type: \"email\", title: \"Send Email: Welcome to IFG\", subtitle: \"Immediately\", icon: Mail },\n    { id: 2, type: \"wait\", title: \"Wait\", subtitle: \"2 days\", icon: Clock },\n    { id: 3, type: \"email\", title: \"Send Email: Programme Details\", subtitle: \"After wait\", icon: Mail },\n    { id: 4, type: \"wait\", title: \"Wait\", subtitle: \"5 days\", icon: Clock },\n    { id: 5, type: \"email\", title: \"Send Email: Next Steps\", subtitle: \"After wait\", icon: Mail },\n  ],\n  2: [\n    { id: 1, type: \"email\", title: \"Send Email: Congratulations\", subtitle: \"Immediately\", icon: Mail },\n    { id: 2, type: \"tag\", title: \"Apply Tag: Signed Player\", subtitle: \"After email\", icon: Tag },\n  ],\n  3: [\n    { id: 1, type: \"email\", title: \"Send Email: Invoice Due Soon\", subtitle: \"3 days before due date\", icon: Mail },\n    { id: 2, type: \"wait\", title: \"Wait\", subtitle: \"Until due date\", icon: Clock },\n    { id: 3, type: \"email\", title: \"Send Email: Invoice Overdue\", subtitle: \"1 day after due date\", icon: Mail },\n  ],\n}\n\nexport function WorkflowDrawer({ workflow, open, onClose }: WorkflowDrawerProps) {\n  const [isActive, setIsActive] = useState(workflow.status === \"Active\")\n  const [selectedStep, setSelectedStep] = useState<WorkflowStep | null>(null)\n  const [isStepDrawerOpen, setIsStepDrawerOpen] = useState(false)\n  const [isMessagesDrawerOpen, setIsMessagesDrawerOpen] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n  const [hasError, setHasError] = useState(false)\n  const [steps, setSteps] = useState<WorkflowStep[]>([])\n  const [recentlyUpdatedStepId, setRecentlyUpdatedStepId] = useState<number | null>(null)\n\n  useEffect(() => {\n    if (open) {\n      fetchWorkflowData()\n    }\n  }, [open, workflow.id])\n\n  const fetchWorkflowData = async () => {\n    try {\n      setIsLoading(true)\n      setHasError(false)\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 600))\n      setSteps(workflowSteps[workflow.id] || [])\n    } catch (error) {\n      setHasError(true)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleStepClick = (step: WorkflowStep) => {\n    setSelectedStep(step)\n    setIsStepDrawerOpen(true)\n  }\n\n  const handleRetry = () => {\n    fetchWorkflowData()\n  }\n\n  const handleRetryWorkflow = () => {\n    // Simulate workflow retry\n    console.log(\"[v0] Retrying workflow:\", workflow.id)\n  }\n\n  const handleStepUpdated = () => {\n    if (selectedStep) {\n      setRecentlyUpdatedStepId(selectedStep.id)\n      // Clear the highlight after 3 seconds\n      setTimeout(() => {\n        setRecentlyUpdatedStepId(null)\n      }, 3000)\n    }\n  }\n\n  return (\n    <>\n      <Sheet open={open} onOpenChange={onClose}>\n        <SheetContent className=\"w-full sm:w-[500px] sm:max-w-[500px] overflow-y-auto\">\n          <SheetHeader className=\"border-b pb-4 mb-5\">\n            {isLoading ? (\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-11 h-11 rounded-lg bg-[#E5E7EB] animate-pulse flex-shrink-0\" />\n                <div className=\"flex-1 min-w-0 space-y-2\">\n                  <div className=\"h-5 w-48 bg-[#E5E7EB] animate-pulse rounded\" />\n                  <div className=\"h-4 w-64 bg-[#E5E7EB] animate-pulse rounded\" />\n                </div>\n              </div>\n            ) : (\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-11 h-11 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0\">\n                  <workflow.icon className=\"h-5 w-5 text-white\" />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <SheetTitle className=\"text-lg font-bold text-gray-900\">{workflow.name}</SheetTitle>\n                  <p className=\"text-sm text-gray-600 mt-0.5\">{workflow.description}</p>\n                </div>\n              </div>\n            )}\n          </SheetHeader>\n\n          {!isLoading && !hasError && workflow.hasError && (\n            <div className=\"mb-4 flex items-center justify-between rounded-lg border border-red-200 bg-red-50 px-4 py-3 border-l-4 border-l-red-500\">\n              <div className=\"flex items-center gap-2\">\n                <AlertTriangle className=\"h-4 w-4 text-red-600 flex-shrink-0\" />\n                <p className=\"text-sm text-red-800\">This workflow encountered an error during the last run.</p>\n              </div>\n              <Button\n                size=\"sm\"\n                onClick={handleRetryWorkflow}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white h-8 text-xs flex-shrink-0\"\n              >\n                Retry\n              </Button>\n            </div>\n          )}\n\n          {hasError ? (\n            <div className=\"py-16 flex flex-col items-center justify-center text-center\">\n              <div className=\"rounded-full bg-red-100 p-3 mb-3\">\n                <AlertCircle className=\"h-6 w-6 text-red-600\" />\n              </div>\n              <h3 className=\"text-base font-semibold text-gray-900 mb-1\">Something went wrong</h3>\n              <p className=\"text-sm text-gray-600 mb-4\">We couldn't load this workflow.</p>\n              <Button\n                variant=\"link\"\n                size=\"sm\"\n                onClick={handleRetry}\n                className=\"text-blue-600 hover:text-blue-700\"\n              >\n                Retry\n              </Button>\n            </div>\n          ) : isLoading ? (\n            <div className=\"space-y-5\">\n              <div className=\"h-14 w-full bg-[#E5E7EB] animate-pulse rounded-lg\" />\n              <div className=\"space-y-2\">\n                <div className=\"h-16 w-full bg-[#E5E7EB] animate-pulse rounded-lg\" />\n              </div>\n              <div className=\"space-y-3\">\n                <div className=\"h-10 w-32 bg-[#E5E7EB] animate-pulse rounded-lg\" />\n                {[1, 2, 3].map((i) => (\n                  <div key={i} className=\"h-16 w-full bg-[#E5E7EB] animate-pulse rounded-lg\" />\n                ))}\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-5\">\n              <div className=\"flex items-center justify-between px-3 py-2.5 rounded-lg border border-gray-200 bg-gray-50\">\n                <Label htmlFor=\"status-toggle\" className=\"text-sm font-medium text-gray-900\">\n                  Workflow Status\n                </Label>\n                <div className=\"flex items-center gap-2\">\n                  <Badge\n                    variant={isActive ? \"default\" : \"secondary\"}\n                    className={\n                      isActive\n                        ? \"bg-green-100 text-green-700 border-green-200 text-xs\"\n                        : \"bg-gray-100 text-gray-600 border-gray-200 text-xs\"\n                    }\n                  >\n                    {isActive ? \"Active\" : \"Paused\"}\n                  </Badge>\n                  <Switch\n                    id=\"status-toggle\"\n                    checked={isActive}\n                    onCheckedChange={setIsActive}\n                  />\n                </div>\n              </div>\n\n              <div>\n                <div className=\"bg-gray-50 px-3 py-2 rounded-t-lg border border-b-0 border-gray-200\">\n                  <h3 className=\"text-xs font-semibold text-gray-700 uppercase tracking-wide\">Trigger</h3>\n                </div>\n                <div className=\"flex items-start gap-3 px-3 py-2.5 rounded-b-lg border border-gray-200 bg-white\">\n                  <Zap className=\"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0\" />\n                  <p className=\"text-sm text-gray-700\">{workflow.trigger}</p>\n                </div>\n              </div>\n\n              <div>\n                <div className=\"bg-gray-50 px-3 py-2 mb-3 rounded-lg border border-gray-200\">\n                  <h3 className=\"text-xs font-semibold text-gray-700 uppercase tracking-wide\">Steps</h3>\n                </div>\n                <div className=\"space-y-0 divide-y divide-gray-100 border border-gray-200 rounded-lg overflow-hidden\">\n                  {steps.map((step, index) => {\n                    const isStepRunning = workflow.isRunning && index === 0\n                    const isStepFailed = workflow.hasError && index === 0\n                    const isRecentlyUpdated = step.id === recentlyUpdatedStepId\n                    \n                    return (\n                      <button\n                        key={step.id}\n                        onClick={() => handleStepClick(step)}\n                        className={`w-full flex items-center gap-3 px-3 py-3 bg-white hover:bg-gray-50 transition-all duration-150 text-left ${\n                          isRecentlyUpdated ? \"bg-blue-50 animate-pulse\" : \"\"\n                        }`}\n                      >\n                        <div className=\"flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center relative\">\n                          <span className=\"text-xs font-bold text-blue-700\">{index + 1}</span>\n                          {isStepRunning && !isStepFailed && (\n                            <span className=\"absolute -top-0.5 -right-0.5 flex h-2 w-2\">\n                              <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75\"></span>\n                              <span className=\"relative inline-flex rounded-full h-2 w-2 bg-blue-500\"></span>\n                            </span>\n                          )}\n                        </div>\n                        <div\n                          className={`flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center ${\n                            isStepFailed\n                              ? \"bg-red-50\"\n                              : step.type === \"email\"\n                              ? \"bg-blue-50\"\n                              : step.type === \"wait\"\n                              ? \"bg-amber-50\"\n                              : \"bg-purple-50\"\n                          }`}\n                        >\n                          {isStepFailed ? (\n                            <AlertCircle className=\"h-4 w-4 text-red-600\" />\n                          ) : (\n                            <step.icon\n                              className={`h-4 w-4 ${\n                                step.type === \"email\"\n                                  ? \"text-blue-600\"\n                                  : step.type === \"wait\"\n                                  ? \"text-amber-600\"\n                                  : \"text-purple-600\"\n                              }`}\n                            />\n                          )}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-sm font-medium text-gray-900\">{step.title}</p>\n                          <p className={`text-xs mt-0.5 ${isStepFailed ? \"text-red-600\" : isRecentlyUpdated ? \"text-blue-600\" : \"text-gray-500\"}`}>\n                            {isStepFailed\n                              ? \"Failed â€” tap Retry to run again\"\n                              : isStepRunning\n                              ? \"In progress...\"\n                              : isRecentlyUpdated\n                              ? \"Updated just now\"\n                              : step.subtitle}\n                          </p>\n                        </div>\n                        <ChevronRight className=\"h-4 w-4 text-gray-400 flex-shrink-0\" />\n                      </button>\n                    )\n                  })}\n                </div>\n              </div>\n\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"w-full text-sm\"\n                onClick={() => setIsMessagesDrawerOpen(true)}\n              >\n                Run History\n              </Button>\n            </div>\n          )}\n        </SheetContent>\n      </Sheet>\n\n      {/* Step Details Drawer */}\n      {selectedStep && (\n        <StepDetailsDrawer\n          workflowId={workflow.id}\n          step={selectedStep}\n          open={isStepDrawerOpen}\n          onClose={() => setIsStepDrawerOpen(false)}\n          onStepUpdated={handleStepUpdated}\n        />\n      )}\n\n      {/* Messages History Drawer */}\n      <MessagesDrawer\n        workflowName={workflow.name}\n        open={isMessagesDrawerOpen}\n        onClose={() => setIsMessagesDrawerOpen(false)}\n      />\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4474, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/automations/automations-tab.tsx"],"sourcesContent":["\"use client\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\"\nimport { Mail, UserCheck, Receipt, ChevronRight, Zap, AlertCircle } from 'lucide-react'\nimport { useState, useEffect } from \"react\"\nimport { WorkflowDrawer } from \"@/components/automations/workflow-drawer\"\n\nconst automations = [\n  {\n    id: 1,\n    name: \"New Lead Follow-Up\",\n    description: \"3-step email sequence over 7 days.\",\n    status: \"Active\",\n    trigger: \"Triggered when a new player is added.\",\n    icon: Mail,\n    lastRun: \"2 hours ago\",\n    nextMessage: \"Tomorrow (Email 2 of 3)\",\n    messagesSent: 127,\n    completed: 89,\n    isRunning: false,\n    hasError: false,\n  },\n  {\n    id: 2,\n    name: \"Signed Player Welcome\",\n    description: \"Welcome sequence for new signees.\",\n    status: \"Active\",\n    trigger: \"Triggered when player status changes to Signed.\",\n    icon: UserCheck,\n    lastRun: \"1 day ago\",\n    nextMessage: \"Dec 15 (Email 1 of 2)\",\n    messagesSent: 64,\n    completed: 58,\n    isRunning: false,\n    hasError: false,\n  },\n  {\n    id: 3,\n    name: \"Invoice Reminder\",\n    description: \"Reminders before and after due dates.\",\n    status: \"Paused\",\n    trigger: \"Triggered when invoice due date is within 3 days.\",\n    icon: Receipt,\n    lastRun: \"3 days ago\",\n    nextMessage: \"Paused\",\n    messagesSent: 42,\n    completed: 35,\n    isRunning: false,\n    hasError: false,\n  },\n]\n\nexport function AutomationsTab() {\n  const [selectedWorkflow, setSelectedWorkflow] = useState<typeof automations[0] | null>(null)\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n  const [hasError, setHasError] = useState(false)\n  const [workflows, setWorkflows] = useState(automations)\n\n  useEffect(() => {\n    fetchWorkflows()\n  }, [])\n\n  const fetchWorkflows = async () => {\n    try {\n      setIsLoading(true)\n      setHasError(false)\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 800))\n      setWorkflows(automations)\n    } catch (error) {\n      setHasError(true)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleViewWorkflow = (automation: typeof automations[0]) => {\n    setSelectedWorkflow(automation)\n    setIsDrawerOpen(true)\n  }\n\n  const handleRetry = () => {\n    fetchWorkflows()\n  }\n\n  return (\n    <>\n      {hasError && (\n        <div className=\"mb-4 flex items-center justify-between rounded-lg border border-red-200 bg-red-50 px-4 py-3 border-l-4 border-l-red-500\">\n          <div className=\"flex items-center gap-2\">\n            <AlertCircle className=\"h-4 w-4 text-red-600\" />\n            <p className=\"text-sm text-red-800\">Couldn't load automations. Please try again.</p>\n          </div>\n          <Button\n            variant=\"link\"\n            size=\"sm\"\n            onClick={handleRetry}\n            className=\"text-red-600 hover:text-red-700 h-auto p-0\"\n          >\n            Retry\n          </Button>\n        </div>\n      )}\n\n      <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\n        {/* Table Header */}\n        <div className=\"grid grid-cols-[2fr_1fr_120px_140px_140px_80px_100px_60px] gap-4 px-4 py-3 bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-700 uppercase tracking-wide\">\n          <div>Workflow</div>\n          <div>Trigger</div>\n          <div>Status</div>\n          <div>Last run</div>\n          <div>Next message</div>\n          <div className=\"text-right\">Sent</div>\n          <div className=\"text-right\">Completed</div>\n          <div className=\"text-center\">Action</div>\n        </div>\n\n        {isLoading ? (\n          <div className=\"divide-y divide-gray-100\">\n            {[1, 2, 3].map((i) => (\n              <div\n                key={i}\n                className=\"grid grid-cols-[2fr_1fr_120px_140px_140px_80px_100px_60px] gap-4 px-4 py-2.5 mx-2 my-1\"\n              >\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"h-7 w-7 rounded-lg bg-[#E5E7EB] animate-pulse\" />\n                  <div className=\"flex-1 space-y-2\">\n                    <div className=\"h-4 w-40 bg-[#E5E7EB] animate-pulse rounded\" />\n                    <div className=\"h-3 w-56 bg-[#E5E7EB] animate-pulse rounded\" />\n                  </div>\n                </div>\n                <div className=\"h-4 w-full bg-[#E5E7EB] animate-pulse rounded\" />\n                <div className=\"h-6 w-20 bg-[#E5E7EB] animate-pulse rounded-full\" />\n                <div className=\"h-4 w-24 bg-[#E5E7EB] animate-pulse rounded\" />\n                <div className=\"h-4 w-32 bg-[#E5E7EB] animate-pulse rounded\" />\n                <div className=\"h-4 w-12 bg-[#E5E7EB] animate-pulse rounded ml-auto\" />\n                <div className=\"h-4 w-12 bg-[#E5E7EB] animate-pulse rounded ml-auto\" />\n                <div className=\"h-8 w-8 bg-[#E5E7EB] animate-pulse rounded mx-auto\" />\n              </div>\n            ))}\n          </div>\n        ) : workflows.length === 0 ? (\n          <div className=\"py-16 flex flex-col items-center justify-center\">\n            <div className=\"rounded-full bg-gray-100 p-4 mb-3\">\n              <Zap className=\"h-8 w-8 text-gray-400\" />\n            </div>\n            <h3 className=\"text-base font-semibold text-gray-900 mb-1\">No automations available yet</h3>\n            <p className=\"text-sm text-gray-600 max-w-md text-center\">\n              Your follow-up, welcome, and reminder sequences will appear here.\n            </p>\n          </div>\n        ) : (\n          <TooltipProvider>\n            <div className=\"divide-y divide-gray-100\">\n              {workflows.map((automation) => (\n                <div\n                  key={automation.id}\n                  className=\"grid grid-cols-[2fr_1fr_120px_140px_140px_80px_100px_60px] gap-4 px-4 py-2.5 hover:bg-gray-50 transition-colors items-center rounded-lg mx-2 my-1\"\n                >\n                  <div>\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"flex h-7 w-7 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex-shrink-0 relative\">\n                        <automation.icon className=\"h-3.5 w-3.5 text-white\" />\n                        {automation.isRunning && (\n                          <Tooltip>\n                            <TooltipTrigger asChild>\n                              <span className=\"absolute -top-1 -right-1 flex h-2.5 w-2.5 cursor-help\">\n                                <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75\"></span>\n                                <span className=\"relative inline-flex rounded-full h-2.5 w-2.5 bg-blue-500\"></span>\n                              </span>\n                            </TooltipTrigger>\n                            <TooltipContent>\n                              <p className=\"text-xs\">Automation currently running</p>\n                            </TooltipContent>\n                          </Tooltip>\n                        )}\n                      </div>\n                      <div>\n                        <div className=\"text-[15px] font-semibold text-gray-900 leading-snug flex items-center gap-2\">\n                          {automation.name}\n                          {automation.hasError && (\n                            <Tooltip>\n                              <TooltipTrigger asChild>\n                                <Badge variant=\"destructive\" className=\"bg-red-100 text-red-700 hover:bg-red-100 border-red-200 text-[10px] px-1.5 py-0 cursor-help\">\n                                  Error\n                                </Badge>\n                              </TooltipTrigger>\n                              <TooltipContent>\n                                <p className=\"text-xs\">Last run encountered an error</p>\n                              </TooltipContent>\n                            </Tooltip>\n                          )}\n                        </div>\n                        <div className=\"text-xs text-gray-500 mt-0.5 leading-tight\">{automation.description}</div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"text-xs text-gray-600\">{automation.trigger}</div>\n\n                  <div>\n                    <Badge\n                      variant={automation.status === \"Active\" ? \"default\" : \"secondary\"}\n                      className={\n                        automation.status === \"Active\"\n                          ? \"bg-green-100 text-green-700 hover:bg-green-100 border-green-200 text-xs\"\n                          : \"bg-gray-100 text-gray-600 hover:bg-gray-100 border-gray-200 text-xs\"\n                      }\n                    >\n                      {automation.status}\n                    </Badge>\n                  </div>\n\n                  <div className={`text-sm ${automation.hasError ? \"text-red-600 font-medium\" : \"text-gray-700\"}`}>\n                    {automation.hasError ? \"Failed\" : automation.lastRun}\n                  </div>\n\n                  <div className=\"text-sm text-gray-700\">{automation.nextMessage}</div>\n                  <div className=\"text-sm text-gray-500 text-right\">{automation.messagesSent}</div>\n                  <div className=\"text-sm text-gray-500 text-right\">{automation.completed}</div>\n\n                  <div className=\"flex justify-center\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-8 w-8 p-0 hover:bg-blue-50\"\n                      onClick={() => handleViewWorkflow(automation)}\n                    >\n                      <ChevronRight className=\"h-4 w-4 text-gray-400\" />\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </TooltipProvider>\n        )}\n      </div>\n\n      {selectedWorkflow && (\n        <WorkflowDrawer\n          workflow={selectedWorkflow}\n          open={isDrawerOpen}\n          onClose={() => setIsDrawerOpen(false)}\n        />\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5103, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/automations/run-detail-drawer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from \"@/components/ui/sheet\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Mail, TrendingUp, Users, CheckCircle2, XCircle, Clock } from 'lucide-react'\n\ninterface BatchRun {\n  workflowName: string\n  workflowDescription: string\n  totalRecipients: number\n  successCount: number\n  failedCount: number\n  skippedCount: number\n  trigger: string\n  startedAt: string\n  completedAt: string | null\n  duration: string\n  avgOpenRate: number | null\n  avgClickRate: number | null\n}\n\ninterface RunDetailDrawerProps {\n  run: BatchRun\n  open: boolean\n  onClose: () => void\n}\n\nexport function RunDetailDrawer({ run, open, onClose }: RunDetailDrawerProps) {\n  const getSuccessRate = () => {\n    return ((run.successCount / run.totalRecipients) * 100).toFixed(1)\n  }\n\n  const getStatusBadge = () => {\n    const successRate = parseFloat(getSuccessRate())\n    if (successRate === 100) {\n      return { text: \"All succeeded\", class: \"bg-green-100 text-green-700 border-green-200\" }\n    } else if (run.failedCount === run.totalRecipients) {\n      return { text: \"All failed\", class: \"bg-red-100 text-red-700 border-red-200\" }\n    } else if (successRate >= 95) {\n      return { text: \"Mostly succeeded\", class: \"bg-green-100 text-green-700 border-green-200\" }\n    } else {\n      return { text: \"Partial success\", class: \"bg-amber-100 text-amber-700 border-amber-200\" }\n    }\n  }\n\n  const formatTimestamp = (iso: string) => {\n    return new Date(iso).toLocaleString(\"en-GB\", {\n      day: \"numeric\",\n      month: \"short\",\n      year: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    })\n  }\n\n  const statusInfo = getStatusBadge()\n\n  return (\n    <Sheet open={open} onOpenChange={onClose}>\n      <SheetContent className=\"w-full sm:w-[600px] sm:max-w-[600px] overflow-y-auto\">\n        <SheetHeader className=\"border-b pb-4 mb-5\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex items-start gap-3 flex-1\">\n              <div className=\"w-11 h-11 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0\">\n                <Mail className=\"h-5 w-5 text-white\" />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <SheetTitle className=\"text-lg font-bold text-gray-900 mb-1\">\n                  {run.workflowName}\n                </SheetTitle>\n                <p className=\"text-sm text-gray-600\">\n                  Batch run â€¢ {run.totalRecipients.toLocaleString()} contacts\n                </p>\n              </div>\n            </div>\n            <div className=\"flex flex-col items-end gap-2 ml-4\">\n              <Badge variant=\"outline\" className={`text-xs ${statusInfo.class}`}>\n                {statusInfo.text}\n              </Badge>\n              <span className=\"text-xs text-gray-500\">{formatTimestamp(run.startedAt)}</span>\n            </div>\n          </div>\n        </SheetHeader>\n\n        <div className=\"mb-6\">\n          <div className=\"bg-gray-50 px-3 py-2 rounded-t-lg border border-b-0 border-gray-200\">\n            <h3 className=\"text-xs font-semibold text-gray-700 uppercase tracking-wide\">Batch Summary</h3>\n          </div>\n          <div className=\"grid grid-cols-2 gap-x-8 gap-y-4 px-4 py-4 rounded-b-lg border border-gray-200 bg-white\">\n            <div>\n              <div className=\"text-xs text-gray-500 mb-1\">Trigger</div>\n              <div className=\"text-sm font-medium text-gray-900\">{run.trigger}</div>\n            </div>\n            <div>\n              <div className=\"text-xs text-gray-500 mb-1\">Total Recipients</div>\n              <div className=\"text-sm font-medium text-gray-900\">{run.totalRecipients.toLocaleString()}</div>\n            </div>\n            <div>\n              <div className=\"text-xs text-gray-500 mb-1\">Started at</div>\n              <div className=\"text-sm font-medium text-gray-900\">{formatTimestamp(run.startedAt)}</div>\n            </div>\n            <div>\n              <div className=\"text-xs text-gray-500 mb-1\">Completed at</div>\n              <div className=\"text-sm font-medium text-gray-900\">\n                {run.completedAt ? formatTimestamp(run.completedAt) : \"Still running\"}\n              </div>\n            </div>\n            <div>\n              <div className=\"text-xs text-gray-500 mb-1\">Duration</div>\n              <div className=\"text-sm font-medium text-gray-900\">{run.duration}</div>\n            </div>\n            <div>\n              <div className=\"text-xs text-gray-500 mb-1\">Success Rate</div>\n              <div className=\"text-sm font-medium text-gray-900\">{getSuccessRate()}%</div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mb-6\">\n          <div className=\"bg-gray-50 px-3 py-2 rounded-t-lg border border-b-0 border-gray-200\">\n            <h3 className=\"text-xs font-semibold text-gray-700 uppercase tracking-wide\">Delivery Statistics</h3>\n          </div>\n          <div className=\"rounded-b-lg border border-gray-200 bg-white divide-y divide-gray-100\">\n            <div className=\"flex items-center justify-between px-4 py-3\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-8 h-8 rounded-lg bg-green-50 flex items-center justify-center\">\n                  <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\n                </div>\n                <span className=\"text-sm font-medium text-gray-900\">Succeeded</span>\n              </div>\n              <div className=\"text-right\">\n                <div className=\"text-base font-bold text-gray-900\">{run.successCount.toLocaleString()}</div>\n                <div className=\"text-xs text-gray-500\">{((run.successCount / run.totalRecipients) * 100).toFixed(1)}%</div>\n              </div>\n            </div>\n            <div className=\"flex items-center justify-between px-4 py-3\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-8 h-8 rounded-lg bg-red-50 flex items-center justify-center\">\n                  <XCircle className=\"h-4 w-4 text-red-600\" />\n                </div>\n                <span className=\"text-sm font-medium text-gray-900\">Failed</span>\n              </div>\n              <div className=\"text-right\">\n                <div className=\"text-base font-bold text-gray-900\">{run.failedCount.toLocaleString()}</div>\n                <div className=\"text-xs text-gray-500\">{((run.failedCount / run.totalRecipients) * 100).toFixed(1)}%</div>\n              </div>\n            </div>\n            {run.skippedCount > 0 && (\n              <div className=\"flex items-center justify-between px-4 py-3\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center\">\n                    <Clock className=\"h-4 w-4 text-gray-600\" />\n                  </div>\n                  <span className=\"text-sm font-medium text-gray-900\">Skipped</span>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-base font-bold text-gray-900\">{run.skippedCount.toLocaleString()}</div>\n                  <div className=\"text-xs text-gray-500\">{((run.skippedCount / run.totalRecipients) * 100).toFixed(1)}%</div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {run.avgOpenRate !== null && (\n          <div>\n            <div className=\"bg-gray-50 px-3 py-2 rounded-t-lg border border-b-0 border-gray-200\">\n              <h3 className=\"text-xs font-semibold text-gray-700 uppercase tracking-wide\">Engagement Metrics</h3>\n            </div>\n            <div className=\"rounded-b-lg border border-gray-200 bg-white divide-y divide-gray-100\">\n              <div className=\"flex items-center justify-between px-4 py-3\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center\">\n                    <TrendingUp className=\"h-4 w-4 text-blue-600\" />\n                  </div>\n                  <span className=\"text-sm font-medium text-gray-900\">Average Open Rate</span>\n                </div>\n                <div className=\"text-base font-bold text-gray-900\">{run.avgOpenRate}%</div>\n              </div>\n              <div className=\"flex items-center justify-between px-4 py-3\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-8 h-8 rounded-lg bg-green-50 flex items-center justify-center\">\n                    <TrendingUp className=\"h-4 w-4 text-green-600\" />\n                  </div>\n                  <span className=\"text-sm font-medium text-gray-900\">Average Click Rate</span>\n                </div>\n                <div className=\"text-base font-bold text-gray-900\">{run.avgClickRate}%</div>\n              </div>\n            </div>\n          </div>\n        )}\n      </SheetContent>\n    </Sheet>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5825, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/automations/run-history-content.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { Mail, Clock, AlertCircle, Eye, TrendingUp, TrendingDown } from 'lucide-react'\nimport { RunDetailDrawer } from \"./run-detail-drawer\"\nimport type { User } from \"@supabase/supabase-js\"\n\ninterface BatchRun {\n  id: string\n  workflowId: number\n  workflowName: string\n  workflowIcon: string\n  workflowDescription: string\n  totalRecipients: number\n  successCount: number\n  failedCount: number\n  skippedCount: number\n  trigger: string\n  startedAt: string\n  completedAt: string | null\n  duration: string\n  avgOpenRate: number | null\n  avgClickRate: number | null\n}\n\nconst mockRuns: BatchRun[] = [\n  {\n    id: \"1\",\n    workflowId: 1,\n    workflowName: \"New Lead Follow-Up\",\n    workflowIcon: \"mail\",\n    workflowDescription: \"3-step email sequence over 7 days.\",\n    totalRecipients: 1247,\n    successCount: 1198,\n    failedCount: 49,\n    skippedCount: 0,\n    trigger: \"New player added\",\n    startedAt: \"2025-01-18T10:30:00Z\",\n    completedAt: \"2025-01-18T10:35:23Z\",\n    duration: \"5m 23s\",\n    avgOpenRate: 68.4,\n    avgClickRate: 24.7,\n  },\n  {\n    id: \"2\",\n    workflowId: 2,\n    workflowName: \"Signed Player Welcome\",\n    workflowIcon: \"user-check\",\n    workflowDescription: \"Welcome sequence for new signees.\",\n    totalRecipients: 89,\n    successCount: 87,\n    failedCount: 2,\n    skippedCount: 0,\n    trigger: \"Player status changed to Signed\",\n    startedAt: \"2025-01-18T08:15:00Z\",\n    completedAt: \"2025-01-18T08:16:45Z\",\n    duration: \"1m 45s\",\n    avgOpenRate: 82.3,\n    avgClickRate: 31.2,\n  },\n  {\n    id: \"3\",\n    workflowId: 3,\n    workflowName: \"Invoice Reminder\",\n    workflowIcon: \"receipt\",\n    workflowDescription: \"Reminds parents of overdue invoices.\",\n    totalRecipients: 342,\n    successCount: 0,\n    failedCount: 342,\n    skippedCount: 0,\n    trigger: \"Invoice overdue by 7 days\",\n    startedAt: \"2025-01-17T14:00:00Z\",\n    completedAt: \"2025-01-17T14:02:15Z\",\n    duration: \"2m 15s\",\n    avgOpenRate: null,\n    avgClickRate: null,\n  },\n  {\n    id: \"4\",\n    workflowId: 1,\n    workflowName: \"New Lead Follow-Up\",\n    workflowIcon: \"mail\",\n    workflowDescription: \"3-step email sequence over 7 days.\",\n    totalRecipients: 892,\n    successCount: 892,\n    failedCount: 0,\n    skippedCount: 0,\n    trigger: \"New player added\",\n    startedAt: \"2025-01-16T11:00:00Z\",\n    completedAt: \"2025-01-16T11:04:12Z\",\n    duration: \"4m 12s\",\n    avgOpenRate: 71.2,\n    avgClickRate: 28.1,\n  },\n]\n\ninterface RunHistoryContentProps {\n  user: User\n}\n\nexport function RunHistoryContent({ user }: RunHistoryContentProps) {\n  const [runs, setRuns] = useState<BatchRun[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [hasError, setHasError] = useState(false)\n  const [selectedRun, setSelectedRun] = useState<BatchRun | null>(null)\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false)\n  \n  const [workflowFilter, setWorkflowFilter] = useState(\"all\")\n  const [statusFilter, setStatusFilter] = useState(\"all\")\n  const [dateRangeFilter, setDateRangeFilter] = useState(\"30\")\n\n  useEffect(() => {\n    fetchRuns()\n  }, [workflowFilter, statusFilter, dateRangeFilter])\n\n  const fetchRuns = async () => {\n    try {\n      setIsLoading(true)\n      setHasError(false)\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 800))\n      \n      let filteredRuns = [...mockRuns]\n      \n      if (workflowFilter !== \"all\") {\n        filteredRuns = filteredRuns.filter(run => run.workflowId.toString() === workflowFilter)\n      }\n      \n      if (statusFilter !== \"all\") {\n        if (statusFilter === \"succeeded\") {\n          filteredRuns = filteredRuns.filter(run => run.successCount > 0 && run.failedCount === 0)\n        } else if (statusFilter === \"failed\") {\n          filteredRuns = filteredRuns.filter(run => run.failedCount > 0)\n        }\n      }\n      \n      setRuns(filteredRuns)\n    } catch (error) {\n      setHasError(true)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleViewRun = (run: BatchRun) => {\n    setSelectedRun(run)\n    setIsDrawerOpen(true)\n  }\n\n  const handleRetry = () => {\n    fetchRuns()\n  }\n\n  const getSuccessRate = (run: BatchRun) => {\n    return ((run.successCount / run.totalRecipients) * 100).toFixed(1)\n  }\n\n  const getStatusBadge = (run: BatchRun) => {\n    const successRate = parseFloat(getSuccessRate(run))\n    if (successRate === 100) {\n      return { text: \"All succeeded\", class: \"bg-green-100 text-green-700 border-green-200\" }\n    } else if (run.failedCount === run.totalRecipients) {\n      return { text: \"All failed\", class: \"bg-red-100 text-red-700 border-red-200\" }\n    } else if (successRate >= 95) {\n      return { text: \"Mostly succeeded\", class: \"bg-green-100 text-green-700 border-green-200\" }\n    } else {\n      return { text: \"Partial success\", class: \"bg-amber-100 text-amber-700 border-amber-200\" }\n    }\n  }\n\n  const formatTimestamp = (iso: string) => {\n    return new Date(iso).toLocaleString(\"en-GB\", {\n      day: \"numeric\",\n      month: \"short\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    })\n  }\n\n  return (\n    <>\n      <div className=\"mb-5 flex items-start justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Select value={workflowFilter} onValueChange={setWorkflowFilter}>\n            <SelectTrigger className=\"w-[180px]\">\n              <SelectValue placeholder=\"All workflows\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All workflows</SelectItem>\n              <SelectItem value=\"1\">New Lead Follow-Up</SelectItem>\n              <SelectItem value=\"2\">Signed Player Welcome</SelectItem>\n              <SelectItem value=\"3\">Invoice Reminder</SelectItem>\n            </SelectContent>\n          </Select>\n          \n          <Select value={statusFilter} onValueChange={setStatusFilter}>\n            <SelectTrigger className=\"w-[160px]\">\n              <SelectValue placeholder=\"All statuses\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All statuses</SelectItem>\n              <SelectItem value=\"succeeded\">Succeeded</SelectItem>\n              <SelectItem value=\"failed\">Failed</SelectItem>\n            </SelectContent>\n          </Select>\n          \n          <Select value={dateRangeFilter} onValueChange={setDateRangeFilter}>\n            <SelectTrigger className=\"w-[160px]\">\n              <SelectValue placeholder=\"Date range\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"7\">Last 7 days</SelectItem>\n              <SelectItem value=\"30\">Last 30 days</SelectItem>\n              <SelectItem value=\"90\">Last 90 days</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {hasError && (\n        <div className=\"mb-4 flex items-center justify-between rounded-lg border border-red-200 bg-red-50 px-4 py-3 border-l-4 border-l-red-500\">\n          <div className=\"flex items-center gap-2\">\n            <AlertCircle className=\"h-4 w-4 text-red-600\" />\n            <p className=\"text-sm text-red-800\">We couldn't load run history. Please try again.</p>\n          </div>\n          <Button\n            variant=\"link\"\n            size=\"sm\"\n            onClick={handleRetry}\n            className=\"text-red-600 hover:text-red-700 h-auto p-0\"\n          >\n            Retry\n          </Button>\n        </div>\n      )}\n\n      <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\n        <div className=\"grid grid-cols-[2.5fr_1fr_140px_120px_120px_120px_80px] gap-4 px-4 py-3 bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-700 uppercase tracking-wide\">\n          <div>Workflow</div>\n          <div>Recipients</div>\n          <div>Status</div>\n          <div>Started</div>\n          <div>Duration</div>\n          <div>Engagement</div>\n          <div className=\"text-center\">Action</div>\n        </div>\n\n        {isLoading ? (\n          <div className=\"divide-y divide-gray-100\">\n            {[1, 2, 3, 4, 5].map((i) => (\n              <div\n                key={i}\n                className=\"grid grid-cols-[2.5fr_1fr_140px_120px_120px_120px_80px] gap-4 px-4 py-3\"\n              >\n                <div className=\"space-y-2\">\n                  <div className=\"h-4 w-40 bg-[#E5E7EB] animate-pulse rounded\" />\n                  <div className=\"h-3 w-56 bg-[#E5E7EB] animate-pulse rounded\" />\n                </div>\n                <div className=\"h-4 w-32 bg-[#E5E7EB] animate-pulse rounded\" />\n                <div className=\"h-6 w-28 bg-[#E5E7EB] animate-pulse rounded-full\" />\n                <div className=\"h-4 w-20 bg-[#E5E7EB] animate-pulse rounded\" />\n                <div className=\"h-4 w-16 bg-[#E5E7EB] animate-pulse rounded\" />\n                <div className=\"h-4 w-20 bg-[#E5E7EB] animate-pulse rounded\" />\n                <div className=\"h-8 w-8 bg-[#E5E7EB] animate-pulse rounded mx-auto\" />\n              </div>\n            ))}\n          </div>\n        ) : runs.length === 0 ? (\n          <div className=\"py-16 flex flex-col items-center justify-center\">\n            <div className=\"rounded-full bg-gray-100 p-4 mb-3\">\n              <Clock className=\"h-8 w-8 text-gray-400\" />\n            </div>\n            <h3 className=\"text-base font-semibold text-gray-900 mb-1\">No runs to show yet</h3>\n            <p className=\"text-sm text-gray-600 max-w-md text-center\">\n              Once your automations start sending messages, you'll see each batch run listed here.\n            </p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-100\">\n            {runs.map((run) => {\n              const statusInfo = getStatusBadge(run)\n              return (\n                <div\n                  key={run.id}\n                  className=\"grid grid-cols-[2.5fr_1fr_140px_120px_120px_120px_80px] gap-4 px-4 py-3 hover:bg-gray-50 transition-colors items-center\"\n                >\n                  {/* Workflow */}\n                  <div>\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex-shrink-0\">\n                        <Mail className=\"h-4 w-4 text-white\" />\n                      </div>\n                      <div>\n                        <div className=\"text-sm font-semibold text-gray-900 leading-snug\">\n                          {run.workflowName}\n                        </div>\n                        <div className=\"text-xs text-gray-500 mt-0.5 leading-tight\">\n                          {run.workflowDescription}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Recipients */}\n                  <div>\n                    <div className=\"text-base font-bold text-gray-900\">\n                      {run.totalRecipients.toLocaleString()}\n                    </div>\n                    <div className=\"text-xs text-gray-500 mt-0.5\">\n                      <span className=\"text-green-600 font-medium\">{run.successCount.toLocaleString()}</span>\n                      {run.failedCount > 0 && (\n                        <>\n                          {\" â€¢ \"}\n                          <span className=\"text-red-600 font-medium\">{run.failedCount.toLocaleString()} failed</span>\n                        </>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Status */}\n                  <div>\n                    <Badge variant=\"outline\" className={`text-xs ${statusInfo.class}`}>\n                      {statusInfo.text}\n                    </Badge>\n                  </div>\n\n                  {/* Started */}\n                  <div className=\"text-sm text-gray-700\">\n                    {formatTimestamp(run.startedAt)}\n                  </div>\n\n                  {/* Duration */}\n                  <div className=\"text-sm text-gray-500\">{run.duration}</div>\n\n                  {/* Engagement */}\n                  <div>\n                    {run.avgOpenRate !== null ? (\n                      <div className=\"space-y-0.5\">\n                        <div className=\"flex items-center gap-1 text-xs text-gray-700\">\n                          <TrendingUp className=\"h-3 w-3 text-blue-600\" />\n                          <span className=\"font-medium\">{run.avgOpenRate}%</span>\n                          <span className=\"text-gray-500\">opens</span>\n                        </div>\n                        <div className=\"flex items-center gap-1 text-xs text-gray-700\">\n                          <TrendingUp className=\"h-3 w-3 text-green-600\" />\n                          <span className=\"font-medium\">{run.avgClickRate}%</span>\n                          <span className=\"text-gray-500\">clicks</span>\n                        </div>\n                      </div>\n                    ) : (\n                      <div className=\"text-xs text-gray-400\">No data</div>\n                    )}\n                  </div>\n\n                  {/* Action */}\n                  <div className=\"flex justify-center\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-8 w-8 p-0 hover:bg-blue-50\"\n                      onClick={() => handleViewRun(run)}\n                    >\n                      <Eye className=\"h-4 w-4 text-gray-400\" />\n                    </Button>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </div>\n\n      {selectedRun && (\n        <RunDetailDrawer\n          run={selectedRun}\n          open={isDrawerOpen}\n          onClose={() => setIsDrawerOpen(false)}\n        />\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6716, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/components/automations/run-history-tab.tsx"],"sourcesContent":["\"use client\"\n\nimport { RunHistoryContent } from \"./run-history-content\"\nimport type { User } from \"@supabase/supabase-js\"\n\ninterface RunHistoryTabProps {\n  user: User\n}\n\nexport function RunHistoryTab({ user }: RunHistoryTabProps) {\n  return <RunHistoryContent user={user} />\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,SAAS,cAAc,EAAE,IAAI,EAAsB;IACxD,qBAAO,8OAAC,4KAAiB;QAAC,MAAM;;;;;;AAClC","debugId":null}},
    {"offset": {"line": 6738, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghulam/projects/ifgcrm/app/automations/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { AppLayout } from \"@/components/layout/app-layout\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\"\nimport { Mail, UserCheck, Receipt, ChevronRight, Zap, AlertCircle } from 'lucide-react'\nimport { useState, useEffect } from \"react\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport type { User } from \"@supabase/supabase-js\"\nimport { WorkflowDrawer } from \"@/components/automations/workflow-drawer\"\nimport Link from \"next/link\"\nimport { Card } from \"@/components/ui/card\"\nimport { AutomationsTab } from \"@/components/automations/automations-tab\"\nimport { RunHistoryTab } from \"@/components/automations/run-history-tab\"\n\nconst automations = [\n  {\n    id: 1,\n    name: \"New Lead Follow-Up\",\n    description: \"3-step email sequence over 7 days.\",\n    status: \"Active\",\n    trigger: \"Triggered when a new player is added.\",\n    icon: Mail,\n    lastRun: \"2 hours ago\",\n    nextMessage: \"Tomorrow (Email 2 of 3)\",\n    messagesSent: 127,\n    completed: 89,\n    isRunning: true,\n    hasError: false,\n  },\n  {\n    id: 2,\n    name: \"Signed Player Welcome\",\n    description: \"Welcome sequence for new signees.\",\n    status: \"Active\",\n    trigger: \"Triggered when player status changes to Signed.\",\n    icon: UserCheck,\n    lastRun: \"1 day ago\",\n    nextMessage: \"Dec 15 (Email 1 of 2)\",\n    messagesSent: 64,\n    completed: 58,\n    isRunning: false,\n    hasError: false,\n  },\n  {\n    id: 3,\n    name: \"Invoice Reminder\",\n    description: \"Reminders before and after due dates.\",\n    status: \"Paused\",\n    trigger: \"Triggered when invoice due date is within 3 days.\",\n    icon: Receipt,\n    lastRun: \"3 days ago\",\n    nextMessage: \"Paused\",\n    messagesSent: 42,\n    completed: 35,\n    isRunning: false,\n    hasError: false,\n  },\n]\n\nexport default function AutomationsPage() {\n  const [user, setUser] = useState<User | null>(null)\n  const [activeTab, setActiveTab] = useState<\"automations\" | \"history\">(\"automations\")\n\n  useEffect(() => {\n    const supabase = createClient()\n    supabase.auth.getUser().then(({ data: { user } }) => {\n      setUser(user)\n    })\n  }, [])\n\n  if (!user) {\n    return null\n  }\n\n  return (\n    <AppLayout user={user} title=\"Automations\">\n      <link href=\"https://fonts.googleapis.com/css2?family=Oswald:wght@500&display=swap\" rel=\"stylesheet\" />\n      \n      <div className=\"mb-5\">\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-1\">Automations</h1>\n        <p className=\"text-sm text-gray-600\">\n          Lightweight sequences that run follow-ups, welcomes and reminders automatically.\n        </p>\n      </div>\n\n      <Card className=\"mb-6 bg-white border border-gray-200 shadow-sm\">\n        <div className=\"flex gap-1 p-2 border-b\">\n          <button\n            onClick={() => setActiveTab(\"automations\")}\n            className={`px-6 py-2.5 rounded-lg text-[15px] font-medium transition-all ${\n              activeTab === \"automations\"\n                ? \"bg-[#0A47B1] text-white shadow-sm\"\n                : \"text-gray-600 hover:bg-gray-100\"\n            }`}\n            style={{ fontFamily: \"'Oswald', sans-serif\", letterSpacing: \"0.5px\" }}\n          >\n            Automations\n          </button>\n          <button\n            onClick={() => setActiveTab(\"history\")}\n            className={`px-6 py-2.5 rounded-lg text-[15px] font-medium transition-all ${\n              activeTab === \"history\"\n                ? \"bg-[#0A47B1] text-white shadow-sm\"\n                : \"text-gray-600 hover:bg-gray-100\"\n            }`}\n            style={{ fontFamily: \"'Oswald', sans-serif\", letterSpacing: \"0.5px\" }}\n          >\n            Run History\n          </button>\n        </div>\n      </Card>\n\n      {activeTab === \"automations\" ? (\n        <AutomationsTab />\n      ) : (\n        <RunHistoryTab user={user} />\n      )}\n    </AppLayout>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAKA;AAAA;AAAA;AACA;AACA;AAIA;AACA;AACA;AAfA;;;;;;;;;AAiBA,MAAM,cAAc;IAClB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,QAAQ;QACR,SAAS;QACT,MAAM,0MAAI;QACV,SAAS;QACT,aAAa;QACb,cAAc;QACd,WAAW;QACX,WAAW;QACX,UAAU;IACZ;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,QAAQ;QACR,SAAS;QACT,MAAM,6NAAS;QACf,SAAS;QACT,aAAa;QACb,cAAc;QACd,WAAW;QACX,WAAW;QACX,UAAU;IACZ;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,QAAQ;QACR,SAAS;QACT,MAAM,mNAAO;QACb,SAAS;QACT,aAAa;QACb,cAAc;QACd,WAAW;QACX,WAAW;QACX,UAAU;IACZ;CACD;AAEc,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAA4B;IAEtE,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,IAAA,yIAAY;QAC7B,SAAS,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE;YAC9C,QAAQ;QACV;IACF,GAAG,EAAE;IAEL,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,qBACE,8OAAC,mJAAS;QAAC,MAAM;QAAM,OAAM;;0BAC3B,8OAAC;gBAAK,MAAK;gBAAwE,KAAI;;;;;;0BAEvF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAKvC,8OAAC,iIAAI;gBAAC,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS,IAAM,aAAa;4BAC5B,WAAW,CAAC,8DAA8D,EACxE,cAAc,gBACV,sCACA,mCACJ;4BACF,OAAO;gCAAE,YAAY;gCAAwB,eAAe;4BAAQ;sCACrE;;;;;;sCAGD,8OAAC;4BACC,SAAS,IAAM,aAAa;4BAC5B,WAAW,CAAC,8DAA8D,EACxE,cAAc,YACV,sCACA,mCACJ;4BACF,OAAO;gCAAE,YAAY;gCAAwB,eAAe;4BAAQ;sCACrE;;;;;;;;;;;;;;;;;YAMJ,cAAc,8BACb,8OAAC,kKAAc;;;;qCAEf,8OAAC,oKAAa;gBAAC,MAAM;;;;;;;;;;;;AAI7B","debugId":null}}]
}